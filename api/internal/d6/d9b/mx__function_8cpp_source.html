<!-- HTML header for doxygen 1.8.6-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<title>CasADi: mx_function.cpp Source File</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/search.js"></script>
<link rel="search" href="../../search_opensearch.php?v=opensearch.xml" type="application/opensearchdescription+xml" title="CasADi"/>
<link href="../../customdoxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname"><a href="http://casadi.org"><img src="/api/html/casadi.png" alt="CasADi" height="55px"/></a>&#160;<span>internal API<sup style="font-size:30%">(<a href="../../../html/index.html">switch to public</a>)</sup></span> - <a href="https://github.com/casadi/casadi/tree/54931cdaaf5859cff6659b5b4077ebde2dcd9f9f" id="54931cdaaf5859cff6659b5b4077ebde2dcd9f9f" >revision 3.6.3</a></div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "../../search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('../../',true,true,'search.html','Search');
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(function() {
    if ($('.searchresults').length > 0) { searchBox.DOMSearchField().focus(); }
  });
});
/* @license-end */</script>
<div id="main-nav"></div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="../../dir_48a9aa1c679b46779d9ebc692c422a52.html">casadi</a></li><li class="navelem"><a class="el" href="../../dir_625a185d70198555ca301b814de169c9.html">core</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">mx_function.cpp</div>  </div>
</div><!--header-->
<div class="contents">
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment"> *    This file is part of CasADi.</span></div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment"> *    CasADi -- A symbolic framework for dynamic optimization.</span></div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment"> *    Copyright (C) 2010-2023 Joel Andersson, Joris Gillis, Moritz Diehl,</span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment"> *                            KU Leuven. All rights reserved.</span></div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment"> *    Copyright (C) 2011-2014 Greg Horn</span></div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment"> *    CasADi is free software; you can redistribute it and/or</span></div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment"> *    modify it under the terms of the GNU Lesser General Public</span></div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment"> *    License as published by the Free Software Foundation; either</span></div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment"> *    version 3 of the License, or (at your option) any later version.</span></div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="comment"> *    CasADi is distributed in the hope that it will be useful,</span></div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="comment"> *    but WITHOUT ANY WARRANTY; without even the implied warranty of</span></div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="comment"> *    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU</span></div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="comment"> *    Lesser General Public License for more details.</span></div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="comment"> *    You should have received a copy of the GNU Lesser General Public</span></div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="comment"> *    License along with CasADi; if not, write to the Free Software</span></div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="comment"> *    Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301  USA</span></div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160; </div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="preprocessor">#include &quot;mx_function.hpp&quot;</span></div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="preprocessor">#include &quot;casadi_misc.hpp&quot;</span></div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="preprocessor">#include &quot;casadi_common.hpp&quot;</span></div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="preprocessor">#include &quot;global_options.hpp&quot;</span></div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="preprocessor">#include &quot;casadi_interrupt.hpp&quot;</span></div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="preprocessor">#include &quot;io_instruction.hpp&quot;</span></div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="preprocessor">#include &quot;serializing_stream.hpp&quot;</span></div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160; </div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="preprocessor">#include &lt;stack&gt;</span></div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;<span class="preprocessor">#include &lt;typeinfo&gt;</span></div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160; </div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;<span class="comment">// Throw informative error message</span></div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;<span class="preprocessor">#define CASADI_THROW_ERROR(FNAME, WHAT) \</span></div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;<span class="preprocessor">throw CasadiException(&quot;Error in MXFunction::&quot;</span> FNAME &quot; at &quot; + CASADI_WHERE + &quot;:\n&quot;\</div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;  + std::string(WHAT));</div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160; </div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;<span class="keyword">namespace </span><a class="code" href="../../d7/d23/namespacecasadi.html">casadi</a> {</div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160; </div>
<div class="line"><a name="l00043"></a><span class="lineno"><a class="line" href="../../d6/dfe/classcasadi_1_1MXFunction.html#a503ede3e347b716b6a6c34889740a1ad">   43</a></span>&#160;  <a class="code" href="../../d6/dfe/classcasadi_1_1MXFunction.html#a503ede3e347b716b6a6c34889740a1ad">MXFunction::MXFunction</a>(<span class="keyword">const</span> std::string&amp; name,</div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;                         <span class="keyword">const</span> std::vector&lt;MX&gt;&amp; inputv,</div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;                         <span class="keyword">const</span> std::vector&lt;MX&gt;&amp; outputv,</div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;                         <span class="keyword">const</span> std::vector&lt;std::string&gt;&amp; name_in,</div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;                         <span class="keyword">const</span> std::vector&lt;std::string&gt;&amp; name_out) :</div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;    <a class="code" href="../../d7/d72/classcasadi_1_1XFunction.html">XFunction</a>&lt;<a class="code" href="../../d6/dfe/classcasadi_1_1MXFunction.html">MXFunction</a>, <a class="code" href="../../de/d57/classcasadi_1_1MX.html">MX</a>, <a class="code" href="../../d0/d19/classcasadi_1_1MXNode.html">MXNode</a>&gt;(name, inputv, outputv, name_in, name_out) {</div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;  }</div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160; </div>
<div class="line"><a name="l00051"></a><span class="lineno"><a class="line" href="../../d6/dfe/classcasadi_1_1MXFunction.html#a73ce6d14b8ff896efbbddec6f1933054">   51</a></span>&#160;  <a class="code" href="../../d6/dfe/classcasadi_1_1MXFunction.html#a73ce6d14b8ff896efbbddec6f1933054">MXFunction::~MXFunction</a>() {</div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;    <a class="code" href="../../db/da0/classcasadi_1_1ProtoFunction.html#ae169c4425f730d48db91c17abd17a135">clear_mem</a>();</div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;  }</div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160; </div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;  <span class="keyword">const</span> <a class="code" href="../../db/d35/structcasadi_1_1Options.html">Options</a> <a class="code" href="../../d6/dfe/classcasadi_1_1MXFunction.html#a089908722670b1d4286d9f99ea2b0c7d">MXFunction::options_</a></div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;  = {{&amp;<a class="code" href="../../d2/dab/classcasadi_1_1FunctionInternal.html#a9df4d2470bae76e6fa2309a4507562e5">FunctionInternal::options_</a>},</div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;     {{<span class="stringliteral">&quot;default_in&quot;</span>,</div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;       {<a class="code" href="../../d7/d23/namespacecasadi.html#a74a07d00866ce86187cc0f081d340015ac06f59cf6da05161b5feaf28ae9b78a3">OT_DOUBLEVECTOR</a>,</div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;        <span class="stringliteral">&quot;Default input values&quot;</span>}},</div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;      {<span class="stringliteral">&quot;live_variables&quot;</span>,</div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;       {<a class="code" href="../../d7/d23/namespacecasadi.html#a74a07d00866ce86187cc0f081d340015ab443a65f334c43316aa16dea55e65960">OT_BOOL</a>,</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;        <span class="stringliteral">&quot;Reuse variables in the work vector&quot;</span>}},</div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;      {<span class="stringliteral">&quot;print_instructions&quot;</span>,</div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;       {<a class="code" href="../../d7/d23/namespacecasadi.html#a74a07d00866ce86187cc0f081d340015ab443a65f334c43316aa16dea55e65960">OT_BOOL</a>,</div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;        <span class="stringliteral">&quot;Print each operation during evaluation&quot;</span>}},</div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;      {<span class="stringliteral">&quot;cse&quot;</span>,</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;       {<a class="code" href="../../d7/d23/namespacecasadi.html#a74a07d00866ce86187cc0f081d340015ab443a65f334c43316aa16dea55e65960">OT_BOOL</a>,</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;        <span class="stringliteral">&quot;Perform common subexpression elimination (complexity is N*log(N) in graph size)&quot;</span>}},</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;      {<span class="stringliteral">&quot;allow_free&quot;</span>,</div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;       {<a class="code" href="../../d7/d23/namespacecasadi.html#a74a07d00866ce86187cc0f081d340015ab443a65f334c43316aa16dea55e65960">OT_BOOL</a>,</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;        <span class="stringliteral">&quot;Allow construction with free variables (Default: false)&quot;</span>}},</div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;      {<span class="stringliteral">&quot;allow_duplicate_io_names&quot;</span>,</div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;       {<a class="code" href="../../d7/d23/namespacecasadi.html#a74a07d00866ce86187cc0f081d340015ab443a65f334c43316aa16dea55e65960">OT_BOOL</a>,</div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;        <span class="stringliteral">&quot;Allow construction with duplicate io names (Default: false)&quot;</span>}}</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;     }</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;  };</div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160; </div>
<div class="line"><a name="l00078"></a><span class="lineno"><a class="line" href="../../d6/dfe/classcasadi_1_1MXFunction.html#af30d118414dcba8c669c1f359892ddbf">   78</a></span>&#160;  <a class="code" href="../../d7/d23/namespacecasadi.html#a8b909f6932a91230738731512b99127e">Dict</a> <a class="code" href="../../d6/dfe/classcasadi_1_1MXFunction.html#af30d118414dcba8c669c1f359892ddbf">MXFunction::generate_options</a>(<span class="keyword">const</span> std::string&amp; target)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;    <a class="code" href="../../d7/d23/namespacecasadi.html#a8b909f6932a91230738731512b99127e">Dict</a> opts = <a class="code" href="../../d2/dab/classcasadi_1_1FunctionInternal.html#af4ee10c4a685fd14aa2b6b134bb120da">FunctionInternal::generate_options</a>(target);</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;    <span class="comment">//opts[&quot;default_in&quot;] = default_in_;</span></div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;    opts[<span class="stringliteral">&quot;live_variables&quot;</span>] = <a class="code" href="../../d6/dfe/classcasadi_1_1MXFunction.html#a0d2b442bfe02b6a3bc12f5846cce8572">live_variables_</a>;</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;    opts[<span class="stringliteral">&quot;print_instructions&quot;</span>] = <a class="code" href="../../d6/dfe/classcasadi_1_1MXFunction.html#a9e4edfcf09c0565dbd6e438c4067e025">print_instructions_</a>;</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;    <span class="keywordflow">return</span> opts;</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;  }</div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160; </div>
<div class="line"><a name="l00086"></a><span class="lineno"><a class="line" href="../../d6/dfe/classcasadi_1_1MXFunction.html#a0d3fbe99b32e86fe2902947349822c29">   86</a></span>&#160;  <a class="code" href="../../de/d57/classcasadi_1_1MX.html">MX</a> <a class="code" href="../../d6/dfe/classcasadi_1_1MXFunction.html#a0d3fbe99b32e86fe2902947349822c29">MXFunction::instruction_MX</a>(casadi_int k)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d6/dfe/classcasadi_1_1MXFunction.html#ab88c17946b4e00d02dab5531a2e01b36">algorithm_</a>.at(k).data;</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;  }</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160; </div>
<div class="line"><a name="l00090"></a><span class="lineno"><a class="line" href="../../d6/dfe/classcasadi_1_1MXFunction.html#a9f3a5af27f0c800e1a95339e28392ea5">   90</a></span>&#160;  std::vector&lt;casadi_int&gt; <a class="code" href="../../d6/dfe/classcasadi_1_1MXFunction.html#a9f3a5af27f0c800e1a95339e28392ea5">MXFunction::instruction_input</a>(casadi_int k)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;    <span class="keyword">auto</span> e = <a class="code" href="../../d6/dfe/classcasadi_1_1MXFunction.html#ab88c17946b4e00d02dab5531a2e01b36">algorithm_</a>.at(k);</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;    <span class="keywordflow">if</span> (e.op==<a class="code" href="../../d7/d23/namespacecasadi.html#af35251805e44185cb1f079ec41808618a772d0d4a7fe8303114d42995378698d1">OP_INPUT</a>) {</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;      <span class="keyword">const</span> <a class="code" href="../../d8/d99/classcasadi_1_1IOInstruction.html">IOInstruction</a>* io = <span class="keyword">static_cast&lt;</span><span class="keyword">const </span><a class="code" href="../../d8/d99/classcasadi_1_1IOInstruction.html">IOInstruction</a>*<span class="keyword">&gt;</span>(e.data.get());</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;      <span class="keywordflow">return</span> { io-&gt;<a class="code" href="../../d8/d99/classcasadi_1_1IOInstruction.html#aa0cfabffb5000844dcfcfef279f57ad1">ind</a>() };</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;      <span class="keywordflow">return</span> e.arg;</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;    }</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;  }</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160; </div>
<div class="line"><a name="l00100"></a><span class="lineno"><a class="line" href="../../d6/dfe/classcasadi_1_1MXFunction.html#a0dced184c14d0f8505a61249721180f5">  100</a></span>&#160;  std::vector&lt;casadi_int&gt; <a class="code" href="../../d6/dfe/classcasadi_1_1MXFunction.html#a0dced184c14d0f8505a61249721180f5">MXFunction::instruction_output</a>(casadi_int k)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;    <span class="keyword">auto</span> e = <a class="code" href="../../d6/dfe/classcasadi_1_1MXFunction.html#ab88c17946b4e00d02dab5531a2e01b36">algorithm_</a>.at(k);</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;    <span class="keywordflow">if</span> (e.op==<a class="code" href="../../d7/d23/namespacecasadi.html#af35251805e44185cb1f079ec41808618a521a7c58943e1b877b6e73d79948cb68">OP_OUTPUT</a>) {</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;      <span class="keyword">const</span> <a class="code" href="../../d8/d99/classcasadi_1_1IOInstruction.html">IOInstruction</a>* io = <span class="keyword">static_cast&lt;</span><span class="keyword">const </span><a class="code" href="../../d8/d99/classcasadi_1_1IOInstruction.html">IOInstruction</a>*<span class="keyword">&gt;</span>(e.data.get());</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;      <span class="keywordflow">return</span> { io-&gt;<a class="code" href="../../d8/d99/classcasadi_1_1IOInstruction.html#aa0cfabffb5000844dcfcfef279f57ad1">ind</a>() };</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;      <span class="keywordflow">return</span> e.res;</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;    }</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;  }</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160; </div>
<div class="line"><a name="l00110"></a><span class="lineno"><a class="line" href="../../d6/dfe/classcasadi_1_1MXFunction.html#a3fba416a4952ec5ec7f66967c6daedd4">  110</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="../../d6/dfe/classcasadi_1_1MXFunction.html#a3fba416a4952ec5ec7f66967c6daedd4">MXFunction::init</a>(<span class="keyword">const</span> <a class="code" href="../../d7/d23/namespacecasadi.html#a8b909f6932a91230738731512b99127e">Dict</a>&amp; opts) {</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;    <span class="comment">// Call the init function of the base class</span></div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;    <a class="code" href="../../d7/d72/classcasadi_1_1XFunction.html#a7fe0d25fa935f309b4ad4894caa49760">XFunction&lt;MXFunction, MX, MXNode&gt;::init</a>(opts);</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../db/da0/classcasadi_1_1ProtoFunction.html#a83a58f033fda51a76e1c390019f68d7a">verbose_</a>) casadi_message(<a class="code" href="../../db/da0/classcasadi_1_1ProtoFunction.html#a53d1e8f2784eb9e5cb8b9f66d68a8840">name_</a> + <span class="stringliteral">&quot;::init&quot;</span>);</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160; </div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;    <span class="comment">// Default (temporary) options</span></div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;    <a class="code" href="../../d6/dfe/classcasadi_1_1MXFunction.html#a0d2b442bfe02b6a3bc12f5846cce8572">live_variables_</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;    <a class="code" href="../../d6/dfe/classcasadi_1_1MXFunction.html#a9e4edfcf09c0565dbd6e438c4067e025">print_instructions_</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;    <span class="keywordtype">bool</span> cse_opt = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;    <span class="keywordtype">bool</span> allow_free = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160; </div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;    <span class="comment">// Read options</span></div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp;&amp; op : opts) {</div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;      <span class="keywordflow">if</span> (op.first==<span class="stringliteral">&quot;default_in&quot;</span>) {</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;        <a class="code" href="../../d6/dfe/classcasadi_1_1MXFunction.html#a0e8631d50b18df51bd752e9c986a59a9">default_in_</a> = op.second;</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (op.first==<span class="stringliteral">&quot;live_variables&quot;</span>) {</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;        <a class="code" href="../../d6/dfe/classcasadi_1_1MXFunction.html#a0d2b442bfe02b6a3bc12f5846cce8572">live_variables_</a> = op.second;</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (op.first==<span class="stringliteral">&quot;print_instructions&quot;</span>) {</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;        <a class="code" href="../../d6/dfe/classcasadi_1_1MXFunction.html#a9e4edfcf09c0565dbd6e438c4067e025">print_instructions_</a> = op.second;</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (op.first==<span class="stringliteral">&quot;cse&quot;</span>) {</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;        cse_opt = op.second;</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (op.first==<span class="stringliteral">&quot;allow_free&quot;</span>) {</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;        allow_free = op.second;</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;      }</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;    }</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160; </div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;    <span class="comment">// Check/set default inputs</span></div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d6/dfe/classcasadi_1_1MXFunction.html#a0e8631d50b18df51bd752e9c986a59a9">default_in_</a>.empty()) {</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;      <a class="code" href="../../d6/dfe/classcasadi_1_1MXFunction.html#a0e8631d50b18df51bd752e9c986a59a9">default_in_</a>.resize(<a class="code" href="../../d2/dab/classcasadi_1_1FunctionInternal.html#a7d2ec172fa3fee013cef648f1ce165fa">n_in_</a>, 0);</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;      casadi_assert(<a class="code" href="../../d6/dfe/classcasadi_1_1MXFunction.html#a0e8631d50b18df51bd752e9c986a59a9">default_in_</a>.size()==<a class="code" href="../../d2/dab/classcasadi_1_1FunctionInternal.html#a7d2ec172fa3fee013cef648f1ce165fa">n_in_</a>,</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;                            <span class="stringliteral">&quot;Option &#39;default_in&#39; has incorrect length&quot;</span>);</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;    }</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160; </div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;    <span class="keywordflow">if</span> (cse_opt) <a class="code" href="../../d7/d72/classcasadi_1_1XFunction.html#a101358270be8d42a155edc39d927d6f3">out_</a> = cse(<a class="code" href="../../d7/d72/classcasadi_1_1XFunction.html#a101358270be8d42a155edc39d927d6f3">out_</a>);</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160; </div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;    <span class="comment">// Stack used to sort the computational graph</span></div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;    std::stack&lt;MXNode*&gt; s;</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160; </div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;    <span class="comment">// All nodes</span></div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;    std::vector&lt;MXNode*&gt; nodes;</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160; </div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;    <span class="comment">// Add the list of nodes</span></div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;    <span class="keywordflow">for</span> (casadi_int ind=0; ind&lt;<a class="code" href="../../d7/d72/classcasadi_1_1XFunction.html#a101358270be8d42a155edc39d927d6f3">out_</a>.size(); ++ind) {</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;      <span class="comment">// Loop over primitives of each output</span></div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;      std::vector&lt;MX&gt; prim = <a class="code" href="../../d7/d72/classcasadi_1_1XFunction.html#a101358270be8d42a155edc39d927d6f3">out_</a>[ind].primitives();</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;      casadi_int nz_offset=0;</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;      <span class="keywordflow">for</span> (casadi_int p=0; p&lt;prim.size(); ++p) {</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;        <span class="comment">// Get the nodes using a depth first search</span></div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;        s.push(prim[p].get());</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;        <a class="code" href="../../d7/d72/classcasadi_1_1XFunction.html#af4e73ad0f163fd02355960bd7ceb19ad">sort_depth_first</a>(s, nodes);</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;        <span class="comment">// Add an output instruction (&quot;data&quot; below will take ownership)</span></div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;        nodes.push_back(<span class="keyword">new</span> <a class="code" href="../../df/da2/classcasadi_1_1Output.html">Output</a>(prim[p], ind, p, nz_offset));</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;        <span class="comment">// Update offset</span></div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;        nz_offset += prim[p].nnz();</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;      }</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;    }</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160; </div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;    <span class="comment">// Set the temporary variables to be the corresponding place in the sorted graph</span></div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;    <span class="keywordflow">for</span> (casadi_int i=0; i&lt;nodes.size(); ++i) {</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;      nodes[i]-&gt;temp = i;</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;    }</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160; </div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;    <span class="comment">// Place in the algorithm for each node</span></div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;    std::vector&lt;casadi_int&gt; place_in_alg;</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;    place_in_alg.reserve(nodes.size());</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160; </div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;    <span class="comment">// Input instructions</span></div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;    std::vector&lt;std::pair&lt;casadi_int, MXNode*&gt; &gt; symb_loc;</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160; </div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;    <span class="comment">// Count the number of times each node is used</span></div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;    std::vector&lt;casadi_int&gt; refcount(nodes.size(), 0);</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160; </div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;    <span class="comment">// Get the sequence of instructions for the virtual machine</span></div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;    <a class="code" href="../../d6/dfe/classcasadi_1_1MXFunction.html#ab88c17946b4e00d02dab5531a2e01b36">algorithm_</a>.resize(0);</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;    <a class="code" href="../../d6/dfe/classcasadi_1_1MXFunction.html#ab88c17946b4e00d02dab5531a2e01b36">algorithm_</a>.reserve(nodes.size());</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="../../d0/d19/classcasadi_1_1MXNode.html">MXNode</a>* n : nodes) {</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160; </div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;      <span class="comment">// Get the operation</span></div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;      casadi_int op = n-&gt;op();</div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160; </div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;      <span class="comment">// Store location if parameter (or input)</span></div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;      <span class="keywordflow">if</span> (op==<a class="code" href="../../d7/d23/namespacecasadi.html#af35251805e44185cb1f079ec41808618aae6785283527a2b4903fa3aa9f56d3d6">OP_PARAMETER</a>) {</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;        symb_loc.push_back(std::make_pair(<a class="code" href="../../d6/dfe/classcasadi_1_1MXFunction.html#ab88c17946b4e00d02dab5531a2e01b36">algorithm_</a>.size(), n));</div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;      }</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160; </div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;      <span class="comment">// If a new element in the algorithm needs to be added</span></div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;      <span class="keywordflow">if</span> (op&gt;=0) {</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;        <a class="code" href="../../d8/dd5/structcasadi_1_1MXAlgEl.html">AlgEl</a> ae;</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;        ae.<a class="code" href="../../d8/dd5/structcasadi_1_1MXAlgEl.html#ae780834fa38d37587529b4c7e4825118">op</a> = op;</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;        ae.<a class="code" href="../../d8/dd5/structcasadi_1_1MXAlgEl.html#a0b28f7ab10ae3d3187d3888106d9bd03">data</a>.<a class="code" href="../../d5/d4a/classcasadi_1_1SharedObject.html#a18ebf8667e35f369e9a3ec001e06e28f">own</a>(n);</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;        ae.<a class="code" href="../../d8/dd5/structcasadi_1_1MXAlgEl.html#a3c728ef892b2e33feb82ff7ac6d00163">arg</a>.resize(n-&gt;n_dep());</div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;        <span class="keywordflow">for</span> (casadi_int i=0; i&lt;n-&gt;n_dep(); ++i) {</div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;          ae.<a class="code" href="../../d8/dd5/structcasadi_1_1MXAlgEl.html#a3c728ef892b2e33feb82ff7ac6d00163">arg</a>[i] = n-&gt;dep(i)-&gt;temp;</div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;        }</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;        ae.<a class="code" href="../../d8/dd5/structcasadi_1_1MXAlgEl.html#af8a229b7d9a8f119e2b13146bcd366d3">res</a>.resize(n-&gt;nout());</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;        <span class="keywordflow">if</span> (n-&gt;has_output()) {</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;          std::fill(ae.<a class="code" href="../../d8/dd5/structcasadi_1_1MXAlgEl.html#af8a229b7d9a8f119e2b13146bcd366d3">res</a>.begin(), ae.<a class="code" href="../../d8/dd5/structcasadi_1_1MXAlgEl.html#af8a229b7d9a8f119e2b13146bcd366d3">res</a>.end(), -1);</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!ae.<a class="code" href="../../d8/dd5/structcasadi_1_1MXAlgEl.html#af8a229b7d9a8f119e2b13146bcd366d3">res</a>.empty()) {</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;          ae.<a class="code" href="../../d8/dd5/structcasadi_1_1MXAlgEl.html#af8a229b7d9a8f119e2b13146bcd366d3">res</a>[0] = n-&gt;temp;</div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;        }</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160; </div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;        <span class="comment">// Increase the reference count of the dependencies</span></div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;        <span class="keywordflow">for</span> (casadi_int c=0; c&lt;ae.<a class="code" href="../../d8/dd5/structcasadi_1_1MXAlgEl.html#a3c728ef892b2e33feb82ff7ac6d00163">arg</a>.size(); ++c) {</div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;          <span class="keywordflow">if</span> (ae.<a class="code" href="../../d8/dd5/structcasadi_1_1MXAlgEl.html#a3c728ef892b2e33feb82ff7ac6d00163">arg</a>[c]&gt;=0) {</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;            refcount[ae.<a class="code" href="../../d8/dd5/structcasadi_1_1MXAlgEl.html#a3c728ef892b2e33feb82ff7ac6d00163">arg</a>[c]]++;</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;          }</div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;        }</div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160; </div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;        <span class="comment">// Save to algorithm</span></div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;        place_in_alg.push_back(<a class="code" href="../../d6/dfe/classcasadi_1_1MXFunction.html#ab88c17946b4e00d02dab5531a2e01b36">algorithm_</a>.size());</div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;        <a class="code" href="../../d6/dfe/classcasadi_1_1MXFunction.html#ab88c17946b4e00d02dab5531a2e01b36">algorithm_</a>.push_back(ae);</div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160; </div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;      } <span class="keywordflow">else</span> { <span class="comment">// Function output node</span></div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;        <span class="comment">// Get the output index</span></div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;        casadi_int oind = n-&gt;which_output();</div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160; </div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;        <span class="comment">// Get the index of the parent node</span></div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;        casadi_int pind = place_in_alg[n-&gt;dep(0)-&gt;temp];</div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160; </div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;        <span class="comment">// Save location in the algorithm element corresponding to the parent node</span></div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;        casadi_int&amp; otmp = <a class="code" href="../../d6/dfe/classcasadi_1_1MXFunction.html#ab88c17946b4e00d02dab5531a2e01b36">algorithm_</a>[pind].res.at(oind);</div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;        <span class="keywordflow">if</span> (otmp&lt;0) {</div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;          otmp = n-&gt;temp; <span class="comment">// First time this function output is encountered, save to algorithm</span></div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;          n-&gt;temp = otmp; <span class="comment">// Function output is a duplicate, use the node encountered first</span></div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;        }</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160; </div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;        <span class="comment">// Not in the algorithm</span></div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;        place_in_alg.push_back(-1);</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;      }</div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;    }</div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160; </div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;    <span class="comment">// Place in the work vector for each of the nodes in the tree (overwrites the reference counter)</span></div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;    std::vector&lt;casadi_int&gt;&amp; place = place_in_alg; <span class="comment">// Reuse memory as it is no longer needed</span></div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;    place.resize(nodes.size());</div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160; </div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;    <span class="comment">// Stack with unused elements in the work vector, sorted by sparsity pattern</span></div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;    SPARSITY_MAP&lt;casadi_int, std::stack&lt;casadi_int&gt; &gt; unused_all;</div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160; </div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;    <span class="comment">// Work vector size</span></div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;    casadi_int worksize = 0;</div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160; </div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;    <span class="comment">// Find a place in the work vector for the operation</span></div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp;&amp; e : <a class="code" href="../../d6/dfe/classcasadi_1_1MXFunction.html#ab88c17946b4e00d02dab5531a2e01b36">algorithm_</a>) {</div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160; </div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;      <span class="comment">// There are two tasks, allocate memory of the result and free the</span></div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;      <span class="comment">// memory off the arguments, order depends on whether inplace is possible</span></div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;      casadi_int first_to_free = 0;</div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;      casadi_int last_to_free = e.data-&gt;n_inplace();</div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;      <span class="keywordflow">for</span> (casadi_int task=0; task&lt;2; ++task) {</div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160; </div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;        <span class="comment">// Dereference or free the memory of the arguments</span></div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;        <span class="keywordflow">for</span> (casadi_int c=last_to_free-1; c&gt;=first_to_free; --c) { <span class="comment">// reverse order so that the</span></div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;                                                          <span class="comment">// first argument will end up</span></div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;                                                          <span class="comment">// at the top of the stack</span></div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160; </div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;          <span class="comment">// Index of the argument</span></div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;          casadi_int&amp; ch_ind = e.arg[c];</div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;          <span class="keywordflow">if</span> (ch_ind&gt;=0) {</div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160; </div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;            <span class="comment">// Decrease reference count and add to the stack of</span></div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;            <span class="comment">// unused variables if the count hits zero</span></div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;            casadi_int remaining = --refcount[ch_ind];</div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160; </div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;            <span class="comment">// Free variable for reuse</span></div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../d6/dfe/classcasadi_1_1MXFunction.html#a0d2b442bfe02b6a3bc12f5846cce8572">live_variables_</a> &amp;&amp; remaining==0) {</div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160; </div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;              <span class="comment">// Get a pointer to the sparsity pattern of the argument that can be freed</span></div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;              casadi_int nnz = nodes[ch_ind]-&gt;sparsity().nnz();</div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160; </div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;              <span class="comment">// Add to the stack of unused work vector elements for the current sparsity</span></div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;              unused_all[nnz].push(place[ch_ind]);</div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;            }</div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160; </div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;            <span class="comment">// Point to the place in the work vector instead of to the place in the list of nodes</span></div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;            ch_ind = place[ch_ind];</div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;          }</div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;        }</div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160; </div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;        <span class="comment">// Nothing more to allocate</span></div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;        <span class="keywordflow">if</span> (task==1) <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160; </div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;        <span class="comment">// Free the rest in the next iteration</span></div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;        first_to_free = last_to_free;</div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;        last_to_free = e.arg.size();</div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160; </div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;        <span class="comment">// Allocate/reuse memory for the results of the operation</span></div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;        <span class="keywordflow">for</span> (casadi_int c=0; c&lt;e.res.size(); ++c) {</div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;          <span class="keywordflow">if</span> (e.res[c]&gt;=0) {</div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160; </div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;            <span class="comment">// Are reuse of variables (live variables) enabled?</span></div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../d6/dfe/classcasadi_1_1MXFunction.html#a0d2b442bfe02b6a3bc12f5846cce8572">live_variables_</a>) {</div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;              <span class="comment">// Get a pointer to the sparsity pattern node</span></div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;              casadi_int nnz = e.data-&gt;sparsity(c).nnz();</div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160; </div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;              <span class="comment">// Get a reference to the stack for the current sparsity</span></div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;              std::stack&lt;casadi_int&gt;&amp; unused = unused_all[nnz];</div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160; </div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;              <span class="comment">// Try to reuse a variable from the stack if possible (last in, first out)</span></div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;              <span class="keywordflow">if</span> (!unused.empty()) {</div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;                e.res[c] = place[e.res[c]] = unused.top();</div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;                unused.pop();</div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;                <span class="keywordflow">continue</span>; <span class="comment">// Success, no new element needed in the work vector</span></div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;              }</div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;            }</div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160; </div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;            <span class="comment">// Allocate a new element in the work vector</span></div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;            e.res[c] = place[e.res[c]] = worksize++;</div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;          }</div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;        }</div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;      }</div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;    }</div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160; </div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../db/da0/classcasadi_1_1ProtoFunction.html#a83a58f033fda51a76e1c390019f68d7a">verbose_</a>) {</div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../d6/dfe/classcasadi_1_1MXFunction.html#a0d2b442bfe02b6a3bc12f5846cce8572">live_variables_</a>) {</div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;        casadi_message(<span class="stringliteral">&quot;Using live variables: work array is &quot;</span> + <a class="code" href="../../d7/d23/namespacecasadi.html#a88082fbf80560c888949bb765d9ccea0">str</a>(worksize)</div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;                       + <span class="stringliteral">&quot; instead of &quot;</span> + <a class="code" href="../../d7/d23/namespacecasadi.html#a88082fbf80560c888949bb765d9ccea0">str</a>(nodes.size()));</div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;      } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;        casadi_message(<span class="stringliteral">&quot;Live variables disabled.&quot;</span>);</div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;      }</div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;    }</div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160; </div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;    <span class="comment">// Allocate work vectors (numeric)</span></div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;    <a class="code" href="../../d6/dfe/classcasadi_1_1MXFunction.html#a0a81aa9b5af5e6f5239678d5b2347361">workloc_</a>.resize(worksize+1);</div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;    std::fill(<a class="code" href="../../d6/dfe/classcasadi_1_1MXFunction.html#a0a81aa9b5af5e6f5239678d5b2347361">workloc_</a>.begin(), <a class="code" href="../../d6/dfe/classcasadi_1_1MXFunction.html#a0a81aa9b5af5e6f5239678d5b2347361">workloc_</a>.end(), -1);</div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;    <span class="keywordtype">size_t</span> wind=0, <a class="code" href="../../d2/dab/classcasadi_1_1FunctionInternal.html#abbd778a62b22d56f6a50ed45f1adb926">sz_w</a>=0;</div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp;&amp; e : <a class="code" href="../../d6/dfe/classcasadi_1_1MXFunction.html#ab88c17946b4e00d02dab5531a2e01b36">algorithm_</a>) {</div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;      <span class="keywordflow">if</span> (e.op!=<a class="code" href="../../d7/d23/namespacecasadi.html#af35251805e44185cb1f079ec41808618a521a7c58943e1b877b6e73d79948cb68">OP_OUTPUT</a>) {</div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;        <span class="keywordflow">for</span> (casadi_int c=0; c&lt;e.res.size(); ++c) {</div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;          <span class="keywordflow">if</span> (e.res[c]&gt;=0) {</div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;            <a class="code" href="../../d2/dab/classcasadi_1_1FunctionInternal.html#a4e50c40106105c8d58aa16f6e9aa564c">alloc_arg</a>(e.data-&gt;sz_arg());</div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;            <a class="code" href="../../d2/dab/classcasadi_1_1FunctionInternal.html#a2c2f3f5e118cc1283f6f1537c9932bad">alloc_res</a>(e.data-&gt;sz_res());</div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;            <a class="code" href="../../d2/dab/classcasadi_1_1FunctionInternal.html#a06082362fcb23031a134b4d4e6471c11">alloc_iw</a>(e.data-&gt;sz_iw());</div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;            <a class="code" href="../../d2/dab/classcasadi_1_1FunctionInternal.html#abbd778a62b22d56f6a50ed45f1adb926">sz_w</a> = std::max(<a class="code" href="../../d2/dab/classcasadi_1_1FunctionInternal.html#abbd778a62b22d56f6a50ed45f1adb926">sz_w</a>, e.data-&gt;sz_w());</div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../d6/dfe/classcasadi_1_1MXFunction.html#a0a81aa9b5af5e6f5239678d5b2347361">workloc_</a>[e.res[c]] &lt; 0) {</div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;              <a class="code" href="../../d6/dfe/classcasadi_1_1MXFunction.html#a0a81aa9b5af5e6f5239678d5b2347361">workloc_</a>[e.res[c]] = wind;</div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;              wind += e.data-&gt;sparsity(c).nnz();</div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;            }</div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;          }</div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;        }</div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;      }</div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;    }</div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;    <a class="code" href="../../d6/dfe/classcasadi_1_1MXFunction.html#a0a81aa9b5af5e6f5239678d5b2347361">workloc_</a>.back()=wind;</div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;    <span class="keywordflow">for</span> (casadi_int i=0; i&lt;<a class="code" href="../../d6/dfe/classcasadi_1_1MXFunction.html#a0a81aa9b5af5e6f5239678d5b2347361">workloc_</a>.size(); ++i) {</div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../d6/dfe/classcasadi_1_1MXFunction.html#a0a81aa9b5af5e6f5239678d5b2347361">workloc_</a>[i]&lt;0) <a class="code" href="../../d6/dfe/classcasadi_1_1MXFunction.html#a0a81aa9b5af5e6f5239678d5b2347361">workloc_</a>[i] = i==0 ? 0 : <a class="code" href="../../d6/dfe/classcasadi_1_1MXFunction.html#a0a81aa9b5af5e6f5239678d5b2347361">workloc_</a>[i-1];</div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;      <a class="code" href="../../d6/dfe/classcasadi_1_1MXFunction.html#a0a81aa9b5af5e6f5239678d5b2347361">workloc_</a>[i] += <a class="code" href="../../d2/dab/classcasadi_1_1FunctionInternal.html#abbd778a62b22d56f6a50ed45f1adb926">sz_w</a>;</div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;    }</div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;    <a class="code" href="../../d2/dab/classcasadi_1_1FunctionInternal.html#abbd778a62b22d56f6a50ed45f1adb926">sz_w</a> += wind;</div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;    <a class="code" href="../../d2/dab/classcasadi_1_1FunctionInternal.html#acd701154519bf9f8d787a936ef95246c">alloc_w</a>(<a class="code" href="../../d2/dab/classcasadi_1_1FunctionInternal.html#abbd778a62b22d56f6a50ed45f1adb926">sz_w</a>);</div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160; </div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;    <span class="comment">// Reset the temporary variables</span></div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;    <span class="keywordflow">for</span> (casadi_int i=0; i&lt;nodes.size(); ++i) {</div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;      <span class="keywordflow">if</span> (nodes[i]) {</div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;        nodes[i]-&gt;temp = 0;</div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;      }</div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;    }</div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160; </div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;    <span class="comment">// Now mark each input&#39;s place in the algorithm</span></div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span> it=symb_loc.begin(); it!=symb_loc.end(); ++it) {</div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;      it-&gt;second-&gt;temp = it-&gt;first+1;</div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;    }</div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160; </div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;    <span class="comment">// Add input instructions, loop over inputs</span></div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;    <span class="keywordflow">for</span> (casadi_int ind=0; ind&lt;<a class="code" href="../../d7/d72/classcasadi_1_1XFunction.html#abbdc6a6d3bb13c1a3e2c21e74648da3a">in_</a>.size(); ++ind) {</div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;      <span class="comment">// Loop over symbolic primitives of each input</span></div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;      std::vector&lt;MX&gt; prim = <a class="code" href="../../d7/d72/classcasadi_1_1XFunction.html#abbdc6a6d3bb13c1a3e2c21e74648da3a">in_</a>[ind].primitives();</div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;      casadi_int nz_offset=0;</div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;      <span class="keywordflow">for</span> (casadi_int p=0; p&lt;prim.size(); ++p) {</div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;        casadi_int i = prim[p].get_temp()-1;</div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;        <span class="keywordflow">if</span> (i&gt;=0) {</div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;          <span class="comment">// Mark read</span></div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;          prim[p].set_temp(0);</div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160; </div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;          <span class="comment">// Replace parameter with input instruction</span></div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;          <a class="code" href="../../d6/dfe/classcasadi_1_1MXFunction.html#ab88c17946b4e00d02dab5531a2e01b36">algorithm_</a>[i].data.own(<span class="keyword">new</span> <a class="code" href="../../d1/d44/classcasadi_1_1Input.html">Input</a>(prim[p].sparsity(), ind, p, nz_offset));</div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;          <a class="code" href="../../d6/dfe/classcasadi_1_1MXFunction.html#ab88c17946b4e00d02dab5531a2e01b36">algorithm_</a>[i].op = <a class="code" href="../../d7/d23/namespacecasadi.html#af35251805e44185cb1f079ec41808618a772d0d4a7fe8303114d42995378698d1">OP_INPUT</a>;</div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;        }</div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;        nz_offset += prim[p]-&gt;nnz();</div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;      }</div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;    }</div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160; </div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;    <span class="comment">// Locate free variables</span></div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;    <a class="code" href="../../d6/dfe/classcasadi_1_1MXFunction.html#af1534d0ba72feb537e207c8c330cc2df">free_vars_</a>.clear();</div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span> it=symb_loc.begin(); it!=symb_loc.end(); ++it) {</div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;      casadi_int i = it-&gt;second-&gt;temp-1;</div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;      <span class="keywordflow">if</span> (i&gt;=0) {</div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;        <span class="comment">// Save to list of free parameters</span></div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;        <a class="code" href="../../d6/dfe/classcasadi_1_1MXFunction.html#af1534d0ba72feb537e207c8c330cc2df">free_vars_</a>.push_back(<a class="code" href="../../de/d57/classcasadi_1_1MX.html#a0ba0ef46e83bedc48101b8010d6cd97a">MX::create</a>(it-&gt;second));</div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160; </div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;        <span class="comment">// Remove marker</span></div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;        it-&gt;second-&gt;temp=0;</div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;      }</div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;    }</div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160; </div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;    <span class="keywordflow">if</span> (!allow_free &amp;&amp; <a class="code" href="../../d6/dfe/classcasadi_1_1MXFunction.html#a8a7280999dbafc4e3287e3b31e59ce39">has_free</a>()) {</div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;      casadi_error(<a class="code" href="../../db/da0/classcasadi_1_1ProtoFunction.html#a53d1e8f2784eb9e5cb8b9f66d68a8840">name_</a> + <span class="stringliteral">&quot;::init: Initialization failed since variables [&quot;</span> +</div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;      <a class="code" href="../../d7/d23/namespacecasadi.html#a15db33597e365a0341785d1cb058771c">join</a>(<a class="code" href="../../d6/dfe/classcasadi_1_1MXFunction.html#a688b4f028a7f6601a157547556805959">get_free</a>(), <span class="stringliteral">&quot;, &quot;</span>) + <span class="stringliteral">&quot;] are free. These symbols occur in the output expressions &quot;</span></div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;      <span class="stringliteral">&quot;but you forgot to declare these as inputs. &quot;</span></div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;      <span class="stringliteral">&quot;Set option &#39;allow_free&#39; to allow free variables.&quot;</span>);</div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;    }</div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160; </div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;    <span class="comment">// Does any embedded function have reference counting for codegen?</span></div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp;&amp; a : <a class="code" href="../../d6/dfe/classcasadi_1_1MXFunction.html#ab88c17946b4e00d02dab5531a2e01b36">algorithm_</a>) {</div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;      <span class="keywordflow">if</span> (a.data-&gt;has_refcount()) {</div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;        <a class="code" href="../../d2/dab/classcasadi_1_1FunctionInternal.html#a00027e6e795b594a411b944299b40581">has_refcount_</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;      }</div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;    }</div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;  }</div>
<div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160; </div>
<div class="line"><a name="l00421"></a><span class="lineno"><a class="line" href="../../d6/dfe/classcasadi_1_1MXFunction.html#a8bdece426ffbbd4459004b7997cf4a1a">  421</a></span>&#160;  <span class="keywordtype">int</span> <a class="code" href="../../d6/dfe/classcasadi_1_1MXFunction.html#a8bdece426ffbbd4459004b7997cf4a1a">MXFunction::eval</a>(<span class="keyword">const</span> <span class="keywordtype">double</span>** arg, <span class="keywordtype">double</span>** res,</div>
<div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;      casadi_int* iw, <span class="keywordtype">double</span>* w, <span class="keywordtype">void</span>* mem)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../db/da0/classcasadi_1_1ProtoFunction.html#a83a58f033fda51a76e1c390019f68d7a">verbose_</a>) casadi_message(<a class="code" href="../../db/da0/classcasadi_1_1ProtoFunction.html#a53d1e8f2784eb9e5cb8b9f66d68a8840">name_</a> + <span class="stringliteral">&quot;::eval&quot;</span>);</div>
<div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;    <span class="comment">// Work vector and temporaries to hold pointers to operation input and outputs</span></div>
<div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">double</span>** arg1 = arg+<a class="code" href="../../d2/dab/classcasadi_1_1FunctionInternal.html#a7d2ec172fa3fee013cef648f1ce165fa">n_in_</a>;</div>
<div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;    <span class="keywordtype">double</span>** res1 = res+<a class="code" href="../../d2/dab/classcasadi_1_1FunctionInternal.html#a5ac9ebd019509a0f47c18f022227815d">n_out_</a>;</div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160; </div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;    <span class="comment">// Make sure that there are no free variables</span></div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="../../d6/dfe/classcasadi_1_1MXFunction.html#af1534d0ba72feb537e207c8c330cc2df">free_vars_</a>.empty()) {</div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;      std::stringstream ss;</div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;      <a class="code" href="../../d2/dab/classcasadi_1_1FunctionInternal.html#abb2bcf8627a72ebb5b6d6ec9d55cc572">disp</a>(ss, <span class="keyword">false</span>);</div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;      casadi_error(<span class="stringliteral">&quot;Cannot evaluate \&quot;&quot;</span> + ss.str() + <span class="stringliteral">&quot;\&quot; since variables &quot;</span></div>
<div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;                   + <a class="code" href="../../d7/d23/namespacecasadi.html#a88082fbf80560c888949bb765d9ccea0">str</a>(<a class="code" href="../../d6/dfe/classcasadi_1_1MXFunction.html#af1534d0ba72feb537e207c8c330cc2df">free_vars_</a>) + <span class="stringliteral">&quot; are free.&quot;</span>);</div>
<div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;    }</div>
<div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160; </div>
<div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;    <span class="comment">// Operation number (for printing)</span></div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;    casadi_int k = 0;</div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160; </div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;    <span class="comment">// Evaluate all of the nodes of the algorithm:</span></div>
<div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;    <span class="comment">// should only evaluate nodes that have not yet been calculated!</span></div>
<div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp;&amp; e : <a class="code" href="../../d6/dfe/classcasadi_1_1MXFunction.html#ab88c17946b4e00d02dab5531a2e01b36">algorithm_</a>) {</div>
<div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;      <span class="comment">// Perform the operation</span></div>
<div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;      <span class="keywordflow">if</span> (e.op==<a class="code" href="../../d7/d23/namespacecasadi.html#af35251805e44185cb1f079ec41808618a772d0d4a7fe8303114d42995378698d1">OP_INPUT</a>) {</div>
<div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;        <span class="comment">// Pass an input</span></div>
<div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;        <span class="keywordtype">double</span> *w1 = w+<a class="code" href="../../d6/dfe/classcasadi_1_1MXFunction.html#a0a81aa9b5af5e6f5239678d5b2347361">workloc_</a>[e.res.front()];</div>
<div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;        casadi_int nnz=e.data.nnz();</div>
<div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;        casadi_int i=e.data-&gt;ind();</div>
<div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;        casadi_int nz_offset=e.data-&gt;offset();</div>
<div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;        <span class="keywordflow">if</span> (arg[i]==<span class="keyword">nullptr</span>) {</div>
<div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;          std::fill(w1, w1+nnz, 0);</div>
<div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;          std::copy(arg[i]+nz_offset, arg[i]+nz_offset+nnz, w1);</div>
<div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;        }</div>
<div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (e.op==<a class="code" href="../../d7/d23/namespacecasadi.html#af35251805e44185cb1f079ec41808618a521a7c58943e1b877b6e73d79948cb68">OP_OUTPUT</a>) {</div>
<div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;        <span class="comment">// Get an output</span></div>
<div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;        <span class="keywordtype">double</span> *w1 = w+<a class="code" href="../../d6/dfe/classcasadi_1_1MXFunction.html#a0a81aa9b5af5e6f5239678d5b2347361">workloc_</a>[e.arg.front()];</div>
<div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;        casadi_int nnz=e.data-&gt;dep().nnz();</div>
<div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;        casadi_int i=e.data-&gt;ind();</div>
<div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;        casadi_int nz_offset=e.data-&gt;offset();</div>
<div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;        <span class="keywordflow">if</span> (res[i]) std::copy(w1, w1+nnz, res[i]+nz_offset);</div>
<div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;      } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;        <span class="comment">// Point pointers to the data corresponding to the element</span></div>
<div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;        <span class="keywordflow">for</span> (casadi_int i=0; i&lt;e.arg.size(); ++i)</div>
<div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;          arg1[i] = e.arg[i]&gt;=0 ? w+<a class="code" href="../../d6/dfe/classcasadi_1_1MXFunction.html#a0a81aa9b5af5e6f5239678d5b2347361">workloc_</a>[e.arg[i]] : <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;        for (casadi_int i=0; i&lt;e.res.size(); ++i)</div>
<div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;          res1[i] = e.res[i]&gt;=0 ? w+<a class="code" href="../../d6/dfe/classcasadi_1_1MXFunction.html#a0a81aa9b5af5e6f5239678d5b2347361">workloc_</a>[e.res[i]] : <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160; </div>
<div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;        <span class="comment">// Evaluate</span></div>
<div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;        if (<a class="code" href="../../d6/dfe/classcasadi_1_1MXFunction.html#a9e4edfcf09c0565dbd6e438c4067e025">print_instructions_</a>) <a class="code" href="../../d6/dfe/classcasadi_1_1MXFunction.html#a4d52ef5f6efd565dd7a30fc7c3371d73">print_arg</a>(<a class="code" href="../../d7/d23/namespacecasadi.html#af24bd1ac16f9be39dd0fbc56646e2115">uout</a>(), k, e, arg1);</div>
<div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;        <span class="keywordflow">if</span> (e.data-&gt;eval(arg1, res1, iw, w)) <span class="keywordflow">return</span> 1;</div>
<div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d6/dfe/classcasadi_1_1MXFunction.html#a9e4edfcf09c0565dbd6e438c4067e025">print_instructions_</a>) <a class="code" href="../../d6/dfe/classcasadi_1_1MXFunction.html#adfdd506448f444274fe73f2051bdb42e">print_res</a>(<a class="code" href="../../d7/d23/namespacecasadi.html#af24bd1ac16f9be39dd0fbc56646e2115">uout</a>(), k, e, res1);</div>
<div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;      }</div>
<div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;      <span class="comment">// Increase counter</span></div>
<div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;      k++;</div>
<div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;    }</div>
<div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;  }</div>
<div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160; </div>
<div class="line"><a name="l00479"></a><span class="lineno"><a class="line" href="../../d6/dfe/classcasadi_1_1MXFunction.html#a7d8a592c1e18f2e7147baa7d3713e0c7">  479</a></span>&#160;  std::string <a class="code" href="../../d6/dfe/classcasadi_1_1MXFunction.html#a7d8a592c1e18f2e7147baa7d3713e0c7">MXFunction::print</a>(<span class="keyword">const</span> <a class="code" href="../../d8/dd5/structcasadi_1_1MXAlgEl.html">AlgEl</a>&amp; el)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;    std::stringstream s;</div>
<div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;    <span class="keywordflow">if</span> (el.<a class="code" href="../../d8/dd5/structcasadi_1_1MXAlgEl.html#ae780834fa38d37587529b4c7e4825118">op</a>==<a class="code" href="../../d7/d23/namespacecasadi.html#af35251805e44185cb1f079ec41808618a521a7c58943e1b877b6e73d79948cb68">OP_OUTPUT</a>) {</div>
<div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;      s &lt;&lt; <span class="stringliteral">&quot;output[&quot;</span> &lt;&lt; el.<a class="code" href="../../d8/dd5/structcasadi_1_1MXAlgEl.html#a0b28f7ab10ae3d3187d3888106d9bd03">data</a>-&gt;<a class="code" href="../../d0/d19/classcasadi_1_1MXNode.html#a3cfbb3e476b64c230226ed1e3138a2b0">ind</a>() &lt;&lt; <span class="stringliteral">&quot;][&quot;</span> &lt;&lt; el.<a class="code" href="../../d8/dd5/structcasadi_1_1MXAlgEl.html#a0b28f7ab10ae3d3187d3888106d9bd03">data</a>-&gt;<a class="code" href="../../d0/d19/classcasadi_1_1MXNode.html#ab35df87ce6a016dcfda6d1d2323f73d3">segment</a>() &lt;&lt; <span class="stringliteral">&quot;]&quot;</span></div>
<div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;        &lt;&lt; <span class="stringliteral">&quot; = @&quot;</span> &lt;&lt; el.<a class="code" href="../../d8/dd5/structcasadi_1_1MXAlgEl.html#a3c728ef892b2e33feb82ff7ac6d00163">arg</a>.at(0);</div>
<div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (el.<a class="code" href="../../d8/dd5/structcasadi_1_1MXAlgEl.html#ae780834fa38d37587529b4c7e4825118">op</a>==<a class="code" href="../../d7/d23/namespacecasadi.html#af35251805e44185cb1f079ec41808618a57f738c33195d7584f5dc03215625f4a">OP_SETNONZEROS</a> || el.<a class="code" href="../../d8/dd5/structcasadi_1_1MXAlgEl.html#ae780834fa38d37587529b4c7e4825118">op</a>==<a class="code" href="../../d7/d23/namespacecasadi.html#af35251805e44185cb1f079ec41808618aa9fc3b6305436a56448db554811fdc33">OP_ADDNONZEROS</a>) {</div>
<div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;      <span class="keywordflow">if</span> (el.<a class="code" href="../../d8/dd5/structcasadi_1_1MXAlgEl.html#af8a229b7d9a8f119e2b13146bcd366d3">res</a>.front()!=el.<a class="code" href="../../d8/dd5/structcasadi_1_1MXAlgEl.html#a3c728ef892b2e33feb82ff7ac6d00163">arg</a>.at(0)) {</div>
<div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;        s &lt;&lt; <span class="stringliteral">&quot;@&quot;</span> &lt;&lt; el.<a class="code" href="../../d8/dd5/structcasadi_1_1MXAlgEl.html#af8a229b7d9a8f119e2b13146bcd366d3">res</a>.front() &lt;&lt; <span class="stringliteral">&quot; = @&quot;</span> &lt;&lt; el.<a class="code" href="../../d8/dd5/structcasadi_1_1MXAlgEl.html#a3c728ef892b2e33feb82ff7ac6d00163">arg</a>.at(0) &lt;&lt; <span class="stringliteral">&quot;; &quot;</span>;</div>
<div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;      }</div>
<div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;      std::vector&lt;std::string&gt; arg(2);</div>
<div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;      arg[0] = <span class="stringliteral">&quot;@&quot;</span> + <a class="code" href="../../d7/d23/namespacecasadi.html#a88082fbf80560c888949bb765d9ccea0">str</a>(el.<a class="code" href="../../d8/dd5/structcasadi_1_1MXAlgEl.html#af8a229b7d9a8f119e2b13146bcd366d3">res</a>.front());</div>
<div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;      arg[1] = <span class="stringliteral">&quot;@&quot;</span> + <a class="code" href="../../d7/d23/namespacecasadi.html#a88082fbf80560c888949bb765d9ccea0">str</a>(el.<a class="code" href="../../d8/dd5/structcasadi_1_1MXAlgEl.html#a3c728ef892b2e33feb82ff7ac6d00163">arg</a>.at(1));</div>
<div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;      s &lt;&lt; el.<a class="code" href="../../d8/dd5/structcasadi_1_1MXAlgEl.html#a0b28f7ab10ae3d3187d3888106d9bd03">data</a>-&gt;<a class="code" href="../../d0/d19/classcasadi_1_1MXNode.html#aef8768ff54c15bc914d25bb49e86f909">disp</a>(arg);</div>
<div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;      <span class="keywordflow">if</span> (el.<a class="code" href="../../d8/dd5/structcasadi_1_1MXAlgEl.html#af8a229b7d9a8f119e2b13146bcd366d3">res</a>.size()==1) {</div>
<div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;        s &lt;&lt; <span class="stringliteral">&quot;@&quot;</span> &lt;&lt; el.<a class="code" href="../../d8/dd5/structcasadi_1_1MXAlgEl.html#af8a229b7d9a8f119e2b13146bcd366d3">res</a>.front() &lt;&lt; <span class="stringliteral">&quot; = &quot;</span>;</div>
<div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;      } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;        s &lt;&lt; <span class="stringliteral">&quot;{&quot;</span>;</div>
<div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;        <span class="keywordflow">for</span> (casadi_int i=0; i&lt;el.<a class="code" href="../../d8/dd5/structcasadi_1_1MXAlgEl.html#af8a229b7d9a8f119e2b13146bcd366d3">res</a>.size(); ++i) {</div>
<div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;          <span class="keywordflow">if</span> (i!=0) s &lt;&lt; <span class="stringliteral">&quot;, &quot;</span>;</div>
<div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;          <span class="keywordflow">if</span> (el.<a class="code" href="../../d8/dd5/structcasadi_1_1MXAlgEl.html#af8a229b7d9a8f119e2b13146bcd366d3">res</a>[i]&gt;=0) {</div>
<div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;            s &lt;&lt; <span class="stringliteral">&quot;@&quot;</span> &lt;&lt; el.<a class="code" href="../../d8/dd5/structcasadi_1_1MXAlgEl.html#af8a229b7d9a8f119e2b13146bcd366d3">res</a>[i];</div>
<div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;          } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;            s &lt;&lt; <span class="stringliteral">&quot;NULL&quot;</span>;</div>
<div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;          }</div>
<div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;        }</div>
<div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;        s &lt;&lt; <span class="stringliteral">&quot;} = &quot;</span>;</div>
<div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;      }</div>
<div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;      std::vector&lt;std::string&gt; arg;</div>
<div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;      <span class="keywordflow">if</span> (el.<a class="code" href="../../d8/dd5/structcasadi_1_1MXAlgEl.html#ae780834fa38d37587529b4c7e4825118">op</a>!=<a class="code" href="../../d7/d23/namespacecasadi.html#af35251805e44185cb1f079ec41808618a772d0d4a7fe8303114d42995378698d1">OP_INPUT</a>) {</div>
<div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;        arg.resize(el.<a class="code" href="../../d8/dd5/structcasadi_1_1MXAlgEl.html#a3c728ef892b2e33feb82ff7ac6d00163">arg</a>.size());</div>
<div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;        <span class="keywordflow">for</span> (casadi_int i=0; i&lt;el.<a class="code" href="../../d8/dd5/structcasadi_1_1MXAlgEl.html#a3c728ef892b2e33feb82ff7ac6d00163">arg</a>.size(); ++i) {</div>
<div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;          <span class="keywordflow">if</span> (el.<a class="code" href="../../d8/dd5/structcasadi_1_1MXAlgEl.html#a3c728ef892b2e33feb82ff7ac6d00163">arg</a>[i]&gt;=0) {</div>
<div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;            arg[i] = <span class="stringliteral">&quot;@&quot;</span> + <a class="code" href="../../d7/d23/namespacecasadi.html#a88082fbf80560c888949bb765d9ccea0">str</a>(el.<a class="code" href="../../d8/dd5/structcasadi_1_1MXAlgEl.html#a3c728ef892b2e33feb82ff7ac6d00163">arg</a>[i]);</div>
<div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;          } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;            arg[i] = <span class="stringliteral">&quot;NULL&quot;</span>;</div>
<div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;          }</div>
<div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;        }</div>
<div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;      }</div>
<div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;      s &lt;&lt; el.<a class="code" href="../../d8/dd5/structcasadi_1_1MXAlgEl.html#a0b28f7ab10ae3d3187d3888106d9bd03">data</a>-&gt;<a class="code" href="../../d0/d19/classcasadi_1_1MXNode.html#aef8768ff54c15bc914d25bb49e86f909">disp</a>(arg);</div>
<div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;    }</div>
<div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;    <span class="keywordflow">return</span> s.str();</div>
<div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;  }</div>
<div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160; </div>
<div class="line"><a name="l00523"></a><span class="lineno"><a class="line" href="../../d6/dfe/classcasadi_1_1MXFunction.html#a4d52ef5f6efd565dd7a30fc7c3371d73">  523</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="../../d6/dfe/classcasadi_1_1MXFunction.html#a4d52ef5f6efd565dd7a30fc7c3371d73">MXFunction::print_arg</a>(std::ostream &amp;stream, casadi_int k, <span class="keyword">const</span> <a class="code" href="../../d8/dd5/structcasadi_1_1MXAlgEl.html">AlgEl</a>&amp; el,</div>
<div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;      <span class="keyword">const</span> <span class="keywordtype">double</span>** arg)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;    stream &lt;&lt; <a class="code" href="../../db/da0/classcasadi_1_1ProtoFunction.html#a53d1e8f2784eb9e5cb8b9f66d68a8840">name_</a> &lt;&lt; <span class="stringliteral">&quot;:&quot;</span> &lt;&lt; k &lt;&lt; <span class="stringliteral">&quot;: &quot;</span> &lt;&lt; <a class="code" href="../../d6/dfe/classcasadi_1_1MXFunction.html#a7d8a592c1e18f2e7147baa7d3713e0c7">print</a>(el) &lt;&lt; <span class="stringliteral">&quot; inputs:&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> i = 0; i &lt; el.<a class="code" href="../../d8/dd5/structcasadi_1_1MXAlgEl.html#a3c728ef892b2e33feb82ff7ac6d00163">arg</a>.size(); ++i) {</div>
<div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;      stream &lt;&lt; i &lt;&lt; <span class="stringliteral">&quot;: &quot;</span>;</div>
<div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;      <a class="code" href="../../da/d45/classcasadi_1_1Matrix.html#a2e7402d82249a266fb9e3626ee354c61">DM::print_default</a>(stream, el.<a class="code" href="../../d8/dd5/structcasadi_1_1MXAlgEl.html#a0b28f7ab10ae3d3187d3888106d9bd03">data</a>-&gt;<a class="code" href="../../d0/d19/classcasadi_1_1MXNode.html#aa1bd7fd6ee89fa43cbb8d75f3274fdf5">dep</a>(i).<a class="code" href="../../de/d57/classcasadi_1_1MX.html#a1a4e7c2d261e7d8da0c07907d8269af7">sparsity</a>(), arg[i], <span class="keyword">true</span>);</div>
<div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;      stream &lt;&lt; std::endl;</div>
<div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;    }</div>
<div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;  }</div>
<div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160; </div>
<div class="line"><a name="l00533"></a><span class="lineno"><a class="line" href="../../d6/dfe/classcasadi_1_1MXFunction.html#adfdd506448f444274fe73f2051bdb42e">  533</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="../../d6/dfe/classcasadi_1_1MXFunction.html#adfdd506448f444274fe73f2051bdb42e">MXFunction::print_res</a>(std::ostream &amp;stream, casadi_int k, <span class="keyword">const</span> <a class="code" href="../../d8/dd5/structcasadi_1_1MXAlgEl.html">AlgEl</a>&amp; el,</div>
<div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;      <span class="keywordtype">double</span>** res)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;    stream &lt;&lt; <a class="code" href="../../db/da0/classcasadi_1_1ProtoFunction.html#a53d1e8f2784eb9e5cb8b9f66d68a8840">name_</a> &lt;&lt; <span class="stringliteral">&quot;:&quot;</span> &lt;&lt; k &lt;&lt; <span class="stringliteral">&quot;: &quot;</span> &lt;&lt; <a class="code" href="../../d6/dfe/classcasadi_1_1MXFunction.html#a7d8a592c1e18f2e7147baa7d3713e0c7">print</a>(el) &lt;&lt; <span class="stringliteral">&quot; outputs:&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> i = 0; i &lt; el.<a class="code" href="../../d8/dd5/structcasadi_1_1MXAlgEl.html#af8a229b7d9a8f119e2b13146bcd366d3">res</a>.size(); ++i) {</div>
<div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;      stream &lt;&lt; i &lt;&lt; <span class="stringliteral">&quot;: &quot;</span>;</div>
<div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;      <a class="code" href="../../da/d45/classcasadi_1_1Matrix.html#a2e7402d82249a266fb9e3626ee354c61">DM::print_default</a>(stream, el.<a class="code" href="../../d8/dd5/structcasadi_1_1MXAlgEl.html#a0b28f7ab10ae3d3187d3888106d9bd03">data</a>-&gt;<a class="code" href="../../d0/d19/classcasadi_1_1MXNode.html#a9101d5bd449e9b5d4c3e6624720a089a">sparsity</a>(i), res[i], <span class="keyword">true</span>);</div>
<div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;      stream &lt;&lt; std::endl;</div>
<div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;    }</div>
<div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;  }</div>
<div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160; </div>
<div class="line"><a name="l00543"></a><span class="lineno"><a class="line" href="../../d6/dfe/classcasadi_1_1MXFunction.html#a91188efff90f8bca74d5ab68cd7569f4">  543</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="../../d6/dfe/classcasadi_1_1MXFunction.html#a91188efff90f8bca74d5ab68cd7569f4">MXFunction::disp_more</a>(std::ostream &amp;stream)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;    stream &lt;&lt; <span class="stringliteral">&quot;Algorithm:&quot;</span>;</div>
<div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp;&amp; e : <a class="code" href="../../d6/dfe/classcasadi_1_1MXFunction.html#ab88c17946b4e00d02dab5531a2e01b36">algorithm_</a>) {</div>
<div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;      <a class="code" href="../../d7/d38/classcasadi_1_1InterruptHandler.html#a49091eb550d4bf8da4f31e49835608df">InterruptHandler::check</a>();</div>
<div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;      stream &lt;&lt; std::endl &lt;&lt; <a class="code" href="../../d6/dfe/classcasadi_1_1MXFunction.html#a7d8a592c1e18f2e7147baa7d3713e0c7">print</a>(e);</div>
<div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;    }</div>
<div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;  }</div>
<div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160; </div>
<div class="line"><a name="l00551"></a><span class="lineno"><a class="line" href="../../d6/dfe/classcasadi_1_1MXFunction.html#a3ae2a0f5c683d800bb8c80c36e6da471">  551</a></span>&#160;  <span class="keywordtype">int</span> <a class="code" href="../../d6/dfe/classcasadi_1_1MXFunction.html#a3ae2a0f5c683d800bb8c80c36e6da471">MXFunction::</a></div>
<div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;<a class="code" href="../../d6/dfe/classcasadi_1_1MXFunction.html#a3ae2a0f5c683d800bb8c80c36e6da471">  sp_forward</a>(<span class="keyword">const</span> <a class="code" href="../../d7/d23/namespacecasadi.html#a2a4a055a89130bf00eceb9008c5ecd37">bvec_t</a>** arg, <a class="code" href="../../d7/d23/namespacecasadi.html#a2a4a055a89130bf00eceb9008c5ecd37">bvec_t</a>** res, casadi_int* iw, <a class="code" href="../../d7/d23/namespacecasadi.html#a2a4a055a89130bf00eceb9008c5ecd37">bvec_t</a>* w, <span class="keywordtype">void</span>* mem)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;    <span class="comment">// Fall back when forward mode not allowed</span></div>
<div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d2/dab/classcasadi_1_1FunctionInternal.html#a74fab2d4cce2f1217e28df22f6875e9d">sp_weight</a>()==1 || <a class="code" href="../../d2/dab/classcasadi_1_1FunctionInternal.html#a74fab2d4cce2f1217e28df22f6875e9d">sp_weight</a>()==-1)</div>
<div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../d2/dab/classcasadi_1_1FunctionInternal.html#a92cf33ce8ada96116323fb711f6385d1">FunctionInternal::sp_forward</a>(arg, res, iw, w, mem);</div>
<div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;    <span class="comment">// Temporaries to hold pointers to operation input and outputs</span></div>
<div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;    <span class="keyword">const</span> <a class="code" href="../../d7/d23/namespacecasadi.html#a2a4a055a89130bf00eceb9008c5ecd37">bvec_t</a>** arg1=arg+<a class="code" href="../../d2/dab/classcasadi_1_1FunctionInternal.html#a7d2ec172fa3fee013cef648f1ce165fa">n_in_</a>;</div>
<div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;    <a class="code" href="../../d7/d23/namespacecasadi.html#a2a4a055a89130bf00eceb9008c5ecd37">bvec_t</a>** res1=res+<a class="code" href="../../d2/dab/classcasadi_1_1FunctionInternal.html#a5ac9ebd019509a0f47c18f022227815d">n_out_</a>;</div>
<div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160; </div>
<div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;    <span class="comment">// Propagate sparsity forward</span></div>
<div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp;&amp; e : <a class="code" href="../../d6/dfe/classcasadi_1_1MXFunction.html#ab88c17946b4e00d02dab5531a2e01b36">algorithm_</a>) {</div>
<div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;      <span class="keywordflow">if</span> (e.op==<a class="code" href="../../d7/d23/namespacecasadi.html#af35251805e44185cb1f079ec41808618a772d0d4a7fe8303114d42995378698d1">OP_INPUT</a>) {</div>
<div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;        <span class="comment">// Pass input seeds</span></div>
<div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;        casadi_int nnz=e.data.nnz();</div>
<div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;        casadi_int i=e.data-&gt;ind();</div>
<div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;        casadi_int nz_offset=e.data-&gt;offset();</div>
<div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;        <span class="keyword">const</span> <a class="code" href="../../d7/d23/namespacecasadi.html#a2a4a055a89130bf00eceb9008c5ecd37">bvec_t</a>* argi = arg[i];</div>
<div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;        <a class="code" href="../../d7/d23/namespacecasadi.html#a2a4a055a89130bf00eceb9008c5ecd37">bvec_t</a>* w1 = w + <a class="code" href="../../d6/dfe/classcasadi_1_1MXFunction.html#a0a81aa9b5af5e6f5239678d5b2347361">workloc_</a>[e.res.front()];</div>
<div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;        <span class="keywordflow">if</span> (argi!=<span class="keyword">nullptr</span>) {</div>
<div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;          std::copy(argi+nz_offset, argi+nz_offset+nnz, w1);</div>
<div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;          std::fill_n(w1, nnz, 0);</div>
<div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;        }</div>
<div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (e.op==<a class="code" href="../../d7/d23/namespacecasadi.html#af35251805e44185cb1f079ec41808618a521a7c58943e1b877b6e73d79948cb68">OP_OUTPUT</a>) {</div>
<div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;        <span class="comment">// Get the output sensitivities</span></div>
<div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;        casadi_int nnz=e.data.dep().nnz();</div>
<div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;        casadi_int i=e.data-&gt;ind();</div>
<div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;        casadi_int nz_offset=e.data-&gt;offset();</div>
<div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;        <a class="code" href="../../d7/d23/namespacecasadi.html#a2a4a055a89130bf00eceb9008c5ecd37">bvec_t</a>* resi = res[i];</div>
<div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;        <a class="code" href="../../d7/d23/namespacecasadi.html#a2a4a055a89130bf00eceb9008c5ecd37">bvec_t</a>* w1 = w + <a class="code" href="../../d6/dfe/classcasadi_1_1MXFunction.html#a0a81aa9b5af5e6f5239678d5b2347361">workloc_</a>[e.arg.front()];</div>
<div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;        <span class="keywordflow">if</span> (resi!=<span class="keyword">nullptr</span>) std::copy(w1, w1+nnz, resi+nz_offset);</div>
<div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;      } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;        <span class="comment">// Point pointers to the data corresponding to the element</span></div>
<div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;        <span class="keywordflow">for</span> (casadi_int i=0; i&lt;e.arg.size(); ++i)</div>
<div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;          arg1[i] = e.arg[i]&gt;=0 ? w+<a class="code" href="../../d6/dfe/classcasadi_1_1MXFunction.html#a0a81aa9b5af5e6f5239678d5b2347361">workloc_</a>[e.arg[i]] : <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;        for (casadi_int i=0; i&lt;e.res.size(); ++i)</div>
<div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;          res1[i] = e.res[i]&gt;=0 ? w+<a class="code" href="../../d6/dfe/classcasadi_1_1MXFunction.html#a0a81aa9b5af5e6f5239678d5b2347361">workloc_</a>[e.res[i]] : <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160; </div>
<div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;        <span class="comment">// Propagate sparsity forwards</span></div>
<div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;        if (e.data-&gt;sp_forward(arg1, res1, iw, w)) <span class="keywordflow">return</span> 1;</div>
<div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;      }</div>
<div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;    }</div>
<div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;  }</div>
<div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160; </div>
<div class="line"><a name="l00596"></a><span class="lineno"><a class="line" href="../../d6/dfe/classcasadi_1_1MXFunction.html#a359ea61c8e277ba86b8e29fa5e476117">  596</a></span>&#160;  <span class="keywordtype">int</span> <a class="code" href="../../d6/dfe/classcasadi_1_1MXFunction.html#a359ea61c8e277ba86b8e29fa5e476117">MXFunction::sp_reverse</a>(<a class="code" href="../../d7/d23/namespacecasadi.html#a2a4a055a89130bf00eceb9008c5ecd37">bvec_t</a>** arg, <a class="code" href="../../d7/d23/namespacecasadi.html#a2a4a055a89130bf00eceb9008c5ecd37">bvec_t</a>** res,</div>
<div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;      casadi_int* iw, <a class="code" href="../../d7/d23/namespacecasadi.html#a2a4a055a89130bf00eceb9008c5ecd37">bvec_t</a>* w, <span class="keywordtype">void</span>* mem)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;    <span class="comment">// Fall back when reverse mode not allowed</span></div>
<div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d2/dab/classcasadi_1_1FunctionInternal.html#a74fab2d4cce2f1217e28df22f6875e9d">sp_weight</a>()==0 || <a class="code" href="../../d2/dab/classcasadi_1_1FunctionInternal.html#a74fab2d4cce2f1217e28df22f6875e9d">sp_weight</a>()==-1)</div>
<div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../d2/dab/classcasadi_1_1FunctionInternal.html#abd4e8b1eb07d31d74958a4b607e5ebab">FunctionInternal::sp_reverse</a>(arg, res, iw, w, mem);</div>
<div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;    <span class="comment">// Temporaries to hold pointers to operation input and outputs</span></div>
<div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;    <a class="code" href="../../d7/d23/namespacecasadi.html#a2a4a055a89130bf00eceb9008c5ecd37">bvec_t</a>** arg1=arg+<a class="code" href="../../d2/dab/classcasadi_1_1FunctionInternal.html#a7d2ec172fa3fee013cef648f1ce165fa">n_in_</a>;</div>
<div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;    <a class="code" href="../../d7/d23/namespacecasadi.html#a2a4a055a89130bf00eceb9008c5ecd37">bvec_t</a>** res1=res+<a class="code" href="../../d2/dab/classcasadi_1_1FunctionInternal.html#a5ac9ebd019509a0f47c18f022227815d">n_out_</a>;</div>
<div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160; </div>
<div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;    std::fill_n(w, <a class="code" href="../../d2/dab/classcasadi_1_1FunctionInternal.html#abbd778a62b22d56f6a50ed45f1adb926">sz_w</a>(), 0);</div>
<div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160; </div>
<div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;    <span class="comment">// Propagate sparsity backwards</span></div>
<div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span> it=<a class="code" href="../../d6/dfe/classcasadi_1_1MXFunction.html#ab88c17946b4e00d02dab5531a2e01b36">algorithm_</a>.rbegin(); it!=<a class="code" href="../../d6/dfe/classcasadi_1_1MXFunction.html#ab88c17946b4e00d02dab5531a2e01b36">algorithm_</a>.rend(); it++) {</div>
<div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;      <span class="keywordflow">if</span> (it-&gt;op==<a class="code" href="../../d7/d23/namespacecasadi.html#af35251805e44185cb1f079ec41808618a772d0d4a7fe8303114d42995378698d1">OP_INPUT</a>) {</div>
<div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;        <span class="comment">// Get the input sensitivities and clear it from the work vector</span></div>
<div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;        casadi_int nnz=it-&gt;data.nnz();</div>
<div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;        casadi_int i=it-&gt;data-&gt;ind();</div>
<div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;        casadi_int nz_offset=it-&gt;data-&gt;offset();</div>
<div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;        <a class="code" href="../../d7/d23/namespacecasadi.html#a2a4a055a89130bf00eceb9008c5ecd37">bvec_t</a>* argi = arg[i];</div>
<div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;        <a class="code" href="../../d7/d23/namespacecasadi.html#a2a4a055a89130bf00eceb9008c5ecd37">bvec_t</a>* w1 = w + <a class="code" href="../../d6/dfe/classcasadi_1_1MXFunction.html#a0a81aa9b5af5e6f5239678d5b2347361">workloc_</a>[it-&gt;res.front()];</div>
<div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;        <span class="keywordflow">if</span> (argi!=<span class="keyword">nullptr</span>) <span class="keywordflow">for</span> (casadi_int k=0; k&lt;nnz; ++k) argi[nz_offset+k] |= w1[k];</div>
<div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;        std::fill_n(w1, nnz, 0);</div>
<div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (it-&gt;op==<a class="code" href="../../d7/d23/namespacecasadi.html#af35251805e44185cb1f079ec41808618a521a7c58943e1b877b6e73d79948cb68">OP_OUTPUT</a>) {</div>
<div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;        <span class="comment">// Pass output seeds</span></div>
<div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;        casadi_int nnz=it-&gt;data.dep().nnz();</div>
<div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;        casadi_int i=it-&gt;data-&gt;ind();</div>
<div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;        casadi_int nz_offset=it-&gt;data-&gt;offset();</div>
<div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;        <a class="code" href="../../d7/d23/namespacecasadi.html#a2a4a055a89130bf00eceb9008c5ecd37">bvec_t</a>* resi = res[i] ? res[i] + nz_offset : <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;        <a class="code" href="../../d7/d23/namespacecasadi.html#a2a4a055a89130bf00eceb9008c5ecd37">bvec_t</a>* w1 = w + <a class="code" href="../../d6/dfe/classcasadi_1_1MXFunction.html#a0a81aa9b5af5e6f5239678d5b2347361">workloc_</a>[it-&gt;arg.front()];</div>
<div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;        <span class="keywordflow">if</span> (resi!=<span class="keyword">nullptr</span>) {</div>
<div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;          <span class="keywordflow">for</span> (casadi_int k=0; k&lt;nnz; ++k) w1[k] |= resi[k];</div>
<div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;          std::fill_n(resi, nnz, 0);</div>
<div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160; </div>
<div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;        }</div>
<div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;      } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;        <span class="comment">// Point pointers to the data corresponding to the element</span></div>
<div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;        <span class="keywordflow">for</span> (casadi_int i=0; i&lt;it-&gt;arg.size(); ++i)</div>
<div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;          arg1[i] = it-&gt;arg[i]&gt;=0 ? w+<a class="code" href="../../d6/dfe/classcasadi_1_1MXFunction.html#a0a81aa9b5af5e6f5239678d5b2347361">workloc_</a>[it-&gt;arg[i]] : <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;        for (casadi_int i=0; i&lt;it-&gt;res.size(); ++i)</div>
<div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;          res1[i] = it-&gt;res[i]&gt;=0 ? w+<a class="code" href="../../d6/dfe/classcasadi_1_1MXFunction.html#a0a81aa9b5af5e6f5239678d5b2347361">workloc_</a>[it-&gt;res[i]] : <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160; </div>
<div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;        <span class="comment">// Propagate sparsity backwards</span></div>
<div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;        if (it-&gt;data-&gt;sp_reverse(arg1, res1, iw, w)) <span class="keywordflow">return</span> 1;</div>
<div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;      }</div>
<div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;    }</div>
<div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;  }</div>
<div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160; </div>
<div class="line"><a name="l00644"></a><span class="lineno"><a class="line" href="../../d6/dfe/classcasadi_1_1MXFunction.html#af5e857c8906ded8d0a91ac91100f7df7">  644</a></span>&#160;  std::vector&lt;MX&gt; <a class="code" href="../../d6/dfe/classcasadi_1_1MXFunction.html#af5e857c8906ded8d0a91ac91100f7df7">MXFunction::symbolic_output</a>(<span class="keyword">const</span> std::vector&lt;MX&gt;&amp; arg)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;    <span class="comment">// Check if input is given</span></div>
<div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;    <span class="keyword">const</span> casadi_int checking_depth = 2;</div>
<div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;    <span class="keywordtype">bool</span> input_given = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;    <span class="keywordflow">for</span> (casadi_int i=0; i&lt;arg.size() &amp;&amp; input_given; ++i) {</div>
<div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;      <span class="keywordflow">if</span> (!<a class="code" href="../../d7/d23/namespacecasadi.html#a0607db4c271ea44cc6c7f49be3c895fd">is_equal</a>(arg[i], <a class="code" href="../../d7/d72/classcasadi_1_1XFunction.html#abbdc6a6d3bb13c1a3e2c21e74648da3a">in_</a>[i], checking_depth)) {</div>
<div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;        input_given = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;      }</div>
<div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;    }</div>
<div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160; </div>
<div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;    <span class="comment">// Return output if possible, else fall back to base class</span></div>
<div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;    <span class="keywordflow">if</span> (input_given) {</div>
<div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../d7/d72/classcasadi_1_1XFunction.html#a101358270be8d42a155edc39d927d6f3">out_</a>;</div>
<div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../d2/dab/classcasadi_1_1FunctionInternal.html#ae59120306c79be83a8746762f7025e17">FunctionInternal::symbolic_output</a>(arg);</div>
<div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;    }</div>
<div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;  }</div>
<div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160; </div>
<div class="line"><a name="l00662"></a><span class="lineno"><a class="line" href="../../d6/dfe/classcasadi_1_1MXFunction.html#abbfd60bacaf4b53d9059904cadf3dab9">  662</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="../../d6/dfe/classcasadi_1_1MXFunction.html#abbfd60bacaf4b53d9059904cadf3dab9">MXFunction::eval_mx</a>(<span class="keyword">const</span> <a class="code" href="../../d7/d23/namespacecasadi.html#a746c394d3baa8e4be2ab21cebff17077">MXVector</a>&amp; arg, <a class="code" href="../../d7/d23/namespacecasadi.html#a746c394d3baa8e4be2ab21cebff17077">MXVector</a>&amp; res,</div>
<div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;                           <span class="keywordtype">bool</span> always_inline, <span class="keywordtype">bool</span> never_inline)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;    always_inline = always_inline || <a class="code" href="../../d2/dab/classcasadi_1_1FunctionInternal.html#acec644643b6cca43ab006429dbce2c8c">always_inline_</a>;</div>
<div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;    never_inline = never_inline || <a class="code" href="../../d2/dab/classcasadi_1_1FunctionInternal.html#a501263edd6af28c86d8cb945a5f443b9">never_inline_</a>;</div>
<div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../db/da0/classcasadi_1_1ProtoFunction.html#a83a58f033fda51a76e1c390019f68d7a">verbose_</a>) casadi_message(<a class="code" href="../../db/da0/classcasadi_1_1ProtoFunction.html#a53d1e8f2784eb9e5cb8b9f66d68a8840">name_</a> + <span class="stringliteral">&quot;::eval_mx&quot;</span>);</div>
<div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;    <span class="keywordflow">try</span> {</div>
<div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;      <span class="comment">// Resize the number of outputs</span></div>
<div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;      casadi_assert(arg.size()==<a class="code" href="../../d2/dab/classcasadi_1_1FunctionInternal.html#a7d2ec172fa3fee013cef648f1ce165fa">n_in_</a>, <span class="stringliteral">&quot;Wrong number of input arguments&quot;</span>);</div>
<div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;      res.resize(<a class="code" href="../../d7/d72/classcasadi_1_1XFunction.html#a101358270be8d42a155edc39d927d6f3">out_</a>.size());</div>
<div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160; </div>
<div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;      <span class="comment">// Trivial inline by default if output known</span></div>
<div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;      <span class="keywordflow">if</span> (!never_inline &amp;&amp; <a class="code" href="../../d7/d72/classcasadi_1_1XFunction.html#aa49176a260bdc640cef32292f6bff7af">isInput</a>(arg)) {</div>
<div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;        std::copy(<a class="code" href="../../d7/d72/classcasadi_1_1XFunction.html#a101358270be8d42a155edc39d927d6f3">out_</a>.begin(), <a class="code" href="../../d7/d72/classcasadi_1_1XFunction.html#a101358270be8d42a155edc39d927d6f3">out_</a>.end(), res.begin());</div>
<div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;      }</div>
<div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160; </div>
<div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;      <span class="comment">// non-inlining call is implemented in the base-class</span></div>
<div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;      <span class="keywordflow">if</span> (!<a class="code" href="../../d6/dfe/classcasadi_1_1MXFunction.html#a69292ed9cae1ac40e02131de62a77f5c">should_inline</a>(always_inline, never_inline)) {</div>
<div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="../../d2/dab/classcasadi_1_1FunctionInternal.html#a8288fdaf92277a45ae9eaf026505cc82">FunctionInternal::eval_mx</a>(arg, res, <span class="keyword">false</span>, <span class="keyword">true</span>);</div>
<div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;      }</div>
<div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160; </div>
<div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;      <span class="comment">// Symbolic work, non-differentiated</span></div>
<div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;      std::vector&lt;MX&gt; swork(<a class="code" href="../../d6/dfe/classcasadi_1_1MXFunction.html#a0a81aa9b5af5e6f5239678d5b2347361">workloc_</a>.size()-1);</div>
<div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../db/da0/classcasadi_1_1ProtoFunction.html#a83a58f033fda51a76e1c390019f68d7a">verbose_</a>) casadi_message(<span class="stringliteral">&quot;Allocated work vector&quot;</span>);</div>
<div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160; </div>
<div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;      <span class="comment">// Split up inputs analogous to symbolic primitives</span></div>
<div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;      std::vector&lt;std::vector&lt;MX&gt; &gt; arg_split(<a class="code" href="../../d7/d72/classcasadi_1_1XFunction.html#abbdc6a6d3bb13c1a3e2c21e74648da3a">in_</a>.size());</div>
<div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;      <span class="keywordflow">for</span> (casadi_int i=0; i&lt;<a class="code" href="../../d7/d72/classcasadi_1_1XFunction.html#abbdc6a6d3bb13c1a3e2c21e74648da3a">in_</a>.size(); ++i) arg_split[i] = <a class="code" href="../../d7/d72/classcasadi_1_1XFunction.html#abbdc6a6d3bb13c1a3e2c21e74648da3a">in_</a>[i].split_primitives(arg[i]);</div>
<div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160; </div>
<div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;      <span class="comment">// Allocate storage for split outputs</span></div>
<div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;      std::vector&lt;std::vector&lt;MX&gt; &gt; res_split(<a class="code" href="../../d7/d72/classcasadi_1_1XFunction.html#a101358270be8d42a155edc39d927d6f3">out_</a>.size());</div>
<div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;      <span class="keywordflow">for</span> (casadi_int i=0; i&lt;<a class="code" href="../../d7/d72/classcasadi_1_1XFunction.html#a101358270be8d42a155edc39d927d6f3">out_</a>.size(); ++i) res_split[i].resize(<a class="code" href="../../d7/d72/classcasadi_1_1XFunction.html#a101358270be8d42a155edc39d927d6f3">out_</a>[i].n_primitives());</div>
<div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160; </div>
<div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;      std::vector&lt;MX&gt; arg1, res1;</div>
<div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160; </div>
<div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;      <span class="comment">// Loop over computational nodes in forward order</span></div>
<div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;      casadi_int alg_counter = 0;</div>
<div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;      <span class="keywordflow">for</span> (<span class="keyword">auto</span> it=<a class="code" href="../../d6/dfe/classcasadi_1_1MXFunction.html#ab88c17946b4e00d02dab5531a2e01b36">algorithm_</a>.begin(); it!=<a class="code" href="../../d6/dfe/classcasadi_1_1MXFunction.html#ab88c17946b4e00d02dab5531a2e01b36">algorithm_</a>.end(); ++it, ++alg_counter) {</div>
<div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;        <span class="keywordflow">if</span> (it-&gt;op == <a class="code" href="../../d7/d23/namespacecasadi.html#af35251805e44185cb1f079ec41808618a772d0d4a7fe8303114d42995378698d1">OP_INPUT</a>) {</div>
<div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;          swork[it-&gt;res.front()] = project(arg_split.at(it-&gt;data-&gt;ind()).at(it-&gt;data-&gt;segment()),</div>
<div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;                                           it-&gt;data.sparsity(), <span class="keyword">true</span>);</div>
<div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (it-&gt;op==<a class="code" href="../../d7/d23/namespacecasadi.html#af35251805e44185cb1f079ec41808618a521a7c58943e1b877b6e73d79948cb68">OP_OUTPUT</a>) {</div>
<div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;          <span class="comment">// Collect the results</span></div>
<div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;          res_split.at(it-&gt;data-&gt;ind()).at(it-&gt;data-&gt;segment()) = swork[it-&gt;arg.front()];</div>
<div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (it-&gt;op==<a class="code" href="../../d7/d23/namespacecasadi.html#af35251805e44185cb1f079ec41808618aae6785283527a2b4903fa3aa9f56d3d6">OP_PARAMETER</a>) {</div>
<div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;          <span class="comment">// Fetch parameter</span></div>
<div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;          swork[it-&gt;res.front()] = it-&gt;data;</div>
<div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;          <span class="comment">// Arguments of the operation</span></div>
<div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;          arg1.resize(it-&gt;arg.size());</div>
<div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;          <span class="keywordflow">for</span> (casadi_int i=0; i&lt;arg1.size(); ++i) {</div>
<div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;            casadi_int el = it-&gt;arg[i]; <span class="comment">// index of the argument</span></div>
<div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;            arg1[i] = el&lt;0 ? <a class="code" href="../../de/d57/classcasadi_1_1MX.html">MX</a>(it-&gt;data-&gt;dep(i).size()) : swork[el];</div>
<div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;          }</div>
<div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160; </div>
<div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;          <span class="comment">// Perform the operation</span></div>
<div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;          res1.resize(it-&gt;res.size());</div>
<div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;          it-&gt;data-&gt;eval_mx(arg1, res1);</div>
<div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160; </div>
<div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;          <span class="comment">// Get the result</span></div>
<div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;          <span class="keywordflow">for</span> (casadi_int i=0; i&lt;res1.size(); ++i) {</div>
<div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;            casadi_int el = it-&gt;res[i]; <span class="comment">// index of the output</span></div>
<div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;            <span class="keywordflow">if</span> (el&gt;=0) swork[el] = res1[i];</div>
<div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;          }</div>
<div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;        }</div>
<div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;      }</div>
<div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160; </div>
<div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;      <span class="comment">// Join split outputs</span></div>
<div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;      <span class="keywordflow">for</span> (casadi_int i=0; i&lt;res.size(); ++i) res[i] = <a class="code" href="../../d7/d72/classcasadi_1_1XFunction.html#a101358270be8d42a155edc39d927d6f3">out_</a>[i].join_primitives(res_split[i]);</div>
<div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;    } <span class="keywordflow">catch</span> (std::exception&amp; e) {</div>
<div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;      CASADI_THROW_ERROR(<span class="stringliteral">&quot;eval_mx&quot;</span>, e.what());</div>
<div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;    }</div>
<div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;  }</div>
<div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160; </div>
<div class="line"><a name="l00736"></a><span class="lineno"><a class="line" href="../../d6/dfe/classcasadi_1_1MXFunction.html#ae6a15df228c6088464afc0c926e087da">  736</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="../../d6/dfe/classcasadi_1_1MXFunction.html#ae6a15df228c6088464afc0c926e087da">MXFunction::ad_forward</a>(<span class="keyword">const</span> std::vector&lt;std::vector&lt;MX&gt; &gt;&amp; fseed,</div>
<div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;                                std::vector&lt;std::vector&lt;MX&gt; &gt;&amp; fsens)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../db/da0/classcasadi_1_1ProtoFunction.html#a83a58f033fda51a76e1c390019f68d7a">verbose_</a>) casadi_message(<a class="code" href="../../db/da0/classcasadi_1_1ProtoFunction.html#a53d1e8f2784eb9e5cb8b9f66d68a8840">name_</a> + <span class="stringliteral">&quot;::ad_forward(&quot;</span> + <a class="code" href="../../d7/d23/namespacecasadi.html#a88082fbf80560c888949bb765d9ccea0">str</a>(fseed.size())+ <span class="stringliteral">&quot;)&quot;</span>);</div>
<div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;    <span class="keywordflow">try</span> {</div>
<div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;      <span class="comment">// Allocate results</span></div>
<div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;      casadi_int nfwd = fseed.size();</div>
<div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;      fsens.resize(nfwd);</div>
<div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;      <span class="keywordflow">for</span> (casadi_int d=0; d&lt;nfwd; ++d) {</div>
<div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;        fsens[d].resize(<a class="code" href="../../d2/dab/classcasadi_1_1FunctionInternal.html#a5ac9ebd019509a0f47c18f022227815d">n_out_</a>);</div>
<div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;      }</div>
<div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160; </div>
<div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;      <span class="comment">// Quick return if no directions</span></div>
<div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;      <span class="keywordflow">if</span> (nfwd==0) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160; </div>
<div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;      <span class="comment">// Check if seeds need to have dimensions corrected</span></div>
<div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;      casadi_int npar = 1;</div>
<div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;      <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp;&amp; r : fseed) {</div>
<div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;        <span class="keywordflow">if</span> (!<a class="code" href="../../d2/dab/classcasadi_1_1FunctionInternal.html#a8a6b7c8d2ee2e575483efb3c24b5b95b">matching_arg</a>(r, npar)) {</div>
<div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;          casadi_assert_dev(npar==1);</div>
<div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;          <span class="keywordflow">return</span> <a class="code" href="../../d6/dfe/classcasadi_1_1MXFunction.html#ae6a15df228c6088464afc0c926e087da">ad_forward</a>(<a class="code" href="../../d2/dab/classcasadi_1_1FunctionInternal.html#a2460e9faa9a36d8501dbfed111a09e5a">replace_fseed</a>(fseed, npar), fsens);</div>
<div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;        }</div>
<div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;      }</div>
<div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160; </div>
<div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;      <span class="comment">// Check if there are any zero seeds</span></div>
<div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;      <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp;&amp; r : fseed) {</div>
<div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d2/dab/classcasadi_1_1FunctionInternal.html#aedf834606d6e0f6a0303b5e8724978d1">purgable</a>(r)) {</div>
<div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;          <span class="comment">// New argument without all-zero directions</span></div>
<div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;          std::vector&lt;std::vector&lt;MX&gt; &gt; fseed_purged, fsens_purged;</div>
<div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;          fseed_purged.reserve(nfwd);</div>
<div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;          std::vector&lt;casadi_int&gt; index_purged;</div>
<div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;          <span class="keywordflow">for</span> (casadi_int d=0; d&lt;nfwd; ++d) {</div>
<div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../d2/dab/classcasadi_1_1FunctionInternal.html#aedf834606d6e0f6a0303b5e8724978d1">purgable</a>(fseed[d])) {</div>
<div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;              <span class="keywordflow">for</span> (casadi_int i=0; i&lt;fsens[d].size(); ++i) {</div>
<div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;                fsens[d][i] = <a class="code" href="../../de/d57/classcasadi_1_1MX.html">MX</a>(<a class="code" href="../../d2/dab/classcasadi_1_1FunctionInternal.html#a90099e52dd1756844a558ebeff11f1a4">size_out</a>(i));</div>
<div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;              }</div>
<div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;            } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;              fseed_purged.push_back(fsens[d]);</div>
<div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;              index_purged.push_back(d);</div>
<div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;            }</div>
<div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;          }</div>
<div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160; </div>
<div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;          <span class="comment">// Call recursively</span></div>
<div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;          <a class="code" href="../../d6/dfe/classcasadi_1_1MXFunction.html#ae6a15df228c6088464afc0c926e087da">ad_forward</a>(fseed_purged, fsens_purged);</div>
<div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160; </div>
<div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;          <span class="comment">// Fetch result</span></div>
<div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;          <span class="keywordflow">for</span> (casadi_int d=0; d&lt;fseed_purged.size(); ++d) {</div>
<div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;            fsens[index_purged[d]] = fsens_purged[d];</div>
<div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;          }</div>
<div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;          <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;        }</div>
<div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;      }</div>
<div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160; </div>
<div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;      <span class="keywordflow">if</span> (!<a class="code" href="../../d2/dab/classcasadi_1_1FunctionInternal.html#a65fb4e548d546024bf21b19f207abb3a">enable_forward_</a>) {</div>
<div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;        <span class="comment">// Do the non-inlining call from FunctionInternal</span></div>
<div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;        <span class="comment">// NOLINTNEXTLINE(bugprone-parent-virtual-call)</span></div>
<div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;        <a class="code" href="../../d2/dab/classcasadi_1_1FunctionInternal.html#a07534ffd145feab7e9b0963503009d24">FunctionInternal::call_forward</a>(<a class="code" href="../../d7/d72/classcasadi_1_1XFunction.html#abbdc6a6d3bb13c1a3e2c21e74648da3a">in_</a>, <a class="code" href="../../d7/d72/classcasadi_1_1XFunction.html#a101358270be8d42a155edc39d927d6f3">out_</a>, fseed, fsens, <span class="keyword">false</span>, <span class="keyword">false</span>);</div>
<div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;      }</div>
<div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160; </div>
<div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;      <span class="comment">// Work vector, forward derivatives</span></div>
<div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;      std::vector&lt;std::vector&lt;MX&gt; &gt; dwork(<a class="code" href="../../d6/dfe/classcasadi_1_1MXFunction.html#a0a81aa9b5af5e6f5239678d5b2347361">workloc_</a>.size()-1);</div>
<div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;      fill(dwork.begin(), dwork.end(), std::vector&lt;MX&gt;(nfwd));</div>
<div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../db/da0/classcasadi_1_1ProtoFunction.html#a83a58f033fda51a76e1c390019f68d7a">verbose_</a>) casadi_message(<span class="stringliteral">&quot;Allocated derivative work vector (forward mode)&quot;</span>);</div>
<div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160; </div>
<div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;      <span class="comment">// Split up fseed analogous to symbolic primitives</span></div>
<div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;      std::vector&lt;std::vector&lt;std::vector&lt;MX&gt;&gt;&gt; fseed_split(nfwd);</div>
<div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;      <span class="keywordflow">for</span> (casadi_int d=0; d&lt;nfwd; ++d) {</div>
<div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160;        fseed_split[d].resize(fseed[d].size());</div>
<div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;        <span class="keywordflow">for</span> (casadi_int i=0; i&lt;fseed[d].size(); ++i) {</div>
<div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;          fseed_split[d][i] = <a class="code" href="../../d7/d72/classcasadi_1_1XFunction.html#abbdc6a6d3bb13c1a3e2c21e74648da3a">in_</a>[i].split_primitives(fseed[d][i]);</div>
<div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;        }</div>
<div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;      }</div>
<div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160; </div>
<div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;      <span class="comment">// Allocate splited forward sensitivities</span></div>
<div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;      std::vector&lt;std::vector&lt;std::vector&lt;MX&gt;&gt;&gt; fsens_split(nfwd);</div>
<div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;      <span class="keywordflow">for</span> (casadi_int d=0; d&lt;nfwd; ++d) {</div>
<div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;        fsens_split[d].resize(<a class="code" href="../../d7/d72/classcasadi_1_1XFunction.html#a101358270be8d42a155edc39d927d6f3">out_</a>.size());</div>
<div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;        <span class="keywordflow">for</span> (casadi_int i=0; i&lt;<a class="code" href="../../d7/d72/classcasadi_1_1XFunction.html#a101358270be8d42a155edc39d927d6f3">out_</a>.size(); ++i) {</div>
<div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;          fsens_split[d][i].resize(<a class="code" href="../../d7/d72/classcasadi_1_1XFunction.html#a101358270be8d42a155edc39d927d6f3">out_</a>[i].n_primitives());</div>
<div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160;        }</div>
<div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160;      }</div>
<div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160; </div>
<div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;      <span class="comment">// Pointers to the arguments of the current operation</span></div>
<div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;      std::vector&lt;std::vector&lt;MX&gt; &gt; oseed, osens;</div>
<div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;      oseed.reserve(nfwd);</div>
<div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;      osens.reserve(nfwd);</div>
<div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160;      std::vector&lt;bool&gt; skip(nfwd, <span class="keyword">false</span>);</div>
<div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160; </div>
<div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160;      <span class="comment">// Loop over computational nodes in forward order</span></div>
<div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160;      <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp;&amp; e : <a class="code" href="../../d6/dfe/classcasadi_1_1MXFunction.html#ab88c17946b4e00d02dab5531a2e01b36">algorithm_</a>) {</div>
<div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160;        <span class="keywordflow">if</span> (e.op == <a class="code" href="../../d7/d23/namespacecasadi.html#af35251805e44185cb1f079ec41808618a772d0d4a7fe8303114d42995378698d1">OP_INPUT</a>) {</div>
<div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;          <span class="comment">// Fetch forward seed</span></div>
<div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;          <span class="keywordflow">for</span> (casadi_int d=0; d&lt;nfwd; ++d) {</div>
<div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;            dwork[e.res.front()][d] =</div>
<div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160;              project(fseed_split[d].at(e.data-&gt;ind()).at(e.data-&gt;segment()),</div>
<div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160;                                        e.data.sparsity(), <span class="keyword">true</span>);</div>
<div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160;          }</div>
<div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (e.op==<a class="code" href="../../d7/d23/namespacecasadi.html#af35251805e44185cb1f079ec41808618a521a7c58943e1b877b6e73d79948cb68">OP_OUTPUT</a>) {</div>
<div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160;          <span class="comment">// Collect forward sensitivity</span></div>
<div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160;          <span class="keywordflow">for</span> (casadi_int d=0; d&lt;nfwd; ++d) {</div>
<div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160;            fsens_split[d][e.data-&gt;ind()][e.data-&gt;segment()] = dwork[e.arg.front()][d];</div>
<div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160;          }</div>
<div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (e.op==<a class="code" href="../../d7/d23/namespacecasadi.html#af35251805e44185cb1f079ec41808618aae6785283527a2b4903fa3aa9f56d3d6">OP_PARAMETER</a>) {</div>
<div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160;          <span class="comment">// Fetch parameter</span></div>
<div class="line"><a name="l00840"></a><span class="lineno">  840</span>&#160;          <span class="keywordflow">for</span> (casadi_int d=0; d&lt;nfwd; ++d) {</div>
<div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160;            dwork[e.res.front()][d] = <a class="code" href="../../de/d57/classcasadi_1_1MX.html">MX</a>();</div>
<div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160;          }</div>
<div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;          <span class="comment">// Get seeds, ignoring all-zero directions</span></div>
<div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160;          oseed.clear();</div>
<div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160;          <span class="keywordflow">for</span> (casadi_int d=0; d&lt;nfwd; ++d) {</div>
<div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160;            <span class="comment">// Collect seeds, skipping directions with only zeros</span></div>
<div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160;            std::vector&lt;MX&gt; seed(e.arg.size());</div>
<div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160;            skip[d] = <span class="keyword">true</span>; <span class="comment">// All seeds are zero?</span></div>
<div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160;            <span class="keywordflow">for</span> (casadi_int i=0; i&lt;e.arg.size(); ++i) {</div>
<div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160;              casadi_int el = e.arg[i];</div>
<div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160;              <span class="keywordflow">if</span> (el&lt;0 || dwork[el][d].is_empty(<span class="keyword">true</span>)) {</div>
<div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160;                seed[i] = <a class="code" href="../../de/d57/classcasadi_1_1MX.html">MX</a>(e.data-&gt;dep(i).size());</div>
<div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160;              } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160;                seed[i] = dwork[el][d];</div>
<div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160;              }</div>
<div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160;              <span class="keywordflow">if</span> (skip[d] &amp;&amp; !seed[i].<a class="code" href="../../d7/d23/namespacecasadi.html#ac990d74f5f749e7a2ee6e635d1f6ba8d">is_zero</a>()) skip[d] = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160;            }</div>
<div class="line"><a name="l00859"></a><span class="lineno">  859</span>&#160;            <span class="keywordflow">if</span> (!skip[d]) oseed.push_back(seed);</div>
<div class="line"><a name="l00860"></a><span class="lineno">  860</span>&#160;          }</div>
<div class="line"><a name="l00861"></a><span class="lineno">  861</span>&#160; </div>
<div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160;          <span class="comment">// Perform the operation</span></div>
<div class="line"><a name="l00863"></a><span class="lineno">  863</span>&#160;          osens.resize(oseed.size());</div>
<div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160;          <span class="keywordflow">if</span> (!osens.empty()) {</div>
<div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160;            fill(osens.begin(), osens.end(), std::vector&lt;MX&gt;(e.res.size()));</div>
<div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160;            e.data.ad_forward(oseed, osens);</div>
<div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160;          }</div>
<div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160; </div>
<div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160;          <span class="comment">// Store sensitivities</span></div>
<div class="line"><a name="l00870"></a><span class="lineno">  870</span>&#160;          casadi_int d1=0;</div>
<div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160;          <span class="keywordflow">for</span> (casadi_int d=0; d&lt;nfwd; ++d) {</div>
<div class="line"><a name="l00872"></a><span class="lineno">  872</span>&#160;            <span class="keywordflow">for</span> (casadi_int i=0; i&lt;e.res.size(); ++i) {</div>
<div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160;              casadi_int el = e.res[i];</div>
<div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160;              <span class="keywordflow">if</span> (el&gt;=0) {</div>
<div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160;                dwork[el][d] = skip[d] ? <a class="code" href="../../de/d57/classcasadi_1_1MX.html">MX</a>(e.data-&gt;sparsity(i).size()) : osens[d1][i];</div>
<div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160;              }</div>
<div class="line"><a name="l00877"></a><span class="lineno">  877</span>&#160;            }</div>
<div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160;            <span class="keywordflow">if</span> (!skip[d]) d1++;</div>
<div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160;          }</div>
<div class="line"><a name="l00880"></a><span class="lineno">  880</span>&#160;        }</div>
<div class="line"><a name="l00881"></a><span class="lineno">  881</span>&#160;      }</div>
<div class="line"><a name="l00882"></a><span class="lineno">  882</span>&#160; </div>
<div class="line"><a name="l00883"></a><span class="lineno">  883</span>&#160;      <span class="comment">// Get forward sensitivities</span></div>
<div class="line"><a name="l00884"></a><span class="lineno">  884</span>&#160;      <span class="keywordflow">for</span> (casadi_int d=0; d&lt;nfwd; ++d) {</div>
<div class="line"><a name="l00885"></a><span class="lineno">  885</span>&#160;        <span class="keywordflow">for</span> (casadi_int i=0; i&lt;<a class="code" href="../../d7/d72/classcasadi_1_1XFunction.html#a101358270be8d42a155edc39d927d6f3">out_</a>.size(); ++i) {</div>
<div class="line"><a name="l00886"></a><span class="lineno">  886</span>&#160;          fsens[d][i] = <a class="code" href="../../d7/d72/classcasadi_1_1XFunction.html#a101358270be8d42a155edc39d927d6f3">out_</a>[i].join_primitives(fsens_split[d][i]);</div>
<div class="line"><a name="l00887"></a><span class="lineno">  887</span>&#160;        }</div>
<div class="line"><a name="l00888"></a><span class="lineno">  888</span>&#160;      }</div>
<div class="line"><a name="l00889"></a><span class="lineno">  889</span>&#160;    } <span class="keywordflow">catch</span> (std::exception&amp; e) {</div>
<div class="line"><a name="l00890"></a><span class="lineno">  890</span>&#160;      CASADI_THROW_ERROR(<span class="stringliteral">&quot;ad_forward&quot;</span>, e.what());</div>
<div class="line"><a name="l00891"></a><span class="lineno">  891</span>&#160;    }</div>
<div class="line"><a name="l00892"></a><span class="lineno">  892</span>&#160;  }</div>
<div class="line"><a name="l00893"></a><span class="lineno">  893</span>&#160; </div>
<div class="line"><a name="l00894"></a><span class="lineno"><a class="line" href="../../d6/dfe/classcasadi_1_1MXFunction.html#a4d7f007c566ac3ed5bcb69814dee940a">  894</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="../../d6/dfe/classcasadi_1_1MXFunction.html#a4d7f007c566ac3ed5bcb69814dee940a">MXFunction::ad_reverse</a>(<span class="keyword">const</span> std::vector&lt;std::vector&lt;MX&gt; &gt;&amp; aseed,</div>
<div class="line"><a name="l00895"></a><span class="lineno">  895</span>&#160;                                std::vector&lt;std::vector&lt;MX&gt; &gt;&amp; asens)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00896"></a><span class="lineno">  896</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../db/da0/classcasadi_1_1ProtoFunction.html#a83a58f033fda51a76e1c390019f68d7a">verbose_</a>) casadi_message(<a class="code" href="../../db/da0/classcasadi_1_1ProtoFunction.html#a53d1e8f2784eb9e5cb8b9f66d68a8840">name_</a> + <span class="stringliteral">&quot;::ad_reverse(&quot;</span> + <a class="code" href="../../d7/d23/namespacecasadi.html#a88082fbf80560c888949bb765d9ccea0">str</a>(aseed.size())+ <span class="stringliteral">&quot;)&quot;</span>);</div>
<div class="line"><a name="l00897"></a><span class="lineno">  897</span>&#160;    <span class="keywordflow">try</span> {</div>
<div class="line"><a name="l00898"></a><span class="lineno">  898</span>&#160; </div>
<div class="line"><a name="l00899"></a><span class="lineno">  899</span>&#160;      <span class="comment">// Allocate results</span></div>
<div class="line"><a name="l00900"></a><span class="lineno">  900</span>&#160;      casadi_int nadj = aseed.size();</div>
<div class="line"><a name="l00901"></a><span class="lineno">  901</span>&#160;      asens.resize(nadj);</div>
<div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160;      <span class="keywordflow">for</span> (casadi_int d=0; d&lt;nadj; ++d) {</div>
<div class="line"><a name="l00903"></a><span class="lineno">  903</span>&#160;        asens[d].resize(<a class="code" href="../../d2/dab/classcasadi_1_1FunctionInternal.html#a7d2ec172fa3fee013cef648f1ce165fa">n_in_</a>);</div>
<div class="line"><a name="l00904"></a><span class="lineno">  904</span>&#160;      }</div>
<div class="line"><a name="l00905"></a><span class="lineno">  905</span>&#160; </div>
<div class="line"><a name="l00906"></a><span class="lineno">  906</span>&#160;      <span class="comment">// Quick return if no directions</span></div>
<div class="line"><a name="l00907"></a><span class="lineno">  907</span>&#160;      <span class="keywordflow">if</span> (nadj==0) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00908"></a><span class="lineno">  908</span>&#160; </div>
<div class="line"><a name="l00909"></a><span class="lineno">  909</span>&#160;      <span class="comment">// Check if seeds need to have dimensions corrected</span></div>
<div class="line"><a name="l00910"></a><span class="lineno">  910</span>&#160;      casadi_int npar = 1;</div>
<div class="line"><a name="l00911"></a><span class="lineno">  911</span>&#160;      <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp;&amp; r : aseed) {</div>
<div class="line"><a name="l00912"></a><span class="lineno">  912</span>&#160;        <span class="keywordflow">if</span> (!<a class="code" href="../../d2/dab/classcasadi_1_1FunctionInternal.html#aba6ff87dbdfb5f6e6864673cf1427a55">matching_res</a>(r, npar)) {</div>
<div class="line"><a name="l00913"></a><span class="lineno">  913</span>&#160;          casadi_assert_dev(npar==1);</div>
<div class="line"><a name="l00914"></a><span class="lineno">  914</span>&#160;          <span class="keywordflow">return</span> <a class="code" href="../../d6/dfe/classcasadi_1_1MXFunction.html#a4d7f007c566ac3ed5bcb69814dee940a">ad_reverse</a>(<a class="code" href="../../d2/dab/classcasadi_1_1FunctionInternal.html#af61b4b4cdcfeb8ef0f40596379464e53">replace_aseed</a>(aseed, npar), asens);</div>
<div class="line"><a name="l00915"></a><span class="lineno">  915</span>&#160;        }</div>
<div class="line"><a name="l00916"></a><span class="lineno">  916</span>&#160;      }</div>
<div class="line"><a name="l00917"></a><span class="lineno">  917</span>&#160; </div>
<div class="line"><a name="l00918"></a><span class="lineno">  918</span>&#160;      <span class="comment">// Check if there are any zero seeds</span></div>
<div class="line"><a name="l00919"></a><span class="lineno">  919</span>&#160;      <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp;&amp; r : aseed) {</div>
<div class="line"><a name="l00920"></a><span class="lineno">  920</span>&#160;        <span class="comment">// If any direction can be skipped</span></div>
<div class="line"><a name="l00921"></a><span class="lineno">  921</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d2/dab/classcasadi_1_1FunctionInternal.html#aedf834606d6e0f6a0303b5e8724978d1">purgable</a>(r)) {</div>
<div class="line"><a name="l00922"></a><span class="lineno">  922</span>&#160;          <span class="comment">// New argument without all-zero directions</span></div>
<div class="line"><a name="l00923"></a><span class="lineno">  923</span>&#160;          std::vector&lt;std::vector&lt;MX&gt; &gt; aseed_purged, asens_purged;</div>
<div class="line"><a name="l00924"></a><span class="lineno">  924</span>&#160;          aseed_purged.reserve(nadj);</div>
<div class="line"><a name="l00925"></a><span class="lineno">  925</span>&#160;          std::vector&lt;casadi_int&gt; index_purged;</div>
<div class="line"><a name="l00926"></a><span class="lineno">  926</span>&#160;          <span class="keywordflow">for</span> (casadi_int d=0; d&lt;nadj; ++d) {</div>
<div class="line"><a name="l00927"></a><span class="lineno">  927</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../d2/dab/classcasadi_1_1FunctionInternal.html#aedf834606d6e0f6a0303b5e8724978d1">purgable</a>(aseed[d])) {</div>
<div class="line"><a name="l00928"></a><span class="lineno">  928</span>&#160;              <span class="keywordflow">for</span> (casadi_int i=0; i&lt;asens[d].size(); ++i) {</div>
<div class="line"><a name="l00929"></a><span class="lineno">  929</span>&#160;                asens[d][i] = <a class="code" href="../../de/d57/classcasadi_1_1MX.html">MX</a>(<a class="code" href="../../d2/dab/classcasadi_1_1FunctionInternal.html#a349fe20bbcc46713b6ff9d3e3d6dde4e">size_in</a>(i));</div>
<div class="line"><a name="l00930"></a><span class="lineno">  930</span>&#160;              }</div>
<div class="line"><a name="l00931"></a><span class="lineno">  931</span>&#160;            } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00932"></a><span class="lineno">  932</span>&#160;              aseed_purged.push_back(asens[d]);</div>
<div class="line"><a name="l00933"></a><span class="lineno">  933</span>&#160;              index_purged.push_back(d);</div>
<div class="line"><a name="l00934"></a><span class="lineno">  934</span>&#160;            }</div>
<div class="line"><a name="l00935"></a><span class="lineno">  935</span>&#160;          }</div>
<div class="line"><a name="l00936"></a><span class="lineno">  936</span>&#160; </div>
<div class="line"><a name="l00937"></a><span class="lineno">  937</span>&#160;          <span class="comment">// Call recursively</span></div>
<div class="line"><a name="l00938"></a><span class="lineno">  938</span>&#160;          <a class="code" href="../../d6/dfe/classcasadi_1_1MXFunction.html#a4d7f007c566ac3ed5bcb69814dee940a">ad_reverse</a>(aseed_purged, asens_purged);</div>
<div class="line"><a name="l00939"></a><span class="lineno">  939</span>&#160; </div>
<div class="line"><a name="l00940"></a><span class="lineno">  940</span>&#160;          <span class="comment">// Fetch result</span></div>
<div class="line"><a name="l00941"></a><span class="lineno">  941</span>&#160;          <span class="keywordflow">for</span> (casadi_int d=0; d&lt;aseed_purged.size(); ++d) {</div>
<div class="line"><a name="l00942"></a><span class="lineno">  942</span>&#160;            asens[index_purged[d]] = asens_purged[d];</div>
<div class="line"><a name="l00943"></a><span class="lineno">  943</span>&#160;          }</div>
<div class="line"><a name="l00944"></a><span class="lineno">  944</span>&#160;          <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00945"></a><span class="lineno">  945</span>&#160;        }</div>
<div class="line"><a name="l00946"></a><span class="lineno">  946</span>&#160;      }</div>
<div class="line"><a name="l00947"></a><span class="lineno">  947</span>&#160; </div>
<div class="line"><a name="l00948"></a><span class="lineno">  948</span>&#160;      <span class="keywordflow">if</span> (!<a class="code" href="../../d2/dab/classcasadi_1_1FunctionInternal.html#a576ed6830c912275e71b24bd773f04e1">enable_reverse_</a>) {</div>
<div class="line"><a name="l00949"></a><span class="lineno">  949</span>&#160;        std::vector&lt;std::vector&lt;MX&gt; &gt; v;</div>
<div class="line"><a name="l00950"></a><span class="lineno">  950</span>&#160;        <span class="comment">// Do the non-inlining call from FunctionInternal</span></div>
<div class="line"><a name="l00951"></a><span class="lineno">  951</span>&#160;        <span class="comment">// NOLINTNEXTLINE(bugprone-parent-virtual-call)</span></div>
<div class="line"><a name="l00952"></a><span class="lineno">  952</span>&#160;        <a class="code" href="../../d2/dab/classcasadi_1_1FunctionInternal.html#a4835cd148bad89630276e0cc31764097">FunctionInternal::call_reverse</a>(<a class="code" href="../../d7/d72/classcasadi_1_1XFunction.html#abbdc6a6d3bb13c1a3e2c21e74648da3a">in_</a>, <a class="code" href="../../d7/d72/classcasadi_1_1XFunction.html#a101358270be8d42a155edc39d927d6f3">out_</a>, aseed, v, <span class="keyword">false</span>, <span class="keyword">false</span>);</div>
<div class="line"><a name="l00953"></a><span class="lineno">  953</span>&#160;        <span class="keywordflow">for</span> (casadi_int i=0; i&lt;v.size(); ++i) {</div>
<div class="line"><a name="l00954"></a><span class="lineno">  954</span>&#160;          <span class="keywordflow">for</span> (casadi_int j=0; j&lt;v[i].size(); ++j) {</div>
<div class="line"><a name="l00955"></a><span class="lineno">  955</span>&#160;            <span class="keywordflow">if</span> (!v[i][j].is_empty()) { <span class="comment">// TODO(@jaeandersson): Hack</span></div>
<div class="line"><a name="l00956"></a><span class="lineno">  956</span>&#160;              <span class="keywordflow">if</span> (asens[i][j].is_empty()) {</div>
<div class="line"><a name="l00957"></a><span class="lineno">  957</span>&#160;                asens[i][j] = v[i][j];</div>
<div class="line"><a name="l00958"></a><span class="lineno">  958</span>&#160;              } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00959"></a><span class="lineno">  959</span>&#160;                asens[i][j] += v[i][j];</div>
<div class="line"><a name="l00960"></a><span class="lineno">  960</span>&#160;              }</div>
<div class="line"><a name="l00961"></a><span class="lineno">  961</span>&#160;            }</div>
<div class="line"><a name="l00962"></a><span class="lineno">  962</span>&#160;          }</div>
<div class="line"><a name="l00963"></a><span class="lineno">  963</span>&#160;        }</div>
<div class="line"><a name="l00964"></a><span class="lineno">  964</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00965"></a><span class="lineno">  965</span>&#160;      }</div>
<div class="line"><a name="l00966"></a><span class="lineno">  966</span>&#160; </div>
<div class="line"><a name="l00967"></a><span class="lineno">  967</span>&#160;      <span class="comment">// Split up aseed analogous to symbolic primitives</span></div>
<div class="line"><a name="l00968"></a><span class="lineno">  968</span>&#160;      std::vector&lt;std::vector&lt;std::vector&lt;MX&gt;&gt;&gt; aseed_split(nadj);</div>
<div class="line"><a name="l00969"></a><span class="lineno">  969</span>&#160;      <span class="keywordflow">for</span> (casadi_int d=0; d&lt;nadj; ++d) {</div>
<div class="line"><a name="l00970"></a><span class="lineno">  970</span>&#160;        aseed_split[d].resize(<a class="code" href="../../d7/d72/classcasadi_1_1XFunction.html#a101358270be8d42a155edc39d927d6f3">out_</a>.size());</div>
<div class="line"><a name="l00971"></a><span class="lineno">  971</span>&#160;        <span class="keywordflow">for</span> (casadi_int i=0; i&lt;<a class="code" href="../../d7/d72/classcasadi_1_1XFunction.html#a101358270be8d42a155edc39d927d6f3">out_</a>.size(); ++i) {</div>
<div class="line"><a name="l00972"></a><span class="lineno">  972</span>&#160;          aseed_split[d][i] = <a class="code" href="../../d7/d72/classcasadi_1_1XFunction.html#a101358270be8d42a155edc39d927d6f3">out_</a>[i].split_primitives(aseed[d][i]);</div>
<div class="line"><a name="l00973"></a><span class="lineno">  973</span>&#160;        }</div>
<div class="line"><a name="l00974"></a><span class="lineno">  974</span>&#160;      }</div>
<div class="line"><a name="l00975"></a><span class="lineno">  975</span>&#160; </div>
<div class="line"><a name="l00976"></a><span class="lineno">  976</span>&#160;      <span class="comment">// Allocate splited adjoint sensitivities</span></div>
<div class="line"><a name="l00977"></a><span class="lineno">  977</span>&#160;      std::vector&lt;std::vector&lt;std::vector&lt;MX&gt;&gt;&gt; asens_split(nadj);</div>
<div class="line"><a name="l00978"></a><span class="lineno">  978</span>&#160;      <span class="keywordflow">for</span> (casadi_int d=0; d&lt;nadj; ++d) {</div>
<div class="line"><a name="l00979"></a><span class="lineno">  979</span>&#160;        asens_split[d].resize(<a class="code" href="../../d7/d72/classcasadi_1_1XFunction.html#abbdc6a6d3bb13c1a3e2c21e74648da3a">in_</a>.size());</div>
<div class="line"><a name="l00980"></a><span class="lineno">  980</span>&#160;        <span class="keywordflow">for</span> (casadi_int i=0; i&lt;<a class="code" href="../../d7/d72/classcasadi_1_1XFunction.html#abbdc6a6d3bb13c1a3e2c21e74648da3a">in_</a>.size(); ++i) {</div>
<div class="line"><a name="l00981"></a><span class="lineno">  981</span>&#160;          asens_split[d][i].resize(<a class="code" href="../../d7/d72/classcasadi_1_1XFunction.html#abbdc6a6d3bb13c1a3e2c21e74648da3a">in_</a>[i].n_primitives());</div>
<div class="line"><a name="l00982"></a><span class="lineno">  982</span>&#160;        }</div>
<div class="line"><a name="l00983"></a><span class="lineno">  983</span>&#160;      }</div>
<div class="line"><a name="l00984"></a><span class="lineno">  984</span>&#160; </div>
<div class="line"><a name="l00985"></a><span class="lineno">  985</span>&#160;      <span class="comment">// Pointers to the arguments of the current operation</span></div>
<div class="line"><a name="l00986"></a><span class="lineno">  986</span>&#160;      std::vector&lt;std::vector&lt;MX&gt;&gt; oseed, osens;</div>
<div class="line"><a name="l00987"></a><span class="lineno">  987</span>&#160;      oseed.reserve(nadj);</div>
<div class="line"><a name="l00988"></a><span class="lineno">  988</span>&#160;      osens.reserve(nadj);</div>
<div class="line"><a name="l00989"></a><span class="lineno">  989</span>&#160;      std::vector&lt;bool&gt; skip(nadj, <span class="keyword">false</span>);</div>
<div class="line"><a name="l00990"></a><span class="lineno">  990</span>&#160; </div>
<div class="line"><a name="l00991"></a><span class="lineno">  991</span>&#160;      <span class="comment">// Work vector, adjoint derivatives</span></div>
<div class="line"><a name="l00992"></a><span class="lineno">  992</span>&#160;      std::vector&lt;std::vector&lt;MX&gt; &gt; dwork(<a class="code" href="../../d6/dfe/classcasadi_1_1MXFunction.html#a0a81aa9b5af5e6f5239678d5b2347361">workloc_</a>.size()-1);</div>
<div class="line"><a name="l00993"></a><span class="lineno">  993</span>&#160;      fill(dwork.begin(), dwork.end(), std::vector&lt;MX&gt;(nadj));</div>
<div class="line"><a name="l00994"></a><span class="lineno">  994</span>&#160; </div>
<div class="line"><a name="l00995"></a><span class="lineno">  995</span>&#160;      <span class="comment">// Loop over computational nodes in reverse order</span></div>
<div class="line"><a name="l00996"></a><span class="lineno">  996</span>&#160;      <span class="keywordflow">for</span> (<span class="keyword">auto</span> it=<a class="code" href="../../d6/dfe/classcasadi_1_1MXFunction.html#ab88c17946b4e00d02dab5531a2e01b36">algorithm_</a>.rbegin(); it!=<a class="code" href="../../d6/dfe/classcasadi_1_1MXFunction.html#ab88c17946b4e00d02dab5531a2e01b36">algorithm_</a>.rend(); ++it) {</div>
<div class="line"><a name="l00997"></a><span class="lineno">  997</span>&#160;        <span class="keywordflow">if</span> (it-&gt;op == <a class="code" href="../../d7/d23/namespacecasadi.html#af35251805e44185cb1f079ec41808618a772d0d4a7fe8303114d42995378698d1">OP_INPUT</a>) {</div>
<div class="line"><a name="l00998"></a><span class="lineno">  998</span>&#160;          <span class="comment">// Get the adjoint sensitivities</span></div>
<div class="line"><a name="l00999"></a><span class="lineno">  999</span>&#160;          <span class="keywordflow">for</span> (casadi_int d=0; d&lt;nadj; ++d) {</div>
<div class="line"><a name="l01000"></a><span class="lineno"> 1000</span>&#160;            asens_split[d].at(it-&gt;data-&gt;ind()).at(it-&gt;data-&gt;segment()) = dwork[it-&gt;res.front()][d];</div>
<div class="line"><a name="l01001"></a><span class="lineno"> 1001</span>&#160;            dwork[it-&gt;res.front()][d] = <a class="code" href="../../de/d57/classcasadi_1_1MX.html">MX</a>();</div>
<div class="line"><a name="l01002"></a><span class="lineno"> 1002</span>&#160;          }</div>
<div class="line"><a name="l01003"></a><span class="lineno"> 1003</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (it-&gt;op==<a class="code" href="../../d7/d23/namespacecasadi.html#af35251805e44185cb1f079ec41808618a521a7c58943e1b877b6e73d79948cb68">OP_OUTPUT</a>) {</div>
<div class="line"><a name="l01004"></a><span class="lineno"> 1004</span>&#160;          <span class="comment">// Pass the adjoint seeds</span></div>
<div class="line"><a name="l01005"></a><span class="lineno"> 1005</span>&#160;          <span class="keywordflow">for</span> (casadi_int d=0; d&lt;nadj; ++d) {</div>
<div class="line"><a name="l01006"></a><span class="lineno"> 1006</span>&#160;            <a class="code" href="../../de/d57/classcasadi_1_1MX.html">MX</a> a = project(aseed_split[d].at(it-&gt;data-&gt;ind()).at(it-&gt;data-&gt;segment()),</div>
<div class="line"><a name="l01007"></a><span class="lineno"> 1007</span>&#160;                           it-&gt;data.dep().sparsity(), <span class="keyword">true</span>);</div>
<div class="line"><a name="l01008"></a><span class="lineno"> 1008</span>&#160;            <span class="keywordflow">if</span> (dwork[it-&gt;arg.front()][d].is_empty(<span class="keyword">true</span>)) {</div>
<div class="line"><a name="l01009"></a><span class="lineno"> 1009</span>&#160;              dwork[it-&gt;arg.front()][d] = a;</div>
<div class="line"><a name="l01010"></a><span class="lineno"> 1010</span>&#160;            } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01011"></a><span class="lineno"> 1011</span>&#160;              dwork[it-&gt;arg.front()][d] += a;</div>
<div class="line"><a name="l01012"></a><span class="lineno"> 1012</span>&#160;            }</div>
<div class="line"><a name="l01013"></a><span class="lineno"> 1013</span>&#160;          }</div>
<div class="line"><a name="l01014"></a><span class="lineno"> 1014</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (it-&gt;op==<a class="code" href="../../d7/d23/namespacecasadi.html#af35251805e44185cb1f079ec41808618aae6785283527a2b4903fa3aa9f56d3d6">OP_PARAMETER</a>) {</div>
<div class="line"><a name="l01015"></a><span class="lineno"> 1015</span>&#160;          <span class="comment">// Clear adjoint seeds</span></div>
<div class="line"><a name="l01016"></a><span class="lineno"> 1016</span>&#160;          <span class="keywordflow">for</span> (casadi_int d=0; d&lt;nadj; ++d) {</div>
<div class="line"><a name="l01017"></a><span class="lineno"> 1017</span>&#160;            dwork[it-&gt;res.front()][d] = <a class="code" href="../../de/d57/classcasadi_1_1MX.html">MX</a>();</div>
<div class="line"><a name="l01018"></a><span class="lineno"> 1018</span>&#160;          }</div>
<div class="line"><a name="l01019"></a><span class="lineno"> 1019</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01020"></a><span class="lineno"> 1020</span>&#160;          <span class="comment">// Collect and reset seeds</span></div>
<div class="line"><a name="l01021"></a><span class="lineno"> 1021</span>&#160;          oseed.clear();</div>
<div class="line"><a name="l01022"></a><span class="lineno"> 1022</span>&#160;          <span class="keywordflow">for</span> (casadi_int d=0; d&lt;nadj; ++d) {</div>
<div class="line"><a name="l01023"></a><span class="lineno"> 1023</span>&#160;            <span class="comment">// Can the direction be skipped completely?</span></div>
<div class="line"><a name="l01024"></a><span class="lineno"> 1024</span>&#160;            skip[d] = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01025"></a><span class="lineno"> 1025</span>&#160; </div>
<div class="line"><a name="l01026"></a><span class="lineno"> 1026</span>&#160;            <span class="comment">// Seeds for direction d</span></div>
<div class="line"><a name="l01027"></a><span class="lineno"> 1027</span>&#160;            std::vector&lt;MX&gt; seed(it-&gt;res.size());</div>
<div class="line"><a name="l01028"></a><span class="lineno"> 1028</span>&#160;            <span class="keywordflow">for</span> (casadi_int i=0; i&lt;it-&gt;res.size(); ++i) {</div>
<div class="line"><a name="l01029"></a><span class="lineno"> 1029</span>&#160;              <span class="comment">// Get and clear seed</span></div>
<div class="line"><a name="l01030"></a><span class="lineno"> 1030</span>&#160;              casadi_int el = it-&gt;res[i];</div>
<div class="line"><a name="l01031"></a><span class="lineno"> 1031</span>&#160;              <span class="keywordflow">if</span> (el&gt;=0) {</div>
<div class="line"><a name="l01032"></a><span class="lineno"> 1032</span>&#160;                seed[i] = dwork[el][d];</div>
<div class="line"><a name="l01033"></a><span class="lineno"> 1033</span>&#160;                dwork[el][d] = <a class="code" href="../../de/d57/classcasadi_1_1MX.html">MX</a>();</div>
<div class="line"><a name="l01034"></a><span class="lineno"> 1034</span>&#160;              } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01035"></a><span class="lineno"> 1035</span>&#160;                seed[i] = <a class="code" href="../../de/d57/classcasadi_1_1MX.html">MX</a>();</div>
<div class="line"><a name="l01036"></a><span class="lineno"> 1036</span>&#160;              }</div>
<div class="line"><a name="l01037"></a><span class="lineno"> 1037</span>&#160; </div>
<div class="line"><a name="l01038"></a><span class="lineno"> 1038</span>&#160;              <span class="comment">// If first time encountered, reset to zero of right dimension</span></div>
<div class="line"><a name="l01039"></a><span class="lineno"> 1039</span>&#160;              <span class="keywordflow">if</span> (seed[i].is_empty(<span class="keyword">true</span>)) seed[i] = <a class="code" href="../../de/d57/classcasadi_1_1MX.html">MX</a>(it-&gt;data-&gt;sparsity(i).size());</div>
<div class="line"><a name="l01040"></a><span class="lineno"> 1040</span>&#160; </div>
<div class="line"><a name="l01041"></a><span class="lineno"> 1041</span>&#160;              <span class="comment">// If nonzero seeds, keep direction</span></div>
<div class="line"><a name="l01042"></a><span class="lineno"> 1042</span>&#160;              <span class="keywordflow">if</span> (skip[d] &amp;&amp; !seed[i].<a class="code" href="../../d7/d23/namespacecasadi.html#ac990d74f5f749e7a2ee6e635d1f6ba8d">is_zero</a>()) skip[d] = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01043"></a><span class="lineno"> 1043</span>&#160;            }</div>
<div class="line"><a name="l01044"></a><span class="lineno"> 1044</span>&#160;            <span class="comment">// Add to list of derivatives</span></div>
<div class="line"><a name="l01045"></a><span class="lineno"> 1045</span>&#160;            <span class="keywordflow">if</span> (!skip[d]) oseed.push_back(seed);</div>
<div class="line"><a name="l01046"></a><span class="lineno"> 1046</span>&#160;          }</div>
<div class="line"><a name="l01047"></a><span class="lineno"> 1047</span>&#160; </div>
<div class="line"><a name="l01048"></a><span class="lineno"> 1048</span>&#160;          <span class="comment">// Get values of sensitivities before addition</span></div>
<div class="line"><a name="l01049"></a><span class="lineno"> 1049</span>&#160;          osens.resize(oseed.size());</div>
<div class="line"><a name="l01050"></a><span class="lineno"> 1050</span>&#160;          casadi_int d1=0;</div>
<div class="line"><a name="l01051"></a><span class="lineno"> 1051</span>&#160;          <span class="keywordflow">for</span> (casadi_int d=0; d&lt;nadj; ++d) {</div>
<div class="line"><a name="l01052"></a><span class="lineno"> 1052</span>&#160;            <span class="keywordflow">if</span> (skip[d]) <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01053"></a><span class="lineno"> 1053</span>&#160;            osens[d1].resize(it-&gt;arg.size());</div>
<div class="line"><a name="l01054"></a><span class="lineno"> 1054</span>&#160;            <span class="keywordflow">for</span> (casadi_int i=0; i&lt;it-&gt;arg.size(); ++i) {</div>
<div class="line"><a name="l01055"></a><span class="lineno"> 1055</span>&#160;              <span class="comment">// Pass seed and reset to avoid counting twice</span></div>
<div class="line"><a name="l01056"></a><span class="lineno"> 1056</span>&#160;              casadi_int el = it-&gt;arg[i];</div>
<div class="line"><a name="l01057"></a><span class="lineno"> 1057</span>&#160;              <span class="keywordflow">if</span> (el&gt;=0) {</div>
<div class="line"><a name="l01058"></a><span class="lineno"> 1058</span>&#160;                osens[d1][i] = dwork[el][d];</div>
<div class="line"><a name="l01059"></a><span class="lineno"> 1059</span>&#160;                dwork[el][d] = <a class="code" href="../../de/d57/classcasadi_1_1MX.html">MX</a>();</div>
<div class="line"><a name="l01060"></a><span class="lineno"> 1060</span>&#160;              } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01061"></a><span class="lineno"> 1061</span>&#160;                osens[d1][i] = <a class="code" href="../../de/d57/classcasadi_1_1MX.html">MX</a>();</div>
<div class="line"><a name="l01062"></a><span class="lineno"> 1062</span>&#160;              }</div>
<div class="line"><a name="l01063"></a><span class="lineno"> 1063</span>&#160; </div>
<div class="line"><a name="l01064"></a><span class="lineno"> 1064</span>&#160;              <span class="comment">// If first time encountered, reset to zero of right dimension</span></div>
<div class="line"><a name="l01065"></a><span class="lineno"> 1065</span>&#160;              <span class="keywordflow">if</span> (osens[d1][i].is_empty(<span class="keyword">true</span>)) osens[d1][i] = <a class="code" href="../../de/d57/classcasadi_1_1MX.html">MX</a>(it-&gt;data-&gt;dep(i).size());</div>
<div class="line"><a name="l01066"></a><span class="lineno"> 1066</span>&#160;            }</div>
<div class="line"><a name="l01067"></a><span class="lineno"> 1067</span>&#160;            d1++;</div>
<div class="line"><a name="l01068"></a><span class="lineno"> 1068</span>&#160;          }</div>
<div class="line"><a name="l01069"></a><span class="lineno"> 1069</span>&#160; </div>
<div class="line"><a name="l01070"></a><span class="lineno"> 1070</span>&#160;          <span class="comment">// Perform the operation</span></div>
<div class="line"><a name="l01071"></a><span class="lineno"> 1071</span>&#160;          <span class="keywordflow">if</span> (!osens.empty()) {</div>
<div class="line"><a name="l01072"></a><span class="lineno"> 1072</span>&#160;            it-&gt;data.ad_reverse(oseed, osens);</div>
<div class="line"><a name="l01073"></a><span class="lineno"> 1073</span>&#160;          }</div>
<div class="line"><a name="l01074"></a><span class="lineno"> 1074</span>&#160; </div>
<div class="line"><a name="l01075"></a><span class="lineno"> 1075</span>&#160;          <span class="comment">// Store sensitivities</span></div>
<div class="line"><a name="l01076"></a><span class="lineno"> 1076</span>&#160;          d1=0;</div>
<div class="line"><a name="l01077"></a><span class="lineno"> 1077</span>&#160;          <span class="keywordflow">for</span> (casadi_int d=0; d&lt;nadj; ++d) {</div>
<div class="line"><a name="l01078"></a><span class="lineno"> 1078</span>&#160;            <span class="keywordflow">if</span> (skip[d]) <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01079"></a><span class="lineno"> 1079</span>&#160;            <span class="keywordflow">for</span> (casadi_int i=0; i&lt;it-&gt;arg.size(); ++i) {</div>
<div class="line"><a name="l01080"></a><span class="lineno"> 1080</span>&#160;              casadi_int el = it-&gt;arg[i];</div>
<div class="line"><a name="l01081"></a><span class="lineno"> 1081</span>&#160;              <span class="keywordflow">if</span> (el&gt;=0) {</div>
<div class="line"><a name="l01082"></a><span class="lineno"> 1082</span>&#160;                <span class="keywordflow">if</span> (dwork[el][d].is_empty(<span class="keyword">true</span>)) {</div>
<div class="line"><a name="l01083"></a><span class="lineno"> 1083</span>&#160;                  dwork[el][d] = osens[d1][i];</div>
<div class="line"><a name="l01084"></a><span class="lineno"> 1084</span>&#160;                } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01085"></a><span class="lineno"> 1085</span>&#160;                  dwork[el][d] += osens[d1][i];</div>
<div class="line"><a name="l01086"></a><span class="lineno"> 1086</span>&#160;                }</div>
<div class="line"><a name="l01087"></a><span class="lineno"> 1087</span>&#160;              }</div>
<div class="line"><a name="l01088"></a><span class="lineno"> 1088</span>&#160;            }</div>
<div class="line"><a name="l01089"></a><span class="lineno"> 1089</span>&#160;            d1++;</div>
<div class="line"><a name="l01090"></a><span class="lineno"> 1090</span>&#160;          }</div>
<div class="line"><a name="l01091"></a><span class="lineno"> 1091</span>&#160;        }</div>
<div class="line"><a name="l01092"></a><span class="lineno"> 1092</span>&#160;      }</div>
<div class="line"><a name="l01093"></a><span class="lineno"> 1093</span>&#160; </div>
<div class="line"><a name="l01094"></a><span class="lineno"> 1094</span>&#160;      <span class="comment">// Get adjoint sensitivities</span></div>
<div class="line"><a name="l01095"></a><span class="lineno"> 1095</span>&#160;      <span class="keywordflow">for</span> (casadi_int d=0; d&lt;nadj; ++d) {</div>
<div class="line"><a name="l01096"></a><span class="lineno"> 1096</span>&#160;        <span class="keywordflow">for</span> (casadi_int i=0; i&lt;<a class="code" href="../../d7/d72/classcasadi_1_1XFunction.html#abbdc6a6d3bb13c1a3e2c21e74648da3a">in_</a>.size(); ++i) {</div>
<div class="line"><a name="l01097"></a><span class="lineno"> 1097</span>&#160;          asens[d][i] = <a class="code" href="../../d7/d72/classcasadi_1_1XFunction.html#abbdc6a6d3bb13c1a3e2c21e74648da3a">in_</a>[i].join_primitives(asens_split[d][i]);</div>
<div class="line"><a name="l01098"></a><span class="lineno"> 1098</span>&#160;        }</div>
<div class="line"><a name="l01099"></a><span class="lineno"> 1099</span>&#160;      }</div>
<div class="line"><a name="l01100"></a><span class="lineno"> 1100</span>&#160;    } <span class="keywordflow">catch</span> (std::exception&amp; e) {</div>
<div class="line"><a name="l01101"></a><span class="lineno"> 1101</span>&#160;      CASADI_THROW_ERROR(<span class="stringliteral">&quot;ad_reverse&quot;</span>, e.what());</div>
<div class="line"><a name="l01102"></a><span class="lineno"> 1102</span>&#160;    }</div>
<div class="line"><a name="l01103"></a><span class="lineno"> 1103</span>&#160;  }</div>
<div class="line"><a name="l01104"></a><span class="lineno"> 1104</span>&#160; </div>
<div class="line"><a name="l01105"></a><span class="lineno"><a class="line" href="../../d6/dfe/classcasadi_1_1MXFunction.html#a420c85b9f3058031cabeb0e013cb8288"> 1105</a></span>&#160;  <span class="keywordtype">int</span> <a class="code" href="../../d6/dfe/classcasadi_1_1MXFunction.html#a420c85b9f3058031cabeb0e013cb8288">MXFunction::eval_sx</a>(<span class="keyword">const</span> <a class="code" href="../../d0/d06/classcasadi_1_1SXElem.html">SXElem</a>** arg, <a class="code" href="../../d0/d06/classcasadi_1_1SXElem.html">SXElem</a>** res,</div>
<div class="line"><a name="l01106"></a><span class="lineno"> 1106</span>&#160;      casadi_int* iw, <a class="code" href="../../d0/d06/classcasadi_1_1SXElem.html">SXElem</a>* w, <span class="keywordtype">void</span>* mem)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l01107"></a><span class="lineno"> 1107</span>&#160;    <span class="comment">// Work vector and temporaries to hold pointers to operation input and outputs</span></div>
<div class="line"><a name="l01108"></a><span class="lineno"> 1108</span>&#160;    std::vector&lt;const SXElem*&gt; argp(<a class="code" href="../../d2/dab/classcasadi_1_1FunctionInternal.html#adae8da4f3aedd0fc92969ea155c786fd">sz_arg</a>());</div>
<div class="line"><a name="l01109"></a><span class="lineno"> 1109</span>&#160;    std::vector&lt;SXElem*&gt; resp(<a class="code" href="../../d2/dab/classcasadi_1_1FunctionInternal.html#a828116f2ca884d2efcc30b78f92e12d3">sz_res</a>());</div>
<div class="line"><a name="l01110"></a><span class="lineno"> 1110</span>&#160; </div>
<div class="line"><a name="l01111"></a><span class="lineno"> 1111</span>&#160;    <span class="comment">// Evaluate all of the nodes of the algorithm:</span></div>
<div class="line"><a name="l01112"></a><span class="lineno"> 1112</span>&#160;    <span class="comment">// should only evaluate nodes that have not yet been calculated!</span></div>
<div class="line"><a name="l01113"></a><span class="lineno"> 1113</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp;&amp; a : <a class="code" href="../../d6/dfe/classcasadi_1_1MXFunction.html#ab88c17946b4e00d02dab5531a2e01b36">algorithm_</a>) {</div>
<div class="line"><a name="l01114"></a><span class="lineno"> 1114</span>&#160;      <span class="keywordflow">if</span> (a.op==<a class="code" href="../../d7/d23/namespacecasadi.html#af35251805e44185cb1f079ec41808618a772d0d4a7fe8303114d42995378698d1">OP_INPUT</a>) {</div>
<div class="line"><a name="l01115"></a><span class="lineno"> 1115</span>&#160;        <span class="comment">// Pass an input</span></div>
<div class="line"><a name="l01116"></a><span class="lineno"> 1116</span>&#160;        <a class="code" href="../../d0/d06/classcasadi_1_1SXElem.html">SXElem</a> *w1 = w+<a class="code" href="../../d6/dfe/classcasadi_1_1MXFunction.html#a0a81aa9b5af5e6f5239678d5b2347361">workloc_</a>[a.res.front()];</div>
<div class="line"><a name="l01117"></a><span class="lineno"> 1117</span>&#160;        casadi_int nnz=a.data.nnz();</div>
<div class="line"><a name="l01118"></a><span class="lineno"> 1118</span>&#160;        casadi_int i=a.data-&gt;ind();</div>
<div class="line"><a name="l01119"></a><span class="lineno"> 1119</span>&#160;        casadi_int nz_offset=a.data-&gt;offset();</div>
<div class="line"><a name="l01120"></a><span class="lineno"> 1120</span>&#160;        <span class="keywordflow">if</span> (arg[i]==<span class="keyword">nullptr</span>) {</div>
<div class="line"><a name="l01121"></a><span class="lineno"> 1121</span>&#160;          std::fill(w1, w1+nnz, 0);</div>
<div class="line"><a name="l01122"></a><span class="lineno"> 1122</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01123"></a><span class="lineno"> 1123</span>&#160;          std::copy(arg[i]+nz_offset, arg[i]+nz_offset+nnz, w1);</div>
<div class="line"><a name="l01124"></a><span class="lineno"> 1124</span>&#160;        }</div>
<div class="line"><a name="l01125"></a><span class="lineno"> 1125</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (a.op==<a class="code" href="../../d7/d23/namespacecasadi.html#af35251805e44185cb1f079ec41808618a521a7c58943e1b877b6e73d79948cb68">OP_OUTPUT</a>) {</div>
<div class="line"><a name="l01126"></a><span class="lineno"> 1126</span>&#160;        <span class="comment">// Get the outputs</span></div>
<div class="line"><a name="l01127"></a><span class="lineno"> 1127</span>&#160;        <a class="code" href="../../d0/d06/classcasadi_1_1SXElem.html">SXElem</a> *w1 = w+<a class="code" href="../../d6/dfe/classcasadi_1_1MXFunction.html#a0a81aa9b5af5e6f5239678d5b2347361">workloc_</a>[a.arg.front()];</div>
<div class="line"><a name="l01128"></a><span class="lineno"> 1128</span>&#160;        casadi_int nnz=a.data.dep().nnz();</div>
<div class="line"><a name="l01129"></a><span class="lineno"> 1129</span>&#160;        casadi_int i=a.data-&gt;ind();</div>
<div class="line"><a name="l01130"></a><span class="lineno"> 1130</span>&#160;        casadi_int nz_offset=a.data-&gt;offset();</div>
<div class="line"><a name="l01131"></a><span class="lineno"> 1131</span>&#160;        <span class="keywordflow">if</span> (res[i]) std::copy(w1, w1+nnz, res[i]+nz_offset);</div>
<div class="line"><a name="l01132"></a><span class="lineno"> 1132</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (a.op==<a class="code" href="../../d7/d23/namespacecasadi.html#af35251805e44185cb1f079ec41808618aae6785283527a2b4903fa3aa9f56d3d6">OP_PARAMETER</a>) {</div>
<div class="line"><a name="l01133"></a><span class="lineno"> 1133</span>&#160;        <span class="keywordflow">continue</span>; <span class="comment">// FIXME</span></div>
<div class="line"><a name="l01134"></a><span class="lineno"> 1134</span>&#160;      } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01135"></a><span class="lineno"> 1135</span>&#160;        <span class="comment">// Point pointers to the data corresponding to the element</span></div>
<div class="line"><a name="l01136"></a><span class="lineno"> 1136</span>&#160;        <span class="keywordflow">for</span> (casadi_int i=0; i&lt;a.arg.size(); ++i)</div>
<div class="line"><a name="l01137"></a><span class="lineno"> 1137</span>&#160;          argp[i] = a.arg[i]&gt;=0 ? w+<a class="code" href="../../d6/dfe/classcasadi_1_1MXFunction.html#a0a81aa9b5af5e6f5239678d5b2347361">workloc_</a>[a.arg[i]] : <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l01138"></a><span class="lineno"> 1138</span>&#160;        for (casadi_int i=0; i&lt;a.res.size(); ++i)</div>
<div class="line"><a name="l01139"></a><span class="lineno"> 1139</span>&#160;          resp[i] = a.res[i]&gt;=0 ? w+<a class="code" href="../../d6/dfe/classcasadi_1_1MXFunction.html#a0a81aa9b5af5e6f5239678d5b2347361">workloc_</a>[a.res[i]] : <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l01140"></a><span class="lineno"> 1140</span>&#160; </div>
<div class="line"><a name="l01141"></a><span class="lineno"> 1141</span>&#160;        <span class="comment">// Evaluate</span></div>
<div class="line"><a name="l01142"></a><span class="lineno"> 1142</span>&#160;        if (a.data-&gt;eval_sx(<a class="code" href="../../d7/d23/namespacecasadi.html#ac09c0efbef523dbe0a36546b832d32d5">get_ptr</a>(argp), <a class="code" href="../../d7/d23/namespacecasadi.html#ac09c0efbef523dbe0a36546b832d32d5">get_ptr</a>(resp), iw, w)) <span class="keywordflow">return</span> 1;</div>
<div class="line"><a name="l01143"></a><span class="lineno"> 1143</span>&#160;      }</div>
<div class="line"><a name="l01144"></a><span class="lineno"> 1144</span>&#160;    }</div>
<div class="line"><a name="l01145"></a><span class="lineno"> 1145</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l01146"></a><span class="lineno"> 1146</span>&#160;  }</div>
<div class="line"><a name="l01147"></a><span class="lineno"> 1147</span>&#160; </div>
<div class="line"><a name="l01148"></a><span class="lineno"><a class="line" href="../../d6/dfe/classcasadi_1_1MXFunction.html#a9560d348b4c06ceb979ae0bbf8a7ccbb"> 1148</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="../../d6/dfe/classcasadi_1_1MXFunction.html#a9560d348b4c06ceb979ae0bbf8a7ccbb">MXFunction::codegen_declarations</a>(<a class="code" href="../../d1/da2/classcasadi_1_1CodeGenerator.html">CodeGenerator</a>&amp; g)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l01149"></a><span class="lineno"> 1149</span>&#160; </div>
<div class="line"><a name="l01150"></a><span class="lineno"> 1150</span>&#160;    <span class="comment">// Make sure that there are no free variables</span></div>
<div class="line"><a name="l01151"></a><span class="lineno"> 1151</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="../../d6/dfe/classcasadi_1_1MXFunction.html#af1534d0ba72feb537e207c8c330cc2df">free_vars_</a>.empty()) {</div>
<div class="line"><a name="l01152"></a><span class="lineno"> 1152</span>&#160;      casadi_error(<span class="stringliteral">&quot;Code generation of &#39;&quot;</span> + <a class="code" href="../../db/da0/classcasadi_1_1ProtoFunction.html#a53d1e8f2784eb9e5cb8b9f66d68a8840">name_</a> + <span class="stringliteral">&quot;&#39; is not possible since variables &quot;</span></div>
<div class="line"><a name="l01153"></a><span class="lineno"> 1153</span>&#160;                   + <a class="code" href="../../d7/d23/namespacecasadi.html#a88082fbf80560c888949bb765d9ccea0">str</a>(<a class="code" href="../../d6/dfe/classcasadi_1_1MXFunction.html#af1534d0ba72feb537e207c8c330cc2df">free_vars_</a>) + <span class="stringliteral">&quot; are free.&quot;</span>);</div>
<div class="line"><a name="l01154"></a><span class="lineno"> 1154</span>&#160;    }</div>
<div class="line"><a name="l01155"></a><span class="lineno"> 1155</span>&#160; </div>
<div class="line"><a name="l01156"></a><span class="lineno"> 1156</span>&#160;    <span class="comment">// Generate code for the embedded functions</span></div>
<div class="line"><a name="l01157"></a><span class="lineno"> 1157</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp;&amp; a : <a class="code" href="../../d6/dfe/classcasadi_1_1MXFunction.html#ab88c17946b4e00d02dab5531a2e01b36">algorithm_</a>) {</div>
<div class="line"><a name="l01158"></a><span class="lineno"> 1158</span>&#160;      a.data-&gt;add_dependency(g);</div>
<div class="line"><a name="l01159"></a><span class="lineno"> 1159</span>&#160;    }</div>
<div class="line"><a name="l01160"></a><span class="lineno"> 1160</span>&#160;  }</div>
<div class="line"><a name="l01161"></a><span class="lineno"> 1161</span>&#160; </div>
<div class="line"><a name="l01162"></a><span class="lineno"><a class="line" href="../../d6/dfe/classcasadi_1_1MXFunction.html#ab66597dc01d4c6fe011cc96e3c36ff51"> 1162</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="../../d6/dfe/classcasadi_1_1MXFunction.html#ab66597dc01d4c6fe011cc96e3c36ff51">MXFunction::codegen_incref</a>(<a class="code" href="../../d1/da2/classcasadi_1_1CodeGenerator.html">CodeGenerator</a>&amp; g)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l01163"></a><span class="lineno"> 1163</span>&#160;    std::set&lt;void*&gt; added;</div>
<div class="line"><a name="l01164"></a><span class="lineno"> 1164</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp;&amp; a : <a class="code" href="../../d6/dfe/classcasadi_1_1MXFunction.html#ab88c17946b4e00d02dab5531a2e01b36">algorithm_</a>) {</div>
<div class="line"><a name="l01165"></a><span class="lineno"> 1165</span>&#160;      a.data-&gt;codegen_incref(g, added);</div>
<div class="line"><a name="l01166"></a><span class="lineno"> 1166</span>&#160;    }</div>
<div class="line"><a name="l01167"></a><span class="lineno"> 1167</span>&#160;  }</div>
<div class="line"><a name="l01168"></a><span class="lineno"> 1168</span>&#160; </div>
<div class="line"><a name="l01169"></a><span class="lineno"><a class="line" href="../../d6/dfe/classcasadi_1_1MXFunction.html#a5a391e394df6af1c9f52be4e6a62d5f9"> 1169</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="../../d6/dfe/classcasadi_1_1MXFunction.html#a5a391e394df6af1c9f52be4e6a62d5f9">MXFunction::codegen_decref</a>(<a class="code" href="../../d1/da2/classcasadi_1_1CodeGenerator.html">CodeGenerator</a>&amp; g)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l01170"></a><span class="lineno"> 1170</span>&#160;    std::set&lt;void*&gt; added;</div>
<div class="line"><a name="l01171"></a><span class="lineno"> 1171</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp;&amp; a : <a class="code" href="../../d6/dfe/classcasadi_1_1MXFunction.html#ab88c17946b4e00d02dab5531a2e01b36">algorithm_</a>) {</div>
<div class="line"><a name="l01172"></a><span class="lineno"> 1172</span>&#160;      a.data-&gt;codegen_decref(g, added);</div>
<div class="line"><a name="l01173"></a><span class="lineno"> 1173</span>&#160;    }</div>
<div class="line"><a name="l01174"></a><span class="lineno"> 1174</span>&#160;  }</div>
<div class="line"><a name="l01175"></a><span class="lineno"> 1175</span>&#160; </div>
<div class="line"><a name="l01176"></a><span class="lineno"><a class="line" href="../../d6/dfe/classcasadi_1_1MXFunction.html#a04ddaa881f91489daba88b0d50a0ba20"> 1176</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="../../d6/dfe/classcasadi_1_1MXFunction.html#a04ddaa881f91489daba88b0d50a0ba20">MXFunction::codegen_body</a>(<a class="code" href="../../d1/da2/classcasadi_1_1CodeGenerator.html">CodeGenerator</a>&amp; g)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l01177"></a><span class="lineno"> 1177</span>&#160;    <span class="comment">// Temporary variables and vectors</span></div>
<div class="line"><a name="l01178"></a><span class="lineno"> 1178</span>&#160;    g.<a class="code" href="../../d1/da2/classcasadi_1_1CodeGenerator.html#aac37fe4cb57760fdc6929feb5f2b888c">init_local</a>(<span class="stringliteral">&quot;arg1&quot;</span>, <span class="stringliteral">&quot;arg+&quot;</span> + <a class="code" href="../../d7/d23/namespacecasadi.html#a88082fbf80560c888949bb765d9ccea0">str</a>(<a class="code" href="../../d2/dab/classcasadi_1_1FunctionInternal.html#a7d2ec172fa3fee013cef648f1ce165fa">n_in_</a>));</div>
<div class="line"><a name="l01179"></a><span class="lineno"> 1179</span>&#160;    g.<a class="code" href="../../d1/da2/classcasadi_1_1CodeGenerator.html#aac37fe4cb57760fdc6929feb5f2b888c">init_local</a>(<span class="stringliteral">&quot;res1&quot;</span>, <span class="stringliteral">&quot;res+&quot;</span> + <a class="code" href="../../d7/d23/namespacecasadi.html#a88082fbf80560c888949bb765d9ccea0">str</a>(<a class="code" href="../../d2/dab/classcasadi_1_1FunctionInternal.html#a5ac9ebd019509a0f47c18f022227815d">n_out_</a>));</div>
<div class="line"><a name="l01180"></a><span class="lineno"> 1180</span>&#160; </div>
<div class="line"><a name="l01181"></a><span class="lineno"> 1181</span>&#160;    <span class="comment">// Declare scalar work vector elements as local variables</span></div>
<div class="line"><a name="l01182"></a><span class="lineno"> 1182</span>&#160;    <span class="keywordtype">bool</span> first = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01183"></a><span class="lineno"> 1183</span>&#160;    <span class="keywordflow">for</span> (casadi_int i=0; i&lt;<a class="code" href="../../d6/dfe/classcasadi_1_1MXFunction.html#a0a81aa9b5af5e6f5239678d5b2347361">workloc_</a>.size()-1; ++i) {</div>
<div class="line"><a name="l01184"></a><span class="lineno"> 1184</span>&#160;      casadi_int n=<a class="code" href="../../d6/dfe/classcasadi_1_1MXFunction.html#a0a81aa9b5af5e6f5239678d5b2347361">workloc_</a>[i+1]-<a class="code" href="../../d6/dfe/classcasadi_1_1MXFunction.html#a0a81aa9b5af5e6f5239678d5b2347361">workloc_</a>[i];</div>
<div class="line"><a name="l01185"></a><span class="lineno"> 1185</span>&#160;      <span class="keywordflow">if</span> (n==0) <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01186"></a><span class="lineno"> 1186</span>&#160;      <span class="keywordflow">if</span> (first) {</div>
<div class="line"><a name="l01187"></a><span class="lineno"> 1187</span>&#160;        g &lt;&lt; <span class="stringliteral">&quot;casadi_real &quot;</span>;</div>
<div class="line"><a name="l01188"></a><span class="lineno"> 1188</span>&#160;        first = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01189"></a><span class="lineno"> 1189</span>&#160;      } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01190"></a><span class="lineno"> 1190</span>&#160;        g &lt;&lt; <span class="stringliteral">&quot;, &quot;</span>;</div>
<div class="line"><a name="l01191"></a><span class="lineno"> 1191</span>&#160;      }</div>
<div class="line"><a name="l01192"></a><span class="lineno"> 1192</span>&#160;      <span class="comment">/* Could use local variables for small work vector elements here, e.g.:</span></div>
<div class="line"><a name="l01193"></a><span class="lineno"> 1193</span>&#160;<span class="comment">         ...</span></div>
<div class="line"><a name="l01194"></a><span class="lineno"> 1194</span>&#160;<span class="comment">         } else if (n&lt;10) {</span></div>
<div class="line"><a name="l01195"></a><span class="lineno"> 1195</span>&#160;<span class="comment">         g &lt;&lt; &quot;w&quot; &lt;&lt; i &lt;&lt; &quot;[&quot; &lt;&lt; n &lt;&lt; &quot;]&quot;;</span></div>
<div class="line"><a name="l01196"></a><span class="lineno"> 1196</span>&#160;<span class="comment">         } else {</span></div>
<div class="line"><a name="l01197"></a><span class="lineno"> 1197</span>&#160;<span class="comment">         ...</span></div>
<div class="line"><a name="l01198"></a><span class="lineno"> 1198</span>&#160;<span class="comment">      */</span></div>
<div class="line"><a name="l01199"></a><span class="lineno"> 1199</span>&#160;      <span class="keywordflow">if</span> (!g.<a class="code" href="../../d1/da2/classcasadi_1_1CodeGenerator.html#a03c914d1125eb63dae3e91fb5535d715">codegen_scalars</a> &amp;&amp; n==1) {</div>
<div class="line"><a name="l01200"></a><span class="lineno"> 1200</span>&#160;        g &lt;&lt; <span class="stringliteral">&quot;w&quot;</span> &lt;&lt; i;</div>
<div class="line"><a name="l01201"></a><span class="lineno"> 1201</span>&#160;      } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01202"></a><span class="lineno"> 1202</span>&#160;        g &lt;&lt; <span class="stringliteral">&quot;*w&quot;</span> &lt;&lt; i &lt;&lt; <span class="stringliteral">&quot;=w+&quot;</span> &lt;&lt; <a class="code" href="../../d6/dfe/classcasadi_1_1MXFunction.html#a0a81aa9b5af5e6f5239678d5b2347361">workloc_</a>[i];</div>
<div class="line"><a name="l01203"></a><span class="lineno"> 1203</span>&#160;      }</div>
<div class="line"><a name="l01204"></a><span class="lineno"> 1204</span>&#160;    }</div>
<div class="line"><a name="l01205"></a><span class="lineno"> 1205</span>&#160;    <span class="keywordflow">if</span> (!first) g &lt;&lt; <span class="stringliteral">&quot;;\n&quot;</span>;</div>
<div class="line"><a name="l01206"></a><span class="lineno"> 1206</span>&#160; </div>
<div class="line"><a name="l01207"></a><span class="lineno"> 1207</span>&#160;    <span class="comment">// Operation number (for printing)</span></div>
<div class="line"><a name="l01208"></a><span class="lineno"> 1208</span>&#160;    casadi_int k=0;</div>
<div class="line"><a name="l01209"></a><span class="lineno"> 1209</span>&#160; </div>
<div class="line"><a name="l01210"></a><span class="lineno"> 1210</span>&#160;    <span class="comment">// Names of operation argument and results</span></div>
<div class="line"><a name="l01211"></a><span class="lineno"> 1211</span>&#160;    std::vector&lt;casadi_int&gt; arg, res;</div>
<div class="line"><a name="l01212"></a><span class="lineno"> 1212</span>&#160; </div>
<div class="line"><a name="l01213"></a><span class="lineno"> 1213</span>&#160;    <span class="comment">// Codegen the algorithm</span></div>
<div class="line"><a name="l01214"></a><span class="lineno"> 1214</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp;&amp; e : <a class="code" href="../../d6/dfe/classcasadi_1_1MXFunction.html#ab88c17946b4e00d02dab5531a2e01b36">algorithm_</a>) {</div>
<div class="line"><a name="l01215"></a><span class="lineno"> 1215</span>&#160;      <span class="comment">// Generate comment</span></div>
<div class="line"><a name="l01216"></a><span class="lineno"> 1216</span>&#160;      <span class="keywordflow">if</span> (g.<a class="code" href="../../d1/da2/classcasadi_1_1CodeGenerator.html#a0bd4cb2eb56d362e9b5efc4807bcec35">verbose</a>) {</div>
<div class="line"><a name="l01217"></a><span class="lineno"> 1217</span>&#160;        g &lt;&lt; <span class="stringliteral">&quot;/* #&quot;</span> &lt;&lt; k++ &lt;&lt; <span class="stringliteral">&quot;: &quot;</span> &lt;&lt; <a class="code" href="../../d6/dfe/classcasadi_1_1MXFunction.html#a7d8a592c1e18f2e7147baa7d3713e0c7">print</a>(e) &lt;&lt; <span class="stringliteral">&quot; */\n&quot;</span>;</div>
<div class="line"><a name="l01218"></a><span class="lineno"> 1218</span>&#160;      }</div>
<div class="line"><a name="l01219"></a><span class="lineno"> 1219</span>&#160; </div>
<div class="line"><a name="l01220"></a><span class="lineno"> 1220</span>&#160;      <span class="comment">// Get the names of the operation arguments</span></div>
<div class="line"><a name="l01221"></a><span class="lineno"> 1221</span>&#160;      arg.resize(e.arg.size());</div>
<div class="line"><a name="l01222"></a><span class="lineno"> 1222</span>&#160;      <span class="keywordflow">for</span> (casadi_int i=0; i&lt;e.arg.size(); ++i) {</div>
<div class="line"><a name="l01223"></a><span class="lineno"> 1223</span>&#160;        casadi_int j=e.arg.at(i);</div>
<div class="line"><a name="l01224"></a><span class="lineno"> 1224</span>&#160;        <span class="keywordflow">if</span> (j&gt;=0 &amp;&amp; <a class="code" href="../../d6/dfe/classcasadi_1_1MXFunction.html#a0a81aa9b5af5e6f5239678d5b2347361">workloc_</a>.at(j)!=<a class="code" href="../../d6/dfe/classcasadi_1_1MXFunction.html#a0a81aa9b5af5e6f5239678d5b2347361">workloc_</a>.at(j+1)) {</div>
<div class="line"><a name="l01225"></a><span class="lineno"> 1225</span>&#160;          arg.at(i) = j;</div>
<div class="line"><a name="l01226"></a><span class="lineno"> 1226</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01227"></a><span class="lineno"> 1227</span>&#160;          arg.at(i) = -1;</div>
<div class="line"><a name="l01228"></a><span class="lineno"> 1228</span>&#160;        }</div>
<div class="line"><a name="l01229"></a><span class="lineno"> 1229</span>&#160;      }</div>
<div class="line"><a name="l01230"></a><span class="lineno"> 1230</span>&#160; </div>
<div class="line"><a name="l01231"></a><span class="lineno"> 1231</span>&#160;      <span class="comment">// Get the names of the operation results</span></div>
<div class="line"><a name="l01232"></a><span class="lineno"> 1232</span>&#160;      res.resize(e.res.size());</div>
<div class="line"><a name="l01233"></a><span class="lineno"> 1233</span>&#160;      <span class="keywordflow">for</span> (casadi_int i=0; i&lt;e.res.size(); ++i) {</div>
<div class="line"><a name="l01234"></a><span class="lineno"> 1234</span>&#160;        casadi_int j=e.res.at(i);</div>
<div class="line"><a name="l01235"></a><span class="lineno"> 1235</span>&#160;        <span class="keywordflow">if</span> (j&gt;=0 &amp;&amp; <a class="code" href="../../d6/dfe/classcasadi_1_1MXFunction.html#a0a81aa9b5af5e6f5239678d5b2347361">workloc_</a>.at(j)!=<a class="code" href="../../d6/dfe/classcasadi_1_1MXFunction.html#a0a81aa9b5af5e6f5239678d5b2347361">workloc_</a>.at(j+1)) {</div>
<div class="line"><a name="l01236"></a><span class="lineno"> 1236</span>&#160;          res.at(i) = j;</div>
<div class="line"><a name="l01237"></a><span class="lineno"> 1237</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01238"></a><span class="lineno"> 1238</span>&#160;          res.at(i) = -1;</div>
<div class="line"><a name="l01239"></a><span class="lineno"> 1239</span>&#160;        }</div>
<div class="line"><a name="l01240"></a><span class="lineno"> 1240</span>&#160;      }</div>
<div class="line"><a name="l01241"></a><span class="lineno"> 1241</span>&#160; </div>
<div class="line"><a name="l01242"></a><span class="lineno"> 1242</span>&#160;      <span class="comment">// Generate operation</span></div>
<div class="line"><a name="l01243"></a><span class="lineno"> 1243</span>&#160;      e.data-&gt;generate(g, arg, res);</div>
<div class="line"><a name="l01244"></a><span class="lineno"> 1244</span>&#160;    }</div>
<div class="line"><a name="l01245"></a><span class="lineno"> 1245</span>&#160;  }</div>
<div class="line"><a name="l01246"></a><span class="lineno"> 1246</span>&#160; </div>
<div class="line"><a name="l01247"></a><span class="lineno"><a class="line" href="../../d6/dfe/classcasadi_1_1MXFunction.html#af3e9bd0f2e9876e5c0c5c09ddf97f90c"> 1247</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="../../d6/dfe/classcasadi_1_1MXFunction.html#af3e9bd0f2e9876e5c0c5c09ddf97f90c">MXFunction::generate_lifted</a>(<a class="code" href="../../da/da4/classcasadi_1_1Function.html">Function</a>&amp; vdef_fcn, <a class="code" href="../../da/da4/classcasadi_1_1Function.html">Function</a>&amp; vinit_fcn)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l01248"></a><span class="lineno"> 1248</span>&#160;    std::vector&lt;MX&gt; swork(<a class="code" href="../../d6/dfe/classcasadi_1_1MXFunction.html#a0a81aa9b5af5e6f5239678d5b2347361">workloc_</a>.size()-1);</div>
<div class="line"><a name="l01249"></a><span class="lineno"> 1249</span>&#160; </div>
<div class="line"><a name="l01250"></a><span class="lineno"> 1250</span>&#160;    std::vector&lt;MX&gt; arg1, res1;</div>
<div class="line"><a name="l01251"></a><span class="lineno"> 1251</span>&#160; </div>
<div class="line"><a name="l01252"></a><span class="lineno"> 1252</span>&#160;    <span class="comment">// Get input primitives</span></div>
<div class="line"><a name="l01253"></a><span class="lineno"> 1253</span>&#160;    std::vector&lt;std::vector&lt;MX&gt; &gt; in_split(<a class="code" href="../../d7/d72/classcasadi_1_1XFunction.html#abbdc6a6d3bb13c1a3e2c21e74648da3a">in_</a>.size());</div>
<div class="line"><a name="l01254"></a><span class="lineno"> 1254</span>&#160;    <span class="keywordflow">for</span> (casadi_int i=0; i&lt;<a class="code" href="../../d7/d72/classcasadi_1_1XFunction.html#abbdc6a6d3bb13c1a3e2c21e74648da3a">in_</a>.size(); ++i) in_split[i] = <a class="code" href="../../d7/d72/classcasadi_1_1XFunction.html#abbdc6a6d3bb13c1a3e2c21e74648da3a">in_</a>[i].primitives();</div>
<div class="line"><a name="l01255"></a><span class="lineno"> 1255</span>&#160; </div>
<div class="line"><a name="l01256"></a><span class="lineno"> 1256</span>&#160;    <span class="comment">// Definition of intermediate variables</span></div>
<div class="line"><a name="l01257"></a><span class="lineno"> 1257</span>&#160;    std::vector&lt;MX&gt; y;</div>
<div class="line"><a name="l01258"></a><span class="lineno"> 1258</span>&#160;    std::vector&lt;MX&gt; g;</div>
<div class="line"><a name="l01259"></a><span class="lineno"> 1259</span>&#160;    std::vector&lt;std::vector&lt;MX&gt; &gt; f_G(<a class="code" href="../../d7/d72/classcasadi_1_1XFunction.html#a101358270be8d42a155edc39d927d6f3">out_</a>.size());</div>
<div class="line"><a name="l01260"></a><span class="lineno"> 1260</span>&#160;    <span class="keywordflow">for</span> (casadi_int i=0; i&lt;<a class="code" href="../../d7/d72/classcasadi_1_1XFunction.html#a101358270be8d42a155edc39d927d6f3">out_</a>.size(); ++i) f_G[i].resize(<a class="code" href="../../d7/d72/classcasadi_1_1XFunction.html#a101358270be8d42a155edc39d927d6f3">out_</a>[i].n_primitives());</div>
<div class="line"><a name="l01261"></a><span class="lineno"> 1261</span>&#160; </div>
<div class="line"><a name="l01262"></a><span class="lineno"> 1262</span>&#160;    <span class="comment">// Initial guess for intermediate variables</span></div>
<div class="line"><a name="l01263"></a><span class="lineno"> 1263</span>&#160;    std::vector&lt;MX&gt; x_init;</div>
<div class="line"><a name="l01264"></a><span class="lineno"> 1264</span>&#160; </div>
<div class="line"><a name="l01265"></a><span class="lineno"> 1265</span>&#160;    <span class="comment">// Temporary std::stringstream</span></div>
<div class="line"><a name="l01266"></a><span class="lineno"> 1266</span>&#160;    std::stringstream ss;</div>
<div class="line"><a name="l01267"></a><span class="lineno"> 1267</span>&#160; </div>
<div class="line"><a name="l01268"></a><span class="lineno"> 1268</span>&#160;    <span class="keywordflow">for</span> (casadi_int algNo=0; algNo&lt;2; ++algNo) {</div>
<div class="line"><a name="l01269"></a><span class="lineno"> 1269</span>&#160;      <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp;&amp; e : <a class="code" href="../../d6/dfe/classcasadi_1_1MXFunction.html#ab88c17946b4e00d02dab5531a2e01b36">algorithm_</a>) {</div>
<div class="line"><a name="l01270"></a><span class="lineno"> 1270</span>&#160;        <span class="keywordflow">switch</span> (e.op) {</div>
<div class="line"><a name="l01271"></a><span class="lineno"> 1271</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="../../d7/d23/namespacecasadi.html#af35251805e44185cb1f079ec41808618a78e204f531e29e46946d6f51bc81ef6e">OP_LIFT</a>:</div>
<div class="line"><a name="l01272"></a><span class="lineno"> 1272</span>&#160;          {</div>
<div class="line"><a name="l01273"></a><span class="lineno"> 1273</span>&#160;            <a class="code" href="../../de/d57/classcasadi_1_1MX.html">MX</a>&amp; arg = swork[e.arg.at(0)];</div>
<div class="line"><a name="l01274"></a><span class="lineno"> 1274</span>&#160;            <a class="code" href="../../de/d57/classcasadi_1_1MX.html">MX</a>&amp; arg_init = swork[e.arg.at(1)];</div>
<div class="line"><a name="l01275"></a><span class="lineno"> 1275</span>&#160;            <a class="code" href="../../de/d57/classcasadi_1_1MX.html">MX</a>&amp; res = swork[e.res.front()];</div>
<div class="line"><a name="l01276"></a><span class="lineno"> 1276</span>&#160;            <span class="keywordflow">switch</span> (algNo) {</div>
<div class="line"><a name="l01277"></a><span class="lineno"> 1277</span>&#160;            <span class="keywordflow">case</span> 0:</div>
<div class="line"><a name="l01278"></a><span class="lineno"> 1278</span>&#160;              ss.str(std::string());</div>
<div class="line"><a name="l01279"></a><span class="lineno"> 1279</span>&#160;              ss &lt;&lt; <span class="stringliteral">&quot;y&quot;</span> &lt;&lt; y.<a class="code" href="../../dc/df3/classcasadi_1_1GenericMatrix.html#a2f3db994e7be9de13101e30fea8bca29">size</a>();</div>
<div class="line"><a name="l01280"></a><span class="lineno"> 1280</span>&#160;              y.push_back(<a class="code" href="../../dc/df3/classcasadi_1_1GenericMatrix.html#ab41ea4b948928d72a290821a2af7da7e">MX::sym</a>(ss.str(), arg.<a class="code" href="../../de/d57/classcasadi_1_1MX.html#a1a4e7c2d261e7d8da0c07907d8269af7">sparsity</a>()));</div>
<div class="line"><a name="l01281"></a><span class="lineno"> 1281</span>&#160;              g.push_back(arg);</div>
<div class="line"><a name="l01282"></a><span class="lineno"> 1282</span>&#160;              res = y.back();</div>
<div class="line"><a name="l01283"></a><span class="lineno"> 1283</span>&#160;              <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01284"></a><span class="lineno"> 1284</span>&#160;            <span class="keywordflow">case</span> 1:</div>
<div class="line"><a name="l01285"></a><span class="lineno"> 1285</span>&#160;              x_init.push_back(arg_init);</div>
<div class="line"><a name="l01286"></a><span class="lineno"> 1286</span>&#160;              res = arg_init;</div>
<div class="line"><a name="l01287"></a><span class="lineno"> 1287</span>&#160;              <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01288"></a><span class="lineno"> 1288</span>&#160;            }</div>
<div class="line"><a name="l01289"></a><span class="lineno"> 1289</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01290"></a><span class="lineno"> 1290</span>&#160;          }</div>
<div class="line"><a name="l01291"></a><span class="lineno"> 1291</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="../../d7/d23/namespacecasadi.html#af35251805e44185cb1f079ec41808618a772d0d4a7fe8303114d42995378698d1">OP_INPUT</a>:</div>
<div class="line"><a name="l01292"></a><span class="lineno"> 1292</span>&#160;          swork[e.res.front()] = in_split.at(e.data-&gt;ind()).at(e.data-&gt;segment());</div>
<div class="line"><a name="l01293"></a><span class="lineno"> 1293</span>&#160;          <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01294"></a><span class="lineno"> 1294</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="../../d7/d23/namespacecasadi.html#af35251805e44185cb1f079ec41808618aae6785283527a2b4903fa3aa9f56d3d6">OP_PARAMETER</a>:</div>
<div class="line"><a name="l01295"></a><span class="lineno"> 1295</span>&#160;          swork[e.res.front()] = e.data;</div>
<div class="line"><a name="l01296"></a><span class="lineno"> 1296</span>&#160;          <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01297"></a><span class="lineno"> 1297</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="../../d7/d23/namespacecasadi.html#af35251805e44185cb1f079ec41808618a521a7c58943e1b877b6e73d79948cb68">OP_OUTPUT</a>:</div>
<div class="line"><a name="l01298"></a><span class="lineno"> 1298</span>&#160;          <span class="keywordflow">if</span> (algNo==0) {</div>
<div class="line"><a name="l01299"></a><span class="lineno"> 1299</span>&#160;            f_G.at(e.data-&gt;ind()).at(e.data-&gt;segment()) = swork[e.arg.front()];</div>
<div class="line"><a name="l01300"></a><span class="lineno"> 1300</span>&#160;          }</div>
<div class="line"><a name="l01301"></a><span class="lineno"> 1301</span>&#160;          <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01302"></a><span class="lineno"> 1302</span>&#160;        <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l01303"></a><span class="lineno"> 1303</span>&#160;          {</div>
<div class="line"><a name="l01304"></a><span class="lineno"> 1304</span>&#160;            <span class="comment">// Arguments of the operation</span></div>
<div class="line"><a name="l01305"></a><span class="lineno"> 1305</span>&#160;            arg1.resize(e.arg.size());</div>
<div class="line"><a name="l01306"></a><span class="lineno"> 1306</span>&#160;            <span class="keywordflow">for</span> (casadi_int i=0; i&lt;arg1.size(); ++i) {</div>
<div class="line"><a name="l01307"></a><span class="lineno"> 1307</span>&#160;              casadi_int el = e.arg[i]; <span class="comment">// index of the argument</span></div>
<div class="line"><a name="l01308"></a><span class="lineno"> 1308</span>&#160;              arg1[i] = el&lt;0 ? <a class="code" href="../../de/d57/classcasadi_1_1MX.html">MX</a>(e.data-&gt;dep(i).size()) : swork[el];</div>
<div class="line"><a name="l01309"></a><span class="lineno"> 1309</span>&#160;            }</div>
<div class="line"><a name="l01310"></a><span class="lineno"> 1310</span>&#160; </div>
<div class="line"><a name="l01311"></a><span class="lineno"> 1311</span>&#160;            <span class="comment">// Perform the operation</span></div>
<div class="line"><a name="l01312"></a><span class="lineno"> 1312</span>&#160;            res1.resize(e.res.size());</div>
<div class="line"><a name="l01313"></a><span class="lineno"> 1313</span>&#160;            e.data.eval_mx(arg1, res1);</div>
<div class="line"><a name="l01314"></a><span class="lineno"> 1314</span>&#160; </div>
<div class="line"><a name="l01315"></a><span class="lineno"> 1315</span>&#160;            <span class="comment">// Get the result</span></div>
<div class="line"><a name="l01316"></a><span class="lineno"> 1316</span>&#160;            <span class="keywordflow">for</span> (casadi_int i=0; i&lt;res1.size(); ++i) {</div>
<div class="line"><a name="l01317"></a><span class="lineno"> 1317</span>&#160;              casadi_int el = e.res[i]; <span class="comment">// index of the output</span></div>
<div class="line"><a name="l01318"></a><span class="lineno"> 1318</span>&#160;              <span class="keywordflow">if</span> (el&gt;=0) swork[el] = res1[i];</div>
<div class="line"><a name="l01319"></a><span class="lineno"> 1319</span>&#160;            }</div>
<div class="line"><a name="l01320"></a><span class="lineno"> 1320</span>&#160;          }</div>
<div class="line"><a name="l01321"></a><span class="lineno"> 1321</span>&#160;        }</div>
<div class="line"><a name="l01322"></a><span class="lineno"> 1322</span>&#160;      }</div>
<div class="line"><a name="l01323"></a><span class="lineno"> 1323</span>&#160;    }</div>
<div class="line"><a name="l01324"></a><span class="lineno"> 1324</span>&#160; </div>
<div class="line"><a name="l01325"></a><span class="lineno"> 1325</span>&#160;    <span class="comment">// Definition of intermediate variables</span></div>
<div class="line"><a name="l01326"></a><span class="lineno"> 1326</span>&#160;    std::vector&lt;MX&gt; f_in = <a class="code" href="../../d7/d72/classcasadi_1_1XFunction.html#abbdc6a6d3bb13c1a3e2c21e74648da3a">in_</a>;</div>
<div class="line"><a name="l01327"></a><span class="lineno"> 1327</span>&#160;    f_in.insert(f_in.end(), y.begin(), y.end());</div>
<div class="line"><a name="l01328"></a><span class="lineno"> 1328</span>&#160;    std::vector&lt;MX&gt; f_out;</div>
<div class="line"><a name="l01329"></a><span class="lineno"> 1329</span>&#160;    <span class="keywordflow">for</span> (casadi_int i=0; i&lt;<a class="code" href="../../d7/d72/classcasadi_1_1XFunction.html#a101358270be8d42a155edc39d927d6f3">out_</a>.size(); ++i) f_out.push_back(<a class="code" href="../../d7/d72/classcasadi_1_1XFunction.html#a101358270be8d42a155edc39d927d6f3">out_</a>[i].join_primitives(f_G[i]));</div>
<div class="line"><a name="l01330"></a><span class="lineno"> 1330</span>&#160;    f_out.insert(f_out.end(), g.begin(), g.end());</div>
<div class="line"><a name="l01331"></a><span class="lineno"> 1331</span>&#160;    vdef_fcn = <a class="code" href="../../d2/dab/classcasadi_1_1FunctionInternal.html#ab7194606aa12931e96f8f5448d418ed0">Function</a>(<span class="stringliteral">&quot;lifting_variable_definition&quot;</span>, f_in, f_out);</div>
<div class="line"><a name="l01332"></a><span class="lineno"> 1332</span>&#160; </div>
<div class="line"><a name="l01333"></a><span class="lineno"> 1333</span>&#160;    <span class="comment">// Initial guess of intermediate variables</span></div>
<div class="line"><a name="l01334"></a><span class="lineno"> 1334</span>&#160;    f_in = <a class="code" href="../../d7/d72/classcasadi_1_1XFunction.html#abbdc6a6d3bb13c1a3e2c21e74648da3a">in_</a>;</div>
<div class="line"><a name="l01335"></a><span class="lineno"> 1335</span>&#160;    f_out = x_init;</div>
<div class="line"><a name="l01336"></a><span class="lineno"> 1336</span>&#160;    vinit_fcn = <a class="code" href="../../d2/dab/classcasadi_1_1FunctionInternal.html#ab7194606aa12931e96f8f5448d418ed0">Function</a>(<span class="stringliteral">&quot;lifting_variable_guess&quot;</span>, f_in, f_out);</div>
<div class="line"><a name="l01337"></a><span class="lineno"> 1337</span>&#160;  }</div>
<div class="line"><a name="l01338"></a><span class="lineno"> 1338</span>&#160; </div>
<div class="line"><a name="l01339"></a><span class="lineno"><a class="line" href="../../d6/dfe/classcasadi_1_1MXFunction.html#a71a05b0f3af643fb8c63c7c42852a755"> 1339</a></span>&#160;  <span class="keyword">const</span> <a class="code" href="../../de/d57/classcasadi_1_1MX.html">MX</a> <a class="code" href="../../d6/dfe/classcasadi_1_1MXFunction.html#a35b011a76153245ad6011f8a43036fbc">MXFunction::mx_in</a>(casadi_int ind)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l01340"></a><span class="lineno"> 1340</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d7/d72/classcasadi_1_1XFunction.html#abbdc6a6d3bb13c1a3e2c21e74648da3a">in_</a>.at(ind);</div>
<div class="line"><a name="l01341"></a><span class="lineno"> 1341</span>&#160;  }</div>
<div class="line"><a name="l01342"></a><span class="lineno"> 1342</span>&#160; </div>
<div class="line"><a name="l01343"></a><span class="lineno"><a class="line" href="../../d6/dfe/classcasadi_1_1MXFunction.html#a35b011a76153245ad6011f8a43036fbc"> 1343</a></span>&#160;  <span class="keyword">const</span> std::vector&lt;MX&gt; <a class="code" href="../../d6/dfe/classcasadi_1_1MXFunction.html#a35b011a76153245ad6011f8a43036fbc">MXFunction::mx_in</a>()<span class="keyword"> const </span>{</div>
<div class="line"><a name="l01344"></a><span class="lineno"> 1344</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d7/d72/classcasadi_1_1XFunction.html#abbdc6a6d3bb13c1a3e2c21e74648da3a">in_</a>;</div>
<div class="line"><a name="l01345"></a><span class="lineno"> 1345</span>&#160;  }</div>
<div class="line"><a name="l01346"></a><span class="lineno"> 1346</span>&#160; </div>
<div class="line"><a name="l01347"></a><span class="lineno"><a class="line" href="../../d6/dfe/classcasadi_1_1MXFunction.html#ad1fc70144071c99f3fa2cc9aef303110"> 1347</a></span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="../../d6/dfe/classcasadi_1_1MXFunction.html#ad1fc70144071c99f3fa2cc9aef303110">MXFunction::is_a</a>(<span class="keyword">const</span> std::string&amp; type, <span class="keywordtype">bool</span> recursive)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l01348"></a><span class="lineno"> 1348</span>&#160;    <span class="keywordflow">return</span> type==<span class="stringliteral">&quot;MXFunction&quot;</span></div>
<div class="line"><a name="l01349"></a><span class="lineno"> 1349</span>&#160;      || (recursive &amp;&amp; <a class="code" href="../../d7/d72/classcasadi_1_1XFunction.html">XFunction</a>&lt;<a class="code" href="../../d6/dfe/classcasadi_1_1MXFunction.html#a503ede3e347b716b6a6c34889740a1ad">MXFunction</a>,</div>
<div class="line"><a name="l01350"></a><span class="lineno"> 1350</span>&#160;          <a class="code" href="../../de/d57/classcasadi_1_1MX.html">MX</a>, <a class="code" href="../../d0/d19/classcasadi_1_1MXNode.html">MXNode</a>&gt;<a class="code" href="../../d6/dfe/classcasadi_1_1MXFunction.html#ad1fc70144071c99f3fa2cc9aef303110">::is_a</a>(type, recursive));</div>
<div class="line"><a name="l01351"></a><span class="lineno"> 1351</span>&#160;  }</div>
<div class="line"><a name="l01352"></a><span class="lineno"> 1352</span>&#160; </div>
<div class="line"><a name="l01353"></a><span class="lineno"><a class="line" href="../../d6/dfe/classcasadi_1_1MXFunction.html#a9ef2c737f0d5e7b17745ccca2b7c8cc0"> 1353</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="../../d6/dfe/classcasadi_1_1MXFunction.html#a9ef2c737f0d5e7b17745ccca2b7c8cc0">MXFunction::substitute_inplace</a>(std::vector&lt;MX&gt;&amp; vdef, std::vector&lt;MX&gt;&amp; ex)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l01354"></a><span class="lineno"> 1354</span>&#160;    std::vector&lt;MX&gt; work(<a class="code" href="../../d6/dfe/classcasadi_1_1MXFunction.html#a0a81aa9b5af5e6f5239678d5b2347361">workloc_</a>.size()-1);</div>
<div class="line"><a name="l01355"></a><span class="lineno"> 1355</span>&#160;    std::vector&lt;MX&gt; oarg, ores;</div>
<div class="line"><a name="l01356"></a><span class="lineno"> 1356</span>&#160; </div>
<div class="line"><a name="l01357"></a><span class="lineno"> 1357</span>&#160;    <span class="comment">// Output segments</span></div>
<div class="line"><a name="l01358"></a><span class="lineno"> 1358</span>&#160;    std::vector&lt;std::vector&lt;MX&gt;&gt; out_split(<a class="code" href="../../d7/d72/classcasadi_1_1XFunction.html#a101358270be8d42a155edc39d927d6f3">out_</a>.size());</div>
<div class="line"><a name="l01359"></a><span class="lineno"> 1359</span>&#160;    <span class="keywordflow">for</span> (casadi_int i = 0; i &lt; out_split.size(); ++i) out_split[i].resize(<a class="code" href="../../d7/d72/classcasadi_1_1XFunction.html#a101358270be8d42a155edc39d927d6f3">out_</a>[i].n_primitives());</div>
<div class="line"><a name="l01360"></a><span class="lineno"> 1360</span>&#160; </div>
<div class="line"><a name="l01361"></a><span class="lineno"> 1361</span>&#160;    <span class="comment">// Evaluate algorithm</span></div>
<div class="line"><a name="l01362"></a><span class="lineno"> 1362</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span> it=<a class="code" href="../../d6/dfe/classcasadi_1_1MXFunction.html#ab88c17946b4e00d02dab5531a2e01b36">algorithm_</a>.begin(); it!=<a class="code" href="../../d6/dfe/classcasadi_1_1MXFunction.html#ab88c17946b4e00d02dab5531a2e01b36">algorithm_</a>.end(); ++it) {</div>
<div class="line"><a name="l01363"></a><span class="lineno"> 1363</span>&#160;      <span class="keywordflow">switch</span> (it-&gt;op) {</div>
<div class="line"><a name="l01364"></a><span class="lineno"> 1364</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="../../d7/d23/namespacecasadi.html#af35251805e44185cb1f079ec41808618a772d0d4a7fe8303114d42995378698d1">OP_INPUT</a>:</div>
<div class="line"><a name="l01365"></a><span class="lineno"> 1365</span>&#160;        casadi_assert(it-&gt;data-&gt;segment()==0, <span class="stringliteral">&quot;Not implemented&quot;</span>);</div>
<div class="line"><a name="l01366"></a><span class="lineno"> 1366</span>&#160;        work.at(it-&gt;res.front())</div>
<div class="line"><a name="l01367"></a><span class="lineno"> 1367</span>&#160;          = <a class="code" href="../../d7/d72/classcasadi_1_1XFunction.html#a101358270be8d42a155edc39d927d6f3">out_</a>.at(it-&gt;data-&gt;ind()).join_primitives(out_split.at(it-&gt;data-&gt;ind()));</div>
<div class="line"><a name="l01368"></a><span class="lineno"> 1368</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01369"></a><span class="lineno"> 1369</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="../../d7/d23/namespacecasadi.html#af35251805e44185cb1f079ec41808618aae6785283527a2b4903fa3aa9f56d3d6">OP_PARAMETER</a>:</div>
<div class="line"><a name="l01370"></a><span class="lineno"> 1370</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="../../d7/d23/namespacecasadi.html#af35251805e44185cb1f079ec41808618a69909c231708b235ccc215d93ca907f8">OP_CONST</a>:</div>
<div class="line"><a name="l01371"></a><span class="lineno"> 1371</span>&#160;        work.at(it-&gt;res.front()) = it-&gt;data;</div>
<div class="line"><a name="l01372"></a><span class="lineno"> 1372</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01373"></a><span class="lineno"> 1373</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="../../d7/d23/namespacecasadi.html#af35251805e44185cb1f079ec41808618a521a7c58943e1b877b6e73d79948cb68">OP_OUTPUT</a>:</div>
<div class="line"><a name="l01374"></a><span class="lineno"> 1374</span>&#160;        out_split.at(it-&gt;data-&gt;ind()).at(it-&gt;data-&gt;segment()) = work.at(it-&gt;arg.front());</div>
<div class="line"><a name="l01375"></a><span class="lineno"> 1375</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01376"></a><span class="lineno"> 1376</span>&#160;      <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l01377"></a><span class="lineno"> 1377</span>&#160;        {</div>
<div class="line"><a name="l01378"></a><span class="lineno"> 1378</span>&#160;          <span class="comment">// Arguments of the operation</span></div>
<div class="line"><a name="l01379"></a><span class="lineno"> 1379</span>&#160;          oarg.resize(it-&gt;arg.size());</div>
<div class="line"><a name="l01380"></a><span class="lineno"> 1380</span>&#160;          <span class="keywordflow">for</span> (casadi_int i=0; i&lt;oarg.size(); ++i) {</div>
<div class="line"><a name="l01381"></a><span class="lineno"> 1381</span>&#160;            casadi_int el = it-&gt;arg[i];</div>
<div class="line"><a name="l01382"></a><span class="lineno"> 1382</span>&#160;            oarg[i] = el&lt;0 ? <a class="code" href="../../de/d57/classcasadi_1_1MX.html">MX</a>(it-&gt;data-&gt;dep(i).size()) : work.at(el);</div>
<div class="line"><a name="l01383"></a><span class="lineno"> 1383</span>&#160;          }</div>
<div class="line"><a name="l01384"></a><span class="lineno"> 1384</span>&#160; </div>
<div class="line"><a name="l01385"></a><span class="lineno"> 1385</span>&#160;          <span class="comment">// Perform the operation</span></div>
<div class="line"><a name="l01386"></a><span class="lineno"> 1386</span>&#160;          ores.resize(it-&gt;res.size());</div>
<div class="line"><a name="l01387"></a><span class="lineno"> 1387</span>&#160;          it-&gt;data-&gt;eval_mx(oarg, ores);</div>
<div class="line"><a name="l01388"></a><span class="lineno"> 1388</span>&#160; </div>
<div class="line"><a name="l01389"></a><span class="lineno"> 1389</span>&#160;          <span class="comment">// Get the result</span></div>
<div class="line"><a name="l01390"></a><span class="lineno"> 1390</span>&#160;          <span class="keywordflow">for</span> (casadi_int i=0; i&lt;ores.size(); ++i) {</div>
<div class="line"><a name="l01391"></a><span class="lineno"> 1391</span>&#160;            casadi_int el = it-&gt;res[i];</div>
<div class="line"><a name="l01392"></a><span class="lineno"> 1392</span>&#160;            <span class="keywordflow">if</span> (el&gt;=0) work.at(el) = ores[i];</div>
<div class="line"><a name="l01393"></a><span class="lineno"> 1393</span>&#160;          }</div>
<div class="line"><a name="l01394"></a><span class="lineno"> 1394</span>&#160;        }</div>
<div class="line"><a name="l01395"></a><span class="lineno"> 1395</span>&#160;      }</div>
<div class="line"><a name="l01396"></a><span class="lineno"> 1396</span>&#160;    }</div>
<div class="line"><a name="l01397"></a><span class="lineno"> 1397</span>&#160;    <span class="comment">// Join primitives</span></div>
<div class="line"><a name="l01398"></a><span class="lineno"> 1398</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> k = 0; k &lt; out_split.size(); ++k) {</div>
<div class="line"><a name="l01399"></a><span class="lineno"> 1399</span>&#160;      <a class="code" href="../../de/d57/classcasadi_1_1MX.html">MX</a> a = <a class="code" href="../../d7/d72/classcasadi_1_1XFunction.html#a101358270be8d42a155edc39d927d6f3">out_</a>.at(k).join_primitives(out_split.at(k));</div>
<div class="line"><a name="l01400"></a><span class="lineno"> 1400</span>&#160;      <span class="keywordflow">if</span> (k &lt; vdef.size()) {</div>
<div class="line"><a name="l01401"></a><span class="lineno"> 1401</span>&#160;        vdef.at(k) = a;</div>
<div class="line"><a name="l01402"></a><span class="lineno"> 1402</span>&#160;      } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01403"></a><span class="lineno"> 1403</span>&#160;        ex.at(k - vdef.size()) = a;</div>
<div class="line"><a name="l01404"></a><span class="lineno"> 1404</span>&#160;      }</div>
<div class="line"><a name="l01405"></a><span class="lineno"> 1405</span>&#160;    }</div>
<div class="line"><a name="l01406"></a><span class="lineno"> 1406</span>&#160;  }</div>
<div class="line"><a name="l01407"></a><span class="lineno"> 1407</span>&#160; </div>
<div class="line"><a name="l01408"></a><span class="lineno"><a class="line" href="../../d6/dfe/classcasadi_1_1MXFunction.html#a69292ed9cae1ac40e02131de62a77f5c"> 1408</a></span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="../../d6/dfe/classcasadi_1_1MXFunction.html#a69292ed9cae1ac40e02131de62a77f5c">MXFunction::should_inline</a>(<span class="keywordtype">bool</span> always_inline, <span class="keywordtype">bool</span> never_inline)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l01409"></a><span class="lineno"> 1409</span>&#160;    <span class="comment">// If inlining has been specified</span></div>
<div class="line"><a name="l01410"></a><span class="lineno"> 1410</span>&#160;    casadi_assert(!(always_inline &amp;&amp; never_inline),</div>
<div class="line"><a name="l01411"></a><span class="lineno"> 1411</span>&#160;      <span class="stringliteral">&quot;Inconsistent options for &quot;</span> + <a class="code" href="../../d2/dab/classcasadi_1_1FunctionInternal.html#a3ff9fd2b012733eecb1bb9728c596f50">definition</a>());</div>
<div class="line"><a name="l01412"></a><span class="lineno"> 1412</span>&#160;    casadi_assert(!(never_inline &amp;&amp; <a class="code" href="../../d6/dfe/classcasadi_1_1MXFunction.html#a8a7280999dbafc4e3287e3b31e59ce39">has_free</a>()),</div>
<div class="line"><a name="l01413"></a><span class="lineno"> 1413</span>&#160;      <span class="stringliteral">&quot;Must inline &quot;</span> + <a class="code" href="../../d2/dab/classcasadi_1_1FunctionInternal.html#a3ff9fd2b012733eecb1bb9728c596f50">definition</a>());</div>
<div class="line"><a name="l01414"></a><span class="lineno"> 1414</span>&#160;    <span class="keywordflow">if</span> (always_inline) <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01415"></a><span class="lineno"> 1415</span>&#160;    <span class="keywordflow">if</span> (never_inline) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01416"></a><span class="lineno"> 1416</span>&#160;    <span class="comment">// Functions with free variables must be inlined</span></div>
<div class="line"><a name="l01417"></a><span class="lineno"> 1417</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d6/dfe/classcasadi_1_1MXFunction.html#a8a7280999dbafc4e3287e3b31e59ce39">has_free</a>()) <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01418"></a><span class="lineno"> 1418</span>&#160;    <span class="comment">// No inlining by default</span></div>
<div class="line"><a name="l01419"></a><span class="lineno"> 1419</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01420"></a><span class="lineno"> 1420</span>&#160;  }</div>
<div class="line"><a name="l01421"></a><span class="lineno"> 1421</span>&#160; </div>
<div class="line"><a name="l01422"></a><span class="lineno"><a class="line" href="../../d6/dfe/classcasadi_1_1MXFunction.html#afde4aaa6ce6fb4680d2ae7f53bcfb54a"> 1422</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="../../d6/dfe/classcasadi_1_1MXFunction.html#afde4aaa6ce6fb4680d2ae7f53bcfb54a">MXFunction::export_code_body</a>(<span class="keyword">const</span> std::string&amp; lang,</div>
<div class="line"><a name="l01423"></a><span class="lineno"> 1423</span>&#160;      std::ostream &amp;ss, <span class="keyword">const</span> <a class="code" href="../../d7/d23/namespacecasadi.html#a8b909f6932a91230738731512b99127e">Dict</a>&amp; options)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l01424"></a><span class="lineno"> 1424</span>&#160; </div>
<div class="line"><a name="l01425"></a><span class="lineno"> 1425</span>&#160;    <span class="comment">// Default values for options</span></div>
<div class="line"><a name="l01426"></a><span class="lineno"> 1426</span>&#160;    casadi_int indent_level = 0;</div>
<div class="line"><a name="l01427"></a><span class="lineno"> 1427</span>&#160; </div>
<div class="line"><a name="l01428"></a><span class="lineno"> 1428</span>&#160;    <span class="comment">// Read options</span></div>
<div class="line"><a name="l01429"></a><span class="lineno"> 1429</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp;&amp; op : options) {</div>
<div class="line"><a name="l01430"></a><span class="lineno"> 1430</span>&#160;      <span class="keywordflow">if</span> (op.first==<span class="stringliteral">&quot;indent_level&quot;</span>) {</div>
<div class="line"><a name="l01431"></a><span class="lineno"> 1431</span>&#160;        indent_level = op.second;</div>
<div class="line"><a name="l01432"></a><span class="lineno"> 1432</span>&#160;      } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01433"></a><span class="lineno"> 1433</span>&#160;        casadi_error(<span class="stringliteral">&quot;Unknown option &#39;&quot;</span> + op.first + <span class="stringliteral">&quot;&#39;.&quot;</span>);</div>
<div class="line"><a name="l01434"></a><span class="lineno"> 1434</span>&#160;      }</div>
<div class="line"><a name="l01435"></a><span class="lineno"> 1435</span>&#160;    }</div>
<div class="line"><a name="l01436"></a><span class="lineno"> 1436</span>&#160; </div>
<div class="line"><a name="l01437"></a><span class="lineno"> 1437</span>&#160;    <span class="comment">// Construct indent string</span></div>
<div class="line"><a name="l01438"></a><span class="lineno"> 1438</span>&#160;    std::string indent;</div>
<div class="line"><a name="l01439"></a><span class="lineno"> 1439</span>&#160;    <span class="keywordflow">for</span> (casadi_int i=0;i&lt;indent_level;++i) {</div>
<div class="line"><a name="l01440"></a><span class="lineno"> 1440</span>&#160;      indent += <span class="stringliteral">&quot;  &quot;</span>;</div>
<div class="line"><a name="l01441"></a><span class="lineno"> 1441</span>&#160;    }</div>
<div class="line"><a name="l01442"></a><span class="lineno"> 1442</span>&#160; </div>
<div class="line"><a name="l01443"></a><span class="lineno"> 1443</span>&#160;    <a class="code" href="../../da/da4/classcasadi_1_1Function.html">Function</a> f = shared_from_this&lt;Function&gt;();</div>
<div class="line"><a name="l01444"></a><span class="lineno"> 1444</span>&#160; </div>
<div class="line"><a name="l01445"></a><span class="lineno"> 1445</span>&#160;    <span class="comment">// Loop over algorithm</span></div>
<div class="line"><a name="l01446"></a><span class="lineno"> 1446</span>&#160;    <span class="keywordflow">for</span> (casadi_int k=0;k&lt;f.<a class="code" href="../../da/da4/classcasadi_1_1Function.html#a0a83e1ef9f147535c03c2a29412c91c8">n_instructions</a>();++k) {</div>
<div class="line"><a name="l01447"></a><span class="lineno"> 1447</span>&#160;      <span class="comment">// Get operation</span></div>
<div class="line"><a name="l01448"></a><span class="lineno"> 1448</span>&#160;      casadi_int op = <span class="keyword">static_cast&lt;</span>casadi_int<span class="keyword">&gt;</span>(f.<a class="code" href="../../da/da4/classcasadi_1_1Function.html#aeaec7823eb7aaf20fd6b6a9cc8d19dcf">instruction_id</a>(k));</div>
<div class="line"><a name="l01449"></a><span class="lineno"> 1449</span>&#160;      <span class="comment">// Get MX node</span></div>
<div class="line"><a name="l01450"></a><span class="lineno"> 1450</span>&#160;      <a class="code" href="../../de/d57/classcasadi_1_1MX.html">MX</a> x = f.<a class="code" href="../../da/da4/classcasadi_1_1Function.html#a8c5bd9bb1d92fd4651a2de26c4432361">instruction_MX</a>(k);</div>
<div class="line"><a name="l01451"></a><span class="lineno"> 1451</span>&#160;      <span class="comment">// Get input positions into workvector</span></div>
<div class="line"><a name="l01452"></a><span class="lineno"> 1452</span>&#160;      std::vector&lt;casadi_int&gt; o = f.<a class="code" href="../../da/da4/classcasadi_1_1Function.html#a8995a2475dea7f9dbf5ecd5bf44e8153">instruction_output</a>(k);</div>
<div class="line"><a name="l01453"></a><span class="lineno"> 1453</span>&#160;      <span class="comment">// Get output positions into workvector</span></div>
<div class="line"><a name="l01454"></a><span class="lineno"> 1454</span>&#160;      std::vector&lt;casadi_int&gt; i = f.<a class="code" href="../../da/da4/classcasadi_1_1Function.html#a6902714ef98e1e29e14aebfa383df24c">instruction_input</a>(k);</div>
<div class="line"><a name="l01455"></a><span class="lineno"> 1455</span>&#160; </div>
<div class="line"><a name="l01456"></a><span class="lineno"> 1456</span>&#160;      <span class="keywordflow">switch</span> (op) {</div>
<div class="line"><a name="l01457"></a><span class="lineno"> 1457</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="../../d7/d23/namespacecasadi.html#af35251805e44185cb1f079ec41808618a772d0d4a7fe8303114d42995378698d1">OP_INPUT</a>:</div>
<div class="line"><a name="l01458"></a><span class="lineno"> 1458</span>&#160;          ss &lt;&lt; indent &lt;&lt; <span class="stringliteral">&quot;w&quot;</span> &lt;&lt; o[0] &lt;&lt; <span class="stringliteral">&quot; = varargin{&quot;</span> &lt;&lt; i[0]+1 &lt;&lt; <span class="stringliteral">&quot;};&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><a name="l01459"></a><span class="lineno"> 1459</span>&#160;          <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01460"></a><span class="lineno"> 1460</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="../../d7/d23/namespacecasadi.html#af35251805e44185cb1f079ec41808618a521a7c58943e1b877b6e73d79948cb68">OP_OUTPUT</a>:</div>
<div class="line"><a name="l01461"></a><span class="lineno"> 1461</span>&#160;          {</div>
<div class="line"><a name="l01462"></a><span class="lineno"> 1462</span>&#160;            <a class="code" href="../../d7/d23/namespacecasadi.html#a8b909f6932a91230738731512b99127e">Dict</a> <a class="code" href="../../d2/dab/classcasadi_1_1FunctionInternal.html#ac8b12c25e704a6499f5b683210201052">info</a> = x.<a class="code" href="../../de/d57/classcasadi_1_1MX.html#abacafe753de9c27b2b999631ff8f5faf">info</a>();</div>
<div class="line"><a name="l01463"></a><span class="lineno"> 1463</span>&#160;            casadi_int segment = <a class="code" href="../../d2/dab/classcasadi_1_1FunctionInternal.html#ac8b12c25e704a6499f5b683210201052">info</a>[<span class="stringliteral">&quot;segment&quot;</span>];</div>
<div class="line"><a name="l01464"></a><span class="lineno"> 1464</span>&#160;            x.<a class="code" href="../../de/d57/classcasadi_1_1MX.html#acf215202e081375a45aed741607f3331">dep</a>(0).<a class="code" href="../../de/d57/classcasadi_1_1MX.html#a1a4e7c2d261e7d8da0c07907d8269af7">sparsity</a>().<a class="code" href="../../d5/da8/classcasadi_1_1Sparsity.html#ab55004cb23a1c51a581842e2887d9b7a">export_code</a>(<span class="stringliteral">&quot;matlab&quot;</span>, ss,</div>
<div class="line"><a name="l01465"></a><span class="lineno"> 1465</span>&#160;              {{<span class="stringliteral">&quot;name&quot;</span>, <span class="stringliteral">&quot;sp_in&quot;</span>}, {<span class="stringliteral">&quot;indent_level&quot;</span>, indent_level}, {<span class="stringliteral">&quot;as_matrix&quot;</span>, <span class="keyword">true</span>}});</div>
<div class="line"><a name="l01466"></a><span class="lineno"> 1466</span>&#160;            ss &lt;&lt; indent &lt;&lt; <span class="stringliteral">&quot;argout_&quot;</span> &lt;&lt; o[0] &lt;&lt; <span class="stringliteral">&quot;{&quot;</span> &lt;&lt; (1+segment) &lt;&lt; <span class="stringliteral">&quot;} = &quot;</span>;</div>
<div class="line"><a name="l01467"></a><span class="lineno"> 1467</span>&#160;            ss &lt;&lt; <span class="stringliteral">&quot;w&quot;</span> &lt;&lt; i[0] &lt;&lt; <span class="stringliteral">&quot;(sp_in==1);&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><a name="l01468"></a><span class="lineno"> 1468</span>&#160;          }</div>
<div class="line"><a name="l01469"></a><span class="lineno"> 1469</span>&#160;          <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01470"></a><span class="lineno"> 1470</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="../../d7/d23/namespacecasadi.html#af35251805e44185cb1f079ec41808618a69909c231708b235ccc215d93ca907f8">OP_CONST</a>:</div>
<div class="line"><a name="l01471"></a><span class="lineno"> 1471</span>&#160;          {</div>
<div class="line"><a name="l01472"></a><span class="lineno"> 1472</span>&#160;            <a class="code" href="../../da/d45/classcasadi_1_1Matrix.html">DM</a> v = <span class="keyword">static_cast&lt;</span><a class="code" href="../../da/d45/classcasadi_1_1Matrix.html">DM</a><span class="keyword">&gt;</span>(x);</div>
<div class="line"><a name="l01473"></a><span class="lineno"> 1473</span>&#160;            <a class="code" href="../../d7/d23/namespacecasadi.html#a8b909f6932a91230738731512b99127e">Dict</a> opts;</div>
<div class="line"><a name="l01474"></a><span class="lineno"> 1474</span>&#160;            opts[<span class="stringliteral">&quot;name&quot;</span>] = <span class="stringliteral">&quot;m&quot;</span>;</div>
<div class="line"><a name="l01475"></a><span class="lineno"> 1475</span>&#160;            opts[<span class="stringliteral">&quot;indent_level&quot;</span>] = indent_level;</div>
<div class="line"><a name="l01476"></a><span class="lineno"> 1476</span>&#160;            v.<a class="code" href="../../da/d45/classcasadi_1_1Matrix.html#a492d2a71d0922a88e8affe4cc9ccc679">export_code</a>(<span class="stringliteral">&quot;matlab&quot;</span>, ss, opts);</div>
<div class="line"><a name="l01477"></a><span class="lineno"> 1477</span>&#160;            ss &lt;&lt; indent &lt;&lt; <span class="stringliteral">&quot;w&quot;</span> &lt;&lt; o[0] &lt;&lt; <span class="stringliteral">&quot; = m;&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><a name="l01478"></a><span class="lineno"> 1478</span>&#160;          }</div>
<div class="line"><a name="l01479"></a><span class="lineno"> 1479</span>&#160;          <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01480"></a><span class="lineno"> 1480</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="../../d7/d23/namespacecasadi.html#af35251805e44185cb1f079ec41808618aeffdd62d0ae84e4dc8e809a63edf5a03">OP_SQ</a>:</div>
<div class="line"><a name="l01481"></a><span class="lineno"> 1481</span>&#160;          ss &lt;&lt; indent &lt;&lt; <span class="stringliteral">&quot;w&quot;</span> &lt;&lt; o[0] &lt;&lt; <span class="stringliteral">&quot; = &quot;</span> &lt;&lt; <span class="stringliteral">&quot;w&quot;</span> &lt;&lt; i[0] &lt;&lt; <span class="stringliteral">&quot;.^2;&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><a name="l01482"></a><span class="lineno"> 1482</span>&#160;          <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01483"></a><span class="lineno"> 1483</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="../../d7/d23/namespacecasadi.html#af35251805e44185cb1f079ec41808618ab2813a17e802e80f710a369303b5b02b">OP_MTIMES</a>:</div>
<div class="line"><a name="l01484"></a><span class="lineno"> 1484</span>&#160;          ss &lt;&lt; indent &lt;&lt; <span class="stringliteral">&quot;w&quot;</span> &lt;&lt; o[0] &lt;&lt; <span class="stringliteral">&quot; = &quot;</span>;</div>
<div class="line"><a name="l01485"></a><span class="lineno"> 1485</span>&#160;          ss &lt;&lt; <span class="stringliteral">&quot;w&quot;</span> &lt;&lt; i[1] &lt;&lt; <span class="stringliteral">&quot;*w&quot;</span> &lt;&lt; i[2] &lt;&lt; <span class="stringliteral">&quot;+w&quot;</span> &lt;&lt; i[0] &lt;&lt; <span class="stringliteral">&quot;;&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><a name="l01486"></a><span class="lineno"> 1486</span>&#160;          <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01487"></a><span class="lineno"> 1487</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="../../d7/d23/namespacecasadi.html#af35251805e44185cb1f079ec41808618ad13ccb640b60d4ade7342f3b4b2787c9">OP_MUL</a>:</div>
<div class="line"><a name="l01488"></a><span class="lineno"> 1488</span>&#160;          {</div>
<div class="line"><a name="l01489"></a><span class="lineno"> 1489</span>&#160;            std::string prefix = (x.<a class="code" href="../../de/d57/classcasadi_1_1MX.html#acf215202e081375a45aed741607f3331">dep</a>(0).<a class="code" href="../../dc/df3/classcasadi_1_1GenericMatrix.html#afe22d1cc61302ddc0aa5ed2fd0d06494">is_scalar</a>() || x.<a class="code" href="../../de/d57/classcasadi_1_1MX.html#acf215202e081375a45aed741607f3331">dep</a>(1).<a class="code" href="../../dc/df3/classcasadi_1_1GenericMatrix.html#afe22d1cc61302ddc0aa5ed2fd0d06494">is_scalar</a>()) ? <span class="stringliteral">&quot;&quot;</span> : <span class="stringliteral">&quot;.&quot;</span>;</div>
<div class="line"><a name="l01490"></a><span class="lineno"> 1490</span>&#160;            ss &lt;&lt; indent &lt;&lt; <span class="stringliteral">&quot;w&quot;</span> &lt;&lt; o[0] &lt;&lt; <span class="stringliteral">&quot; = &quot;</span> &lt;&lt; <span class="stringliteral">&quot;w&quot;</span> &lt;&lt; i[0] &lt;&lt; prefix &lt;&lt; <span class="stringliteral">&quot;*w&quot;</span> &lt;&lt; i[1] &lt;&lt; <span class="stringliteral">&quot;;&quot;</span>;</div>
<div class="line"><a name="l01491"></a><span class="lineno"> 1491</span>&#160;            ss &lt;&lt; std::endl;</div>
<div class="line"><a name="l01492"></a><span class="lineno"> 1492</span>&#160;          }</div>
<div class="line"><a name="l01493"></a><span class="lineno"> 1493</span>&#160;          <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01494"></a><span class="lineno"> 1494</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="../../d7/d23/namespacecasadi.html#af35251805e44185cb1f079ec41808618a6f668b51d4c8d9742fcbe05fbce09c44">OP_TWICE</a>:</div>
<div class="line"><a name="l01495"></a><span class="lineno"> 1495</span>&#160;          ss &lt;&lt; indent &lt;&lt; <span class="stringliteral">&quot;w&quot;</span> &lt;&lt; o[0] &lt;&lt; <span class="stringliteral">&quot; = 2*w&quot;</span> &lt;&lt; i[0] &lt;&lt; <span class="stringliteral">&quot;;&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><a name="l01496"></a><span class="lineno"> 1496</span>&#160;          <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01497"></a><span class="lineno"> 1497</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="../../d7/d23/namespacecasadi.html#af35251805e44185cb1f079ec41808618a4b0f940c108c1f324eda7b14031e4263">OP_INV</a>:</div>
<div class="line"><a name="l01498"></a><span class="lineno"> 1498</span>&#160;          ss &lt;&lt; indent &lt;&lt; <span class="stringliteral">&quot;w&quot;</span> &lt;&lt; o[0] &lt;&lt; <span class="stringliteral">&quot; = 1./w&quot;</span> &lt;&lt; i[0] &lt;&lt; <span class="stringliteral">&quot;;&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><a name="l01499"></a><span class="lineno"> 1499</span>&#160;          <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01500"></a><span class="lineno"> 1500</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="../../d7/d23/namespacecasadi.html#af35251805e44185cb1f079ec41808618a9886752fdc7d8aa6c7b38fe236607bd9">OP_DOT</a>:</div>
<div class="line"><a name="l01501"></a><span class="lineno"> 1501</span>&#160;          ss &lt;&lt; indent &lt;&lt; <span class="stringliteral">&quot;w&quot;</span> &lt;&lt; o[0] &lt;&lt; <span class="stringliteral">&quot; = dot(w&quot;</span> &lt;&lt; i[0] &lt;&lt; <span class="stringliteral">&quot;,w&quot;</span> &lt;&lt; i[1]&lt;&lt; <span class="stringliteral">&quot;);&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><a name="l01502"></a><span class="lineno"> 1502</span>&#160;          <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01503"></a><span class="lineno"> 1503</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="../../d7/d23/namespacecasadi.html#af35251805e44185cb1f079ec41808618ab1fb9c58be1cd5e79ecf118898a6eee2">OP_BILIN</a>:</div>
<div class="line"><a name="l01504"></a><span class="lineno"> 1504</span>&#160;          ss &lt;&lt; indent &lt;&lt; <span class="stringliteral">&quot;w&quot;</span> &lt;&lt; o[0] &lt;&lt; <span class="stringliteral">&quot; = w&quot;</span> &lt;&lt; i[1] &lt;&lt; <span class="stringliteral">&quot;.&#39;*w&quot;</span> &lt;&lt; i[0]&lt;&lt; <span class="stringliteral">&quot;*w&quot;</span> &lt;&lt; i[2] &lt;&lt; <span class="stringliteral">&quot;;&quot;</span>;</div>
<div class="line"><a name="l01505"></a><span class="lineno"> 1505</span>&#160;          ss &lt;&lt; std::endl;</div>
<div class="line"><a name="l01506"></a><span class="lineno"> 1506</span>&#160;          <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01507"></a><span class="lineno"> 1507</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="../../d7/d23/namespacecasadi.html#af35251805e44185cb1f079ec41808618ac7c7b33fc07c3e8071625ff6ba066551">OP_RANK1</a>:</div>
<div class="line"><a name="l01508"></a><span class="lineno"> 1508</span>&#160;          ss &lt;&lt; indent &lt;&lt; <span class="stringliteral">&quot;w&quot;</span> &lt;&lt; o[0] &lt;&lt; <span class="stringliteral">&quot; = w&quot;</span> &lt;&lt; i[0] &lt;&lt; <span class="stringliteral">&quot;+&quot;</span>;</div>
<div class="line"><a name="l01509"></a><span class="lineno"> 1509</span>&#160;          ss &lt;&lt; <span class="stringliteral">&quot;w&quot;</span> &lt;&lt; i[1] &lt;&lt; <span class="stringliteral">&quot;*w&quot;</span> &lt;&lt; i[2] &lt;&lt; <span class="stringliteral">&quot;*w&quot;</span> &lt;&lt; i[3] &lt;&lt; <span class="stringliteral">&quot;.&#39;;&quot;</span>;</div>
<div class="line"><a name="l01510"></a><span class="lineno"> 1510</span>&#160;          ss &lt;&lt; std::endl;</div>
<div class="line"><a name="l01511"></a><span class="lineno"> 1511</span>&#160;          <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01512"></a><span class="lineno"> 1512</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="../../d7/d23/namespacecasadi.html#af35251805e44185cb1f079ec41808618ab13a6ad52a2054f2916d22e266c1940d">OP_FABS</a>:</div>
<div class="line"><a name="l01513"></a><span class="lineno"> 1513</span>&#160;          ss &lt;&lt; indent &lt;&lt; <span class="stringliteral">&quot;w&quot;</span> &lt;&lt; o[0] &lt;&lt; <span class="stringliteral">&quot; = abs(w&quot;</span> &lt;&lt; i[0] &lt;&lt; <span class="stringliteral">&quot;);&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><a name="l01514"></a><span class="lineno"> 1514</span>&#160;          <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01515"></a><span class="lineno"> 1515</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="../../d7/d23/namespacecasadi.html#af35251805e44185cb1f079ec41808618a96702b1a301db332206bba294d3ef2f3">OP_DETERMINANT</a>:</div>
<div class="line"><a name="l01516"></a><span class="lineno"> 1516</span>&#160;          ss &lt;&lt; indent &lt;&lt; <span class="stringliteral">&quot;w&quot;</span> &lt;&lt; o[0] &lt;&lt; <span class="stringliteral">&quot; = det(w&quot;</span> &lt;&lt; i[0] &lt;&lt; <span class="stringliteral">&quot;);&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><a name="l01517"></a><span class="lineno"> 1517</span>&#160;          <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01518"></a><span class="lineno"> 1518</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="../../d7/d23/namespacecasadi.html#af35251805e44185cb1f079ec41808618a4f377b56366a3777cd700322b8545796">OP_INVERSE</a>:</div>
<div class="line"><a name="l01519"></a><span class="lineno"> 1519</span>&#160;          ss &lt;&lt; indent &lt;&lt; <span class="stringliteral">&quot;w&quot;</span> &lt;&lt; o[0] &lt;&lt; <span class="stringliteral">&quot; = inv(w&quot;</span> &lt;&lt; i[0] &lt;&lt; <span class="stringliteral">&quot;);&quot;</span>;</div>
<div class="line"><a name="l01520"></a><span class="lineno"> 1520</span>&#160;          ss &lt;&lt; <span class="stringliteral">&quot;w&quot;</span> &lt;&lt; o[0] &lt;&lt; <span class="stringliteral">&quot;(w&quot;</span> &lt;&lt; o[0] &lt;&lt; <span class="stringliteral">&quot;==0) = 1e-200;&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><a name="l01521"></a><span class="lineno"> 1521</span>&#160;          <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01522"></a><span class="lineno"> 1522</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="../../d7/d23/namespacecasadi.html#af35251805e44185cb1f079ec41808618abffce4d5fb9f65e83c9eeab42118ca09">OP_SOLVE</a>:</div>
<div class="line"><a name="l01523"></a><span class="lineno"> 1523</span>&#160;          {</div>
<div class="line"><a name="l01524"></a><span class="lineno"> 1524</span>&#160;            <span class="keywordtype">bool</span> tr = x.<a class="code" href="../../de/d57/classcasadi_1_1MX.html#abacafe753de9c27b2b999631ff8f5faf">info</a>()[<span class="stringliteral">&quot;tr&quot;</span>];</div>
<div class="line"><a name="l01525"></a><span class="lineno"> 1525</span>&#160;            <span class="keywordflow">if</span> (tr) {</div>
<div class="line"><a name="l01526"></a><span class="lineno"> 1526</span>&#160;              ss &lt;&lt; indent &lt;&lt; <span class="stringliteral">&quot;w&quot;</span> &lt;&lt; o[0] &lt;&lt; <span class="stringliteral">&quot; = ((w&quot;</span> &lt;&lt; i[1] &lt;&lt; <span class="stringliteral">&quot;.&#39;)\\w&quot;</span> &lt;&lt; i[0] &lt;&lt; <span class="stringliteral">&quot;).&#39;;&quot;</span>;</div>
<div class="line"><a name="l01527"></a><span class="lineno"> 1527</span>&#160;              ss &lt;&lt; std::endl;</div>
<div class="line"><a name="l01528"></a><span class="lineno"> 1528</span>&#160;            } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01529"></a><span class="lineno"> 1529</span>&#160;              ss &lt;&lt; indent &lt;&lt; <span class="stringliteral">&quot;w&quot;</span> &lt;&lt; o[0] &lt;&lt; <span class="stringliteral">&quot; = w&quot;</span> &lt;&lt; i[1] &lt;&lt; <span class="stringliteral">&quot;\\w&quot;</span> &lt;&lt; i[0] &lt;&lt; <span class="stringliteral">&quot;;&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><a name="l01530"></a><span class="lineno"> 1530</span>&#160;            }</div>
<div class="line"><a name="l01531"></a><span class="lineno"> 1531</span>&#160;            ss &lt;&lt; <span class="stringliteral">&quot;w&quot;</span> &lt;&lt; o[0] &lt;&lt; <span class="stringliteral">&quot;(w&quot;</span> &lt;&lt; o[0] &lt;&lt; <span class="stringliteral">&quot;==0) = 1e-200;&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><a name="l01532"></a><span class="lineno"> 1532</span>&#160;          }</div>
<div class="line"><a name="l01533"></a><span class="lineno"> 1533</span>&#160;          <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01534"></a><span class="lineno"> 1534</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="../../d7/d23/namespacecasadi.html#af35251805e44185cb1f079ec41808618abd1f367dcf5c6c8f2ca135efcfcc2312">OP_DIV</a>:</div>
<div class="line"><a name="l01535"></a><span class="lineno"> 1535</span>&#160;          {</div>
<div class="line"><a name="l01536"></a><span class="lineno"> 1536</span>&#160;            std::string prefix = (x.<a class="code" href="../../de/d57/classcasadi_1_1MX.html#acf215202e081375a45aed741607f3331">dep</a>(0).<a class="code" href="../../dc/df3/classcasadi_1_1GenericMatrix.html#afe22d1cc61302ddc0aa5ed2fd0d06494">is_scalar</a>() || x.<a class="code" href="../../de/d57/classcasadi_1_1MX.html#acf215202e081375a45aed741607f3331">dep</a>(1).<a class="code" href="../../dc/df3/classcasadi_1_1GenericMatrix.html#afe22d1cc61302ddc0aa5ed2fd0d06494">is_scalar</a>()) ? <span class="stringliteral">&quot;&quot;</span> : <span class="stringliteral">&quot;.&quot;</span>;</div>
<div class="line"><a name="l01537"></a><span class="lineno"> 1537</span>&#160;            ss &lt;&lt; indent &lt;&lt; <span class="stringliteral">&quot;w&quot;</span> &lt;&lt; o[0] &lt;&lt; <span class="stringliteral">&quot; = &quot;</span> &lt;&lt; <span class="stringliteral">&quot;w&quot;</span> &lt;&lt; i[0] &lt;&lt; prefix &lt;&lt; <span class="stringliteral">&quot;/w&quot;</span> &lt;&lt; i[1] &lt;&lt; <span class="stringliteral">&quot;;&quot;</span>;</div>
<div class="line"><a name="l01538"></a><span class="lineno"> 1538</span>&#160;            ss &lt;&lt; std::endl;</div>
<div class="line"><a name="l01539"></a><span class="lineno"> 1539</span>&#160;          }</div>
<div class="line"><a name="l01540"></a><span class="lineno"> 1540</span>&#160;          <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01541"></a><span class="lineno"> 1541</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="../../d7/d23/namespacecasadi.html#af35251805e44185cb1f079ec41808618aa57f125fed4de46111b67951fd655174">OP_POW</a>:</div>
<div class="line"><a name="l01542"></a><span class="lineno"> 1542</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="../../d7/d23/namespacecasadi.html#af35251805e44185cb1f079ec41808618ac89198dd21329047b754677c116f8d76">OP_CONSTPOW</a>:</div>
<div class="line"><a name="l01543"></a><span class="lineno"> 1543</span>&#160;          ss &lt;&lt; indent &lt;&lt; <span class="stringliteral">&quot;w&quot;</span> &lt;&lt; o[0] &lt;&lt; <span class="stringliteral">&quot; = &quot;</span> &lt;&lt; <span class="stringliteral">&quot;w&quot;</span> &lt;&lt; i[0] &lt;&lt; <span class="stringliteral">&quot;.^w&quot;</span> &lt;&lt; i[1] &lt;&lt; <span class="stringliteral">&quot;;&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><a name="l01544"></a><span class="lineno"> 1544</span>&#160;          <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01545"></a><span class="lineno"> 1545</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="../../d7/d23/namespacecasadi.html#af35251805e44185cb1f079ec41808618abe7ed721dbdb24fe0a0fac0abcc81ed1">OP_TRANSPOSE</a>:</div>
<div class="line"><a name="l01546"></a><span class="lineno"> 1546</span>&#160;          ss &lt;&lt; indent &lt;&lt; <span class="stringliteral">&quot;w&quot;</span> &lt;&lt; o[0] &lt;&lt; <span class="stringliteral">&quot; = &quot;</span> &lt;&lt; <span class="stringliteral">&quot;w&quot;</span> &lt;&lt; i[0] &lt;&lt; <span class="stringliteral">&quot;.&#39;;&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><a name="l01547"></a><span class="lineno"> 1547</span>&#160;          <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01548"></a><span class="lineno"> 1548</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="../../d7/d23/namespacecasadi.html#af35251805e44185cb1f079ec41808618a0c1956b0427128c496c01945cef322ac">OP_HORZCAT</a>:</div>
<div class="line"><a name="l01549"></a><span class="lineno"> 1549</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="../../d7/d23/namespacecasadi.html#af35251805e44185cb1f079ec41808618a12397fccb494534bf9279ef38f02ecb8">OP_VERTCAT</a>:</div>
<div class="line"><a name="l01550"></a><span class="lineno"> 1550</span>&#160;          {</div>
<div class="line"><a name="l01551"></a><span class="lineno"> 1551</span>&#160;            ss &lt;&lt; indent &lt;&lt; <span class="stringliteral">&quot;w&quot;</span> &lt;&lt; o[0] &lt;&lt; <span class="stringliteral">&quot; = [&quot;</span>;</div>
<div class="line"><a name="l01552"></a><span class="lineno"> 1552</span>&#160;            <span class="keywordflow">for</span> (casadi_int e : i) {</div>
<div class="line"><a name="l01553"></a><span class="lineno"> 1553</span>&#160;              ss &lt;&lt; <span class="stringliteral">&quot;w&quot;</span> &lt;&lt; e &lt;&lt; (op==<a class="code" href="../../d7/d23/namespacecasadi.html#af35251805e44185cb1f079ec41808618a0c1956b0427128c496c01945cef322ac">OP_HORZCAT</a> ? <span class="stringliteral">&quot; &quot;</span> : <span class="stringliteral">&quot;;&quot;</span>);</div>
<div class="line"><a name="l01554"></a><span class="lineno"> 1554</span>&#160;            }</div>
<div class="line"><a name="l01555"></a><span class="lineno"> 1555</span>&#160;            ss &lt;&lt; <span class="stringliteral">&quot;];&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><a name="l01556"></a><span class="lineno"> 1556</span>&#160;          }</div>
<div class="line"><a name="l01557"></a><span class="lineno"> 1557</span>&#160;          <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01558"></a><span class="lineno"> 1558</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="../../d7/d23/namespacecasadi.html#af35251805e44185cb1f079ec41808618a00d5a8cdf45efa665e55bad6098e80a6">OP_DIAGCAT</a>:</div>
<div class="line"><a name="l01559"></a><span class="lineno"> 1559</span>&#160;          {</div>
<div class="line"><a name="l01560"></a><span class="lineno"> 1560</span>&#160;            <span class="keywordflow">for</span> (casadi_int k=0;k&lt;i.size();++k) {</div>
<div class="line"><a name="l01561"></a><span class="lineno"> 1561</span>&#160;              x.<a class="code" href="../../de/d57/classcasadi_1_1MX.html#acf215202e081375a45aed741607f3331">dep</a>(k).<a class="code" href="../../de/d57/classcasadi_1_1MX.html#a1a4e7c2d261e7d8da0c07907d8269af7">sparsity</a>().<a class="code" href="../../d5/da8/classcasadi_1_1Sparsity.html#ab55004cb23a1c51a581842e2887d9b7a">export_code</a>(<span class="stringliteral">&quot;matlab&quot;</span>, ss,</div>
<div class="line"><a name="l01562"></a><span class="lineno"> 1562</span>&#160;                {{<span class="stringliteral">&quot;name&quot;</span>, <span class="stringliteral">&quot;sp_in&quot;</span> + <a class="code" href="../../d7/d23/namespacecasadi.html#a88082fbf80560c888949bb765d9ccea0">str</a>(k)}, {<span class="stringliteral">&quot;indent_level&quot;</span>, indent_level}, {<span class="stringliteral">&quot;as_matrix&quot;</span>, <span class="keyword">true</span>}});</div>
<div class="line"><a name="l01563"></a><span class="lineno"> 1563</span>&#160;            }</div>
<div class="line"><a name="l01564"></a><span class="lineno"> 1564</span>&#160;            ss &lt;&lt; indent &lt;&lt; <span class="stringliteral">&quot;w&quot;</span> &lt;&lt; o[0] &lt;&lt; <span class="stringliteral">&quot; = [&quot;</span>;</div>
<div class="line"><a name="l01565"></a><span class="lineno"> 1565</span>&#160;            <span class="keywordflow">for</span> (casadi_int k=0;k&lt;i.size();++k) {</div>
<div class="line"><a name="l01566"></a><span class="lineno"> 1566</span>&#160;              ss &lt;&lt; <span class="stringliteral">&quot;w&quot;</span> &lt;&lt; i[k] &lt;&lt; <span class="stringliteral">&quot;(sp_in&quot;</span> &lt;&lt; k &lt;&lt; <span class="stringliteral">&quot;==1);&quot;</span>;</div>
<div class="line"><a name="l01567"></a><span class="lineno"> 1567</span>&#160;            }</div>
<div class="line"><a name="l01568"></a><span class="lineno"> 1568</span>&#160;            ss &lt;&lt; <span class="stringliteral">&quot;];&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><a name="l01569"></a><span class="lineno"> 1569</span>&#160;            <a class="code" href="../../d7/d23/namespacecasadi.html#a8b909f6932a91230738731512b99127e">Dict</a> opts;</div>
<div class="line"><a name="l01570"></a><span class="lineno"> 1570</span>&#160;            opts[<span class="stringliteral">&quot;name&quot;</span>] = <span class="stringliteral">&quot;sp&quot;</span>;</div>
<div class="line"><a name="l01571"></a><span class="lineno"> 1571</span>&#160;            opts[<span class="stringliteral">&quot;indent_level&quot;</span>] = indent_level;</div>
<div class="line"><a name="l01572"></a><span class="lineno"> 1572</span>&#160;            opts[<span class="stringliteral">&quot;as_matrix&quot;</span>] = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01573"></a><span class="lineno"> 1573</span>&#160;            x.<a class="code" href="../../de/d57/classcasadi_1_1MX.html#a1a4e7c2d261e7d8da0c07907d8269af7">sparsity</a>().<a class="code" href="../../d5/da8/classcasadi_1_1Sparsity.html#ab55004cb23a1c51a581842e2887d9b7a">export_code</a>(<span class="stringliteral">&quot;matlab&quot;</span>, ss, opts);</div>
<div class="line"><a name="l01574"></a><span class="lineno"> 1574</span>&#160;            ss &lt;&lt; indent &lt;&lt; <span class="stringliteral">&quot;w&quot;</span> &lt;&lt; o[0] &lt;&lt; <span class="stringliteral">&quot; = &quot;</span>;</div>
<div class="line"><a name="l01575"></a><span class="lineno"> 1575</span>&#160;            ss &lt;&lt; <span class="stringliteral">&quot;sparse(sp_i, sp_j, w&quot;</span> &lt;&lt; o[0] &lt;&lt; <span class="stringliteral">&quot;, sp_m, sp_n);&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><a name="l01576"></a><span class="lineno"> 1576</span>&#160;          }</div>
<div class="line"><a name="l01577"></a><span class="lineno"> 1577</span>&#160;          <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01578"></a><span class="lineno"> 1578</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="../../d7/d23/namespacecasadi.html#af35251805e44185cb1f079ec41808618ae8656d3a3edae3c746f47ff4d6d21706">OP_HORZSPLIT</a>:</div>
<div class="line"><a name="l01579"></a><span class="lineno"> 1579</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="../../d7/d23/namespacecasadi.html#af35251805e44185cb1f079ec41808618a627a458a86449ec38ceb8099959059f8">OP_VERTSPLIT</a>:</div>
<div class="line"><a name="l01580"></a><span class="lineno"> 1580</span>&#160;          {</div>
<div class="line"><a name="l01581"></a><span class="lineno"> 1581</span>&#160;            <a class="code" href="../../d7/d23/namespacecasadi.html#a8b909f6932a91230738731512b99127e">Dict</a> <a class="code" href="../../d2/dab/classcasadi_1_1FunctionInternal.html#ac8b12c25e704a6499f5b683210201052">info</a> = x.<a class="code" href="../../de/d57/classcasadi_1_1MX.html#abacafe753de9c27b2b999631ff8f5faf">info</a>();</div>
<div class="line"><a name="l01582"></a><span class="lineno"> 1582</span>&#160;            std::vector&lt;casadi_int&gt; offset = <a class="code" href="../../d2/dab/classcasadi_1_1FunctionInternal.html#ac8b12c25e704a6499f5b683210201052">info</a>[<span class="stringliteral">&quot;offset&quot;</span>];</div>
<div class="line"><a name="l01583"></a><span class="lineno"> 1583</span>&#160;            <a class="code" href="../../da/da4/classcasadi_1_1Function.html">casadi::Function</a> output = <a class="code" href="../../d2/dab/classcasadi_1_1FunctionInternal.html#ac8b12c25e704a6499f5b683210201052">info</a>[<span class="stringliteral">&quot;output&quot;</span>];</div>
<div class="line"><a name="l01584"></a><span class="lineno"> 1584</span>&#160;            std::vector&lt;Sparsity&gt; sp;</div>
<div class="line"><a name="l01585"></a><span class="lineno"> 1585</span>&#160;            <span class="keywordflow">for</span> (casadi_int i=0;i&lt;output.<a class="code" href="../../da/da4/classcasadi_1_1Function.html#a96ca8075f8f03e3b6309e42bea486c34">n_out</a>();i++)</div>
<div class="line"><a name="l01586"></a><span class="lineno"> 1586</span>&#160;              sp.push_back(output.<a class="code" href="../../da/da4/classcasadi_1_1Function.html#a2ba592675af4cdb40c29d23e862170dc">sparsity_out</a>(i));</div>
<div class="line"><a name="l01587"></a><span class="lineno"> 1587</span>&#160;            <span class="keywordflow">for</span> (casadi_int k=0;k&lt;o.size();++k) {</div>
<div class="line"><a name="l01588"></a><span class="lineno"> 1588</span>&#160;              <span class="keywordflow">if</span> (o[k]==-1) <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01589"></a><span class="lineno"> 1589</span>&#160;              x.<a class="code" href="../../de/d57/classcasadi_1_1MX.html#acf215202e081375a45aed741607f3331">dep</a>(0).<a class="code" href="../../de/d57/classcasadi_1_1MX.html#a1a4e7c2d261e7d8da0c07907d8269af7">sparsity</a>().<a class="code" href="../../d5/da8/classcasadi_1_1Sparsity.html#ab55004cb23a1c51a581842e2887d9b7a">export_code</a>(<span class="stringliteral">&quot;matlab&quot;</span>, ss,</div>
<div class="line"><a name="l01590"></a><span class="lineno"> 1590</span>&#160;                {{<span class="stringliteral">&quot;name&quot;</span>, <span class="stringliteral">&quot;sp_in&quot;</span>}, {<span class="stringliteral">&quot;indent_level&quot;</span>, indent_level}, {<span class="stringliteral">&quot;as_matrix&quot;</span>, <span class="keyword">true</span>}});</div>
<div class="line"><a name="l01591"></a><span class="lineno"> 1591</span>&#160;              ss &lt;&lt; indent &lt;&lt; <span class="stringliteral">&quot;tmp = w&quot;</span> &lt;&lt; i[0]&lt;&lt; <span class="stringliteral">&quot;(sp_in==1);&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><a name="l01592"></a><span class="lineno"> 1592</span>&#160;              <a class="code" href="../../d7/d23/namespacecasadi.html#a8b909f6932a91230738731512b99127e">Dict</a> opts;</div>
<div class="line"><a name="l01593"></a><span class="lineno"> 1593</span>&#160;              opts[<span class="stringliteral">&quot;name&quot;</span>] = <span class="stringliteral">&quot;sp&quot;</span>;</div>
<div class="line"><a name="l01594"></a><span class="lineno"> 1594</span>&#160;              opts[<span class="stringliteral">&quot;indent_level&quot;</span>] = indent_level;</div>
<div class="line"><a name="l01595"></a><span class="lineno"> 1595</span>&#160;              opts[<span class="stringliteral">&quot;as_matrix&quot;</span>] = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01596"></a><span class="lineno"> 1596</span>&#160;              sp[k].export_code(<span class="stringliteral">&quot;matlab&quot;</span>, ss, opts);</div>
<div class="line"><a name="l01597"></a><span class="lineno"> 1597</span>&#160;              ss &lt;&lt; indent &lt;&lt; <span class="stringliteral">&quot;w&quot;</span> &lt;&lt; o[k] &lt;&lt; <span class="stringliteral">&quot; = sparse(sp_i, sp_j, &quot;</span>;</div>
<div class="line"><a name="l01598"></a><span class="lineno"> 1598</span>&#160;              ss &lt;&lt; <span class="stringliteral">&quot;tmp(&quot;</span> &lt;&lt; offset[k]+1 &lt;&lt; <span class="stringliteral">&quot;:&quot;</span> &lt;&lt; offset[k+1] &lt;&lt; <span class="stringliteral">&quot;), sp_m, sp_n);&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><a name="l01599"></a><span class="lineno"> 1599</span>&#160;            }</div>
<div class="line"><a name="l01600"></a><span class="lineno"> 1600</span>&#160;          }</div>
<div class="line"><a name="l01601"></a><span class="lineno"> 1601</span>&#160;          <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01602"></a><span class="lineno"> 1602</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="../../d7/d23/namespacecasadi.html#af35251805e44185cb1f079ec41808618af63e4c1b9a63bfa91a54d414859901ae">OP_GETNONZEROS</a>:</div>
<div class="line"><a name="l01603"></a><span class="lineno"> 1603</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="../../d7/d23/namespacecasadi.html#af35251805e44185cb1f079ec41808618a57f738c33195d7584f5dc03215625f4a">OP_SETNONZEROS</a>:</div>
<div class="line"><a name="l01604"></a><span class="lineno"> 1604</span>&#160;          {</div>
<div class="line"><a name="l01605"></a><span class="lineno"> 1605</span>&#160;            <a class="code" href="../../d7/d23/namespacecasadi.html#a8b909f6932a91230738731512b99127e">Dict</a> <a class="code" href="../../d2/dab/classcasadi_1_1FunctionInternal.html#ac8b12c25e704a6499f5b683210201052">info</a> = x.<a class="code" href="../../de/d57/classcasadi_1_1MX.html#abacafe753de9c27b2b999631ff8f5faf">info</a>();</div>
<div class="line"><a name="l01606"></a><span class="lineno"> 1606</span>&#160; </div>
<div class="line"><a name="l01607"></a><span class="lineno"> 1607</span>&#160;            std::string nonzeros;</div>
<div class="line"><a name="l01608"></a><span class="lineno"> 1608</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../d2/dab/classcasadi_1_1FunctionInternal.html#ac8b12c25e704a6499f5b683210201052">info</a>.find(<span class="stringliteral">&quot;nz&quot;</span>)!=<a class="code" href="../../d2/dab/classcasadi_1_1FunctionInternal.html#ac8b12c25e704a6499f5b683210201052">info</a>.end()) {</div>
<div class="line"><a name="l01609"></a><span class="lineno"> 1609</span>&#160;              nonzeros = <span class="stringliteral">&quot;1+&quot;</span> + <a class="code" href="../../d7/d23/namespacecasadi.html#a88082fbf80560c888949bb765d9ccea0">str</a>(<a class="code" href="../../d2/dab/classcasadi_1_1FunctionInternal.html#ac8b12c25e704a6499f5b683210201052">info</a>[<span class="stringliteral">&quot;nz&quot;</span>]);</div>
<div class="line"><a name="l01610"></a><span class="lineno"> 1610</span>&#160;            } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="../../d2/dab/classcasadi_1_1FunctionInternal.html#ac8b12c25e704a6499f5b683210201052">info</a>.find(<span class="stringliteral">&quot;slice&quot;</span>)!=<a class="code" href="../../d2/dab/classcasadi_1_1FunctionInternal.html#ac8b12c25e704a6499f5b683210201052">info</a>.end()) {</div>
<div class="line"><a name="l01611"></a><span class="lineno"> 1611</span>&#160;              <a class="code" href="../../d7/d23/namespacecasadi.html#a8b909f6932a91230738731512b99127e">Dict</a> s = <a class="code" href="../../d2/dab/classcasadi_1_1FunctionInternal.html#ac8b12c25e704a6499f5b683210201052">info</a>[<span class="stringliteral">&quot;slice&quot;</span>];</div>
<div class="line"><a name="l01612"></a><span class="lineno"> 1612</span>&#160;              casadi_int start = s[<span class="stringliteral">&quot;start&quot;</span>];</div>
<div class="line"><a name="l01613"></a><span class="lineno"> 1613</span>&#160;              casadi_int step = s[<span class="stringliteral">&quot;step&quot;</span>];</div>
<div class="line"><a name="l01614"></a><span class="lineno"> 1614</span>&#160;              casadi_int stop = s[<span class="stringliteral">&quot;stop&quot;</span>];</div>
<div class="line"><a name="l01615"></a><span class="lineno"> 1615</span>&#160;              nonzeros = <a class="code" href="../../d7/d23/namespacecasadi.html#a88082fbf80560c888949bb765d9ccea0">str</a>(start+1) + <span class="stringliteral">&quot;:&quot;</span> + <a class="code" href="../../d7/d23/namespacecasadi.html#a88082fbf80560c888949bb765d9ccea0">str</a>(step) + <span class="stringliteral">&quot;:&quot;</span> + <a class="code" href="../../d7/d23/namespacecasadi.html#a88082fbf80560c888949bb765d9ccea0">str</a>(stop);</div>
<div class="line"><a name="l01616"></a><span class="lineno"> 1616</span>&#160;              nonzeros = <span class="stringliteral">&quot;nonzeros(&quot;</span> + nonzeros + <span class="stringliteral">&quot;)&quot;</span>;</div>
<div class="line"><a name="l01617"></a><span class="lineno"> 1617</span>&#160;            } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01618"></a><span class="lineno"> 1618</span>&#160;              <a class="code" href="../../d7/d23/namespacecasadi.html#a8b909f6932a91230738731512b99127e">Dict</a> inner = <a class="code" href="../../d2/dab/classcasadi_1_1FunctionInternal.html#ac8b12c25e704a6499f5b683210201052">info</a>[<span class="stringliteral">&quot;inner&quot;</span>];</div>
<div class="line"><a name="l01619"></a><span class="lineno"> 1619</span>&#160;              <a class="code" href="../../d7/d23/namespacecasadi.html#a8b909f6932a91230738731512b99127e">Dict</a> outer = <a class="code" href="../../d2/dab/classcasadi_1_1FunctionInternal.html#ac8b12c25e704a6499f5b683210201052">info</a>[<span class="stringliteral">&quot;outer&quot;</span>];</div>
<div class="line"><a name="l01620"></a><span class="lineno"> 1620</span>&#160;              casadi_int inner_start = inner[<span class="stringliteral">&quot;start&quot;</span>];</div>
<div class="line"><a name="l01621"></a><span class="lineno"> 1621</span>&#160;              casadi_int inner_step  = inner[<span class="stringliteral">&quot;step&quot;</span>];</div>
<div class="line"><a name="l01622"></a><span class="lineno"> 1622</span>&#160;              casadi_int inner_stop  = inner[<span class="stringliteral">&quot;stop&quot;</span>];</div>
<div class="line"><a name="l01623"></a><span class="lineno"> 1623</span>&#160;              casadi_int outer_start = outer[<span class="stringliteral">&quot;start&quot;</span>];</div>
<div class="line"><a name="l01624"></a><span class="lineno"> 1624</span>&#160;              casadi_int outer_step  = outer[<span class="stringliteral">&quot;step&quot;</span>];</div>
<div class="line"><a name="l01625"></a><span class="lineno"> 1625</span>&#160;              casadi_int outer_stop  = outer[<span class="stringliteral">&quot;stop&quot;</span>];</div>
<div class="line"><a name="l01626"></a><span class="lineno"> 1626</span>&#160;              std::string inner_slice = <span class="stringliteral">&quot;(&quot;</span> + <a class="code" href="../../d7/d23/namespacecasadi.html#a88082fbf80560c888949bb765d9ccea0">str</a>(inner_start) + <span class="stringliteral">&quot;:&quot;</span> +</div>
<div class="line"><a name="l01627"></a><span class="lineno"> 1627</span>&#160;                <a class="code" href="../../d7/d23/namespacecasadi.html#a88082fbf80560c888949bb765d9ccea0">str</a>(inner_step) + <span class="stringliteral">&quot;:&quot;</span> + <a class="code" href="../../d7/d23/namespacecasadi.html#a88082fbf80560c888949bb765d9ccea0">str</a>(inner_stop-1)+<span class="stringliteral">&quot;)&quot;</span>;</div>
<div class="line"><a name="l01628"></a><span class="lineno"> 1628</span>&#160;              std::string outer_slice = <span class="stringliteral">&quot;(&quot;</span> + <a class="code" href="../../d7/d23/namespacecasadi.html#a88082fbf80560c888949bb765d9ccea0">str</a>(outer_start+1) + <span class="stringliteral">&quot;:&quot;</span> +</div>
<div class="line"><a name="l01629"></a><span class="lineno"> 1629</span>&#160;                <a class="code" href="../../d7/d23/namespacecasadi.html#a88082fbf80560c888949bb765d9ccea0">str</a>(outer_step) + <span class="stringliteral">&quot;:&quot;</span> + <a class="code" href="../../d7/d23/namespacecasadi.html#a88082fbf80560c888949bb765d9ccea0">str</a>(outer_stop)+<span class="stringliteral">&quot;)&quot;</span>;</div>
<div class="line"><a name="l01630"></a><span class="lineno"> 1630</span>&#160;              casadi_int N = <a class="code" href="../../d7/d23/namespacecasadi.html#a0711bde4b270ae67bbb343190cf73456">range</a>(outer_start, outer_stop, outer_step).size();</div>
<div class="line"><a name="l01631"></a><span class="lineno"> 1631</span>&#160;              casadi_int M = <a class="code" href="../../d7/d23/namespacecasadi.html#a0711bde4b270ae67bbb343190cf73456">range</a>(inner_start, inner_stop, inner_step).size();</div>
<div class="line"><a name="l01632"></a><span class="lineno"> 1632</span>&#160;              nonzeros = <span class="stringliteral">&quot;repmat(&quot;</span>+ inner_slice  +<span class="stringliteral">&quot;&#39;, 1, &quot;</span> + <a class="code" href="../../d7/d23/namespacecasadi.html#a88082fbf80560c888949bb765d9ccea0">str</a>(N) + <span class="stringliteral">&quot;)+&quot;</span> +</div>
<div class="line"><a name="l01633"></a><span class="lineno"> 1633</span>&#160;                         <span class="stringliteral">&quot;repmat(&quot;</span>+ outer_slice  +<span class="stringliteral">&quot;, &quot;</span> + <a class="code" href="../../d7/d23/namespacecasadi.html#a88082fbf80560c888949bb765d9ccea0">str</a>(M) + <span class="stringliteral">&quot;, 1)&quot;</span>;</div>
<div class="line"><a name="l01634"></a><span class="lineno"> 1634</span>&#160;              nonzeros = <span class="stringliteral">&quot;nonzeros(&quot;</span> + nonzeros + <span class="stringliteral">&quot;)&quot;</span>;</div>
<div class="line"><a name="l01635"></a><span class="lineno"> 1635</span>&#160;            }</div>
<div class="line"><a name="l01636"></a><span class="lineno"> 1636</span>&#160; </div>
<div class="line"><a name="l01637"></a><span class="lineno"> 1637</span>&#160;            <a class="code" href="../../d7/d23/namespacecasadi.html#a8b909f6932a91230738731512b99127e">Dict</a> opts;</div>
<div class="line"><a name="l01638"></a><span class="lineno"> 1638</span>&#160;            opts[<span class="stringliteral">&quot;name&quot;</span>] = <span class="stringliteral">&quot;sp&quot;</span>;</div>
<div class="line"><a name="l01639"></a><span class="lineno"> 1639</span>&#160;            opts[<span class="stringliteral">&quot;indent_level&quot;</span>] = indent_level;</div>
<div class="line"><a name="l01640"></a><span class="lineno"> 1640</span>&#160;            opts[<span class="stringliteral">&quot;as_matrix&quot;</span>] = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01641"></a><span class="lineno"> 1641</span>&#160;            x.<a class="code" href="../../de/d57/classcasadi_1_1MX.html#a1a4e7c2d261e7d8da0c07907d8269af7">sparsity</a>().<a class="code" href="../../d5/da8/classcasadi_1_1Sparsity.html#ab55004cb23a1c51a581842e2887d9b7a">export_code</a>(<span class="stringliteral">&quot;matlab&quot;</span>, ss, opts);</div>
<div class="line"><a name="l01642"></a><span class="lineno"> 1642</span>&#160; </div>
<div class="line"><a name="l01643"></a><span class="lineno"> 1643</span>&#160;            <span class="keywordflow">if</span> (op==<a class="code" href="../../d7/d23/namespacecasadi.html#af35251805e44185cb1f079ec41808618af63e4c1b9a63bfa91a54d414859901ae">OP_GETNONZEROS</a>) {</div>
<div class="line"><a name="l01644"></a><span class="lineno"> 1644</span>&#160;              x.<a class="code" href="../../de/d57/classcasadi_1_1MX.html#acf215202e081375a45aed741607f3331">dep</a>(0).<a class="code" href="../../de/d57/classcasadi_1_1MX.html#a1a4e7c2d261e7d8da0c07907d8269af7">sparsity</a>().<a class="code" href="../../d5/da8/classcasadi_1_1Sparsity.html#ab55004cb23a1c51a581842e2887d9b7a">export_code</a>(<span class="stringliteral">&quot;matlab&quot;</span>, ss,</div>
<div class="line"><a name="l01645"></a><span class="lineno"> 1645</span>&#160;                {{<span class="stringliteral">&quot;name&quot;</span>, <span class="stringliteral">&quot;sp_in&quot;</span>}, {<span class="stringliteral">&quot;indent_level&quot;</span>, indent_level}, {<span class="stringliteral">&quot;as_matrix&quot;</span>, <span class="keyword">true</span>}});</div>
<div class="line"><a name="l01646"></a><span class="lineno"> 1646</span>&#160;              <span class="comment">//ss &lt;&lt; indent &lt;&lt; &quot;w&quot; &lt;&lt; i[0] &lt;&lt; &quot;&quot; &lt;&lt; std::endl;</span></div>
<div class="line"><a name="l01647"></a><span class="lineno"> 1647</span>&#160;              <span class="comment">//ss &lt;&lt; indent &lt;&lt; &quot;size(w&quot; &lt;&lt; i[0] &lt;&lt; &quot;)&quot; &lt;&lt; std::endl;</span></div>
<div class="line"><a name="l01648"></a><span class="lineno"> 1648</span>&#160;              ss &lt;&lt; indent &lt;&lt; <span class="stringliteral">&quot;in_flat = w&quot;</span> &lt;&lt; i[0] &lt;&lt; <span class="stringliteral">&quot;(sp_in==1);&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><a name="l01649"></a><span class="lineno"> 1649</span>&#160;              <span class="comment">//ss &lt;&lt; indent &lt;&lt; &quot;in_flat&quot; &lt;&lt; std::endl;</span></div>
<div class="line"><a name="l01650"></a><span class="lineno"> 1650</span>&#160;              <span class="comment">//ss &lt;&lt; indent &lt;&lt; &quot;size(in_flat)&quot; &lt;&lt; std::endl;</span></div>
<div class="line"><a name="l01651"></a><span class="lineno"> 1651</span>&#160;              ss &lt;&lt; indent &lt;&lt; <span class="stringliteral">&quot;w&quot;</span> &lt;&lt; o[0] &lt;&lt; <span class="stringliteral">&quot; = in_flat(&quot;</span> &lt;&lt; nonzeros &lt;&lt; <span class="stringliteral">&quot;);&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><a name="l01652"></a><span class="lineno"> 1652</span>&#160;            } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01653"></a><span class="lineno"> 1653</span>&#160;              x.<a class="code" href="../../de/d57/classcasadi_1_1MX.html#acf215202e081375a45aed741607f3331">dep</a>(0).<a class="code" href="../../de/d57/classcasadi_1_1MX.html#a1a4e7c2d261e7d8da0c07907d8269af7">sparsity</a>().<a class="code" href="../../d5/da8/classcasadi_1_1Sparsity.html#ab55004cb23a1c51a581842e2887d9b7a">export_code</a>(<span class="stringliteral">&quot;matlab&quot;</span>, ss,</div>
<div class="line"><a name="l01654"></a><span class="lineno"> 1654</span>&#160;                {{<span class="stringliteral">&quot;name&quot;</span>, <span class="stringliteral">&quot;sp_in0&quot;</span>}, {<span class="stringliteral">&quot;indent_level&quot;</span>, indent_level}, {<span class="stringliteral">&quot;as_matrix&quot;</span>, <span class="keyword">true</span>}});</div>
<div class="line"><a name="l01655"></a><span class="lineno"> 1655</span>&#160;              x.<a class="code" href="../../de/d57/classcasadi_1_1MX.html#acf215202e081375a45aed741607f3331">dep</a>(1).<a class="code" href="../../de/d57/classcasadi_1_1MX.html#a1a4e7c2d261e7d8da0c07907d8269af7">sparsity</a>().<a class="code" href="../../d5/da8/classcasadi_1_1Sparsity.html#ab55004cb23a1c51a581842e2887d9b7a">export_code</a>(<span class="stringliteral">&quot;matlab&quot;</span>, ss,</div>
<div class="line"><a name="l01656"></a><span class="lineno"> 1656</span>&#160;                {{<span class="stringliteral">&quot;name&quot;</span>, <span class="stringliteral">&quot;sp_in1&quot;</span>}, {<span class="stringliteral">&quot;indent_level&quot;</span>, indent_level}, {<span class="stringliteral">&quot;as_matrix&quot;</span>, <span class="keyword">true</span>}});</div>
<div class="line"><a name="l01657"></a><span class="lineno"> 1657</span>&#160;              ss &lt;&lt; indent &lt;&lt; <span class="stringliteral">&quot;in_flat = w&quot;</span> &lt;&lt; i[1] &lt;&lt; <span class="stringliteral">&quot;(sp_in1==1);&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><a name="l01658"></a><span class="lineno"> 1658</span>&#160;              ss &lt;&lt; indent &lt;&lt; <span class="stringliteral">&quot;w&quot;</span> &lt;&lt; o[0] &lt;&lt; <span class="stringliteral">&quot; = w&quot;</span> &lt;&lt; i[0] &lt;&lt; <span class="stringliteral">&quot;(sp_in0==1);&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><a name="l01659"></a><span class="lineno"> 1659</span>&#160;              ss &lt;&lt; indent &lt;&lt; <span class="stringliteral">&quot;w&quot;</span> &lt;&lt; o[0] &lt;&lt; <span class="stringliteral">&quot;(&quot;</span> &lt;&lt; nonzeros &lt;&lt; <span class="stringliteral">&quot;)  = &quot;</span>;</div>
<div class="line"><a name="l01660"></a><span class="lineno"> 1660</span>&#160;              <span class="keywordflow">if</span> (<a class="code" href="../../d2/dab/classcasadi_1_1FunctionInternal.html#ac8b12c25e704a6499f5b683210201052">info</a>[<span class="stringliteral">&quot;add&quot;</span>]) ss &lt;&lt; <span class="stringliteral">&quot;w&quot;</span> &lt;&lt; o[0] &lt;&lt; <span class="stringliteral">&quot;(&quot;</span> &lt;&lt; nonzeros &lt;&lt; <span class="stringliteral">&quot;) + &quot;</span>;</div>
<div class="line"><a name="l01661"></a><span class="lineno"> 1661</span>&#160;              ss &lt;&lt; <span class="stringliteral">&quot;in_flat;&quot;</span>;</div>
<div class="line"><a name="l01662"></a><span class="lineno"> 1662</span>&#160;            }</div>
<div class="line"><a name="l01663"></a><span class="lineno"> 1663</span>&#160;            ss &lt;&lt; indent &lt;&lt; <span class="stringliteral">&quot;w&quot;</span> &lt;&lt; o[0] &lt;&lt; <span class="stringliteral">&quot; = &quot;</span>;</div>
<div class="line"><a name="l01664"></a><span class="lineno"> 1664</span>&#160;            ss &lt;&lt; <span class="stringliteral">&quot;sparse(sp_i, sp_j, w&quot;</span> &lt;&lt; o[0] &lt;&lt; <span class="stringliteral">&quot;, sp_m, sp_n);&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><a name="l01665"></a><span class="lineno"> 1665</span>&#160;          }</div>
<div class="line"><a name="l01666"></a><span class="lineno"> 1666</span>&#160;          <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01667"></a><span class="lineno"> 1667</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="../../d7/d23/namespacecasadi.html#af35251805e44185cb1f079ec41808618aa69d7a46b557afba0b5f4097dd06a5e6">OP_PROJECT</a>:</div>
<div class="line"><a name="l01668"></a><span class="lineno"> 1668</span>&#160;          {</div>
<div class="line"><a name="l01669"></a><span class="lineno"> 1669</span>&#160;            <a class="code" href="../../d7/d23/namespacecasadi.html#a8b909f6932a91230738731512b99127e">Dict</a> opts;</div>
<div class="line"><a name="l01670"></a><span class="lineno"> 1670</span>&#160;            opts[<span class="stringliteral">&quot;name&quot;</span>] = <span class="stringliteral">&quot;sp&quot;</span>;</div>
<div class="line"><a name="l01671"></a><span class="lineno"> 1671</span>&#160;            opts[<span class="stringliteral">&quot;indent_level&quot;</span>] = indent_level;</div>
<div class="line"><a name="l01672"></a><span class="lineno"> 1672</span>&#160;            x.<a class="code" href="../../de/d57/classcasadi_1_1MX.html#a1a4e7c2d261e7d8da0c07907d8269af7">sparsity</a>().<a class="code" href="../../d5/da8/classcasadi_1_1Sparsity.html#ab55004cb23a1c51a581842e2887d9b7a">export_code</a>(<span class="stringliteral">&quot;matlab&quot;</span>, ss, opts);</div>
<div class="line"><a name="l01673"></a><span class="lineno"> 1673</span>&#160;            ss &lt;&lt; indent &lt;&lt; <span class="stringliteral">&quot;w&quot;</span> &lt;&lt; o[0] &lt;&lt; <span class="stringliteral">&quot; = &quot;</span>;</div>
<div class="line"><a name="l01674"></a><span class="lineno"> 1674</span>&#160;            ss &lt;&lt; <span class="stringliteral">&quot;sparse(sp_i, sp_j, w&quot;</span> &lt;&lt; i[0] &lt;&lt; <span class="stringliteral">&quot;(sp==1), sp_m, sp_n);&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><a name="l01675"></a><span class="lineno"> 1675</span>&#160;          }</div>
<div class="line"><a name="l01676"></a><span class="lineno"> 1676</span>&#160;          <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01677"></a><span class="lineno"> 1677</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="../../d7/d23/namespacecasadi.html#af35251805e44185cb1f079ec41808618ab4de6e3bb0d1bcc50c3c6fc724746054">OP_NORM1</a>:</div>
<div class="line"><a name="l01678"></a><span class="lineno"> 1678</span>&#160;          ss &lt;&lt; indent &lt;&lt; <span class="stringliteral">&quot;w&quot;</span> &lt;&lt; o[0] &lt;&lt; <span class="stringliteral">&quot; = norm(w&quot;</span> &lt;&lt; i[0] &lt;&lt; <span class="stringliteral">&quot;, 1);&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><a name="l01679"></a><span class="lineno"> 1679</span>&#160;          <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01680"></a><span class="lineno"> 1680</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="../../d7/d23/namespacecasadi.html#af35251805e44185cb1f079ec41808618aba91e8d788c5cf5891db3538d0569d83">OP_NORM2</a>:</div>
<div class="line"><a name="l01681"></a><span class="lineno"> 1681</span>&#160;          ss &lt;&lt; indent &lt;&lt; <span class="stringliteral">&quot;w&quot;</span> &lt;&lt; o[0] &lt;&lt; <span class="stringliteral">&quot; = norm(w&quot;</span> &lt;&lt; i[0] &lt;&lt; <span class="stringliteral">&quot;, 2);&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><a name="l01682"></a><span class="lineno"> 1682</span>&#160;          <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01683"></a><span class="lineno"> 1683</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="../../d7/d23/namespacecasadi.html#af35251805e44185cb1f079ec41808618af2d3a85eb387536fc0c1ec93a45160ba">OP_NORMF</a>:</div>
<div class="line"><a name="l01684"></a><span class="lineno"> 1684</span>&#160;          ss &lt;&lt; indent &lt;&lt; <span class="stringliteral">&quot;w&quot;</span> &lt;&lt; o[0] &lt;&lt; <span class="stringliteral">&quot; = norm(w&quot;</span> &lt;&lt; i[0] &lt;&lt; <span class="stringliteral">&quot;, &#39;fro&#39;);&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><a name="l01685"></a><span class="lineno"> 1685</span>&#160;          <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01686"></a><span class="lineno"> 1686</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="../../d7/d23/namespacecasadi.html#af35251805e44185cb1f079ec41808618afe22e0e6c4acf5256f1f3554b510dc58">OP_NORMINF</a>:</div>
<div class="line"><a name="l01687"></a><span class="lineno"> 1687</span>&#160;          ss &lt;&lt; indent &lt;&lt; <span class="stringliteral">&quot;w&quot;</span> &lt;&lt; o[0] &lt;&lt; <span class="stringliteral">&quot; = norm(w&quot;</span> &lt;&lt; i[0] &lt;&lt; <span class="stringliteral">&quot;, inf);&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><a name="l01688"></a><span class="lineno"> 1688</span>&#160;          <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01689"></a><span class="lineno"> 1689</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="../../d7/d23/namespacecasadi.html#af35251805e44185cb1f079ec41808618a5233f2e111c8ffaffae810371114a332">OP_MMIN</a>:</div>
<div class="line"><a name="l01690"></a><span class="lineno"> 1690</span>&#160;          ss &lt;&lt; indent &lt;&lt; <span class="stringliteral">&quot;w&quot;</span> &lt;&lt; o[0] &lt;&lt; <span class="stringliteral">&quot; = min(w&quot;</span> &lt;&lt; i[0] &lt;&lt; <span class="stringliteral">&quot;);&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><a name="l01691"></a><span class="lineno"> 1691</span>&#160;          <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01692"></a><span class="lineno"> 1692</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="../../d7/d23/namespacecasadi.html#af35251805e44185cb1f079ec41808618a2de3e0663c2a2dc88fd63fa5f48b1a21">OP_MMAX</a>:</div>
<div class="line"><a name="l01693"></a><span class="lineno"> 1693</span>&#160;          ss &lt;&lt; indent &lt;&lt; <span class="stringliteral">&quot;w&quot;</span> &lt;&lt; o[0] &lt;&lt; <span class="stringliteral">&quot; = max(w&quot;</span> &lt;&lt; i[0] &lt;&lt; <span class="stringliteral">&quot;);&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><a name="l01694"></a><span class="lineno"> 1694</span>&#160;          <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01695"></a><span class="lineno"> 1695</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="../../d7/d23/namespacecasadi.html#af35251805e44185cb1f079ec41808618acdb9594ad7fdd9fbf529051377171650">OP_NOT</a>:</div>
<div class="line"><a name="l01696"></a><span class="lineno"> 1696</span>&#160;          ss &lt;&lt; indent &lt;&lt; <span class="stringliteral">&quot;w&quot;</span> &lt;&lt; o[0] &lt;&lt; <span class="stringliteral">&quot; = ~&quot;</span> &lt;&lt; <span class="stringliteral">&quot;w&quot;</span> &lt;&lt; i[0] &lt;&lt; <span class="stringliteral">&quot;;&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><a name="l01697"></a><span class="lineno"> 1697</span>&#160;          <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01698"></a><span class="lineno"> 1698</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="../../d7/d23/namespacecasadi.html#af35251805e44185cb1f079ec41808618a699431a5102a4b2b6184cc85719144cc">OP_OR</a>:</div>
<div class="line"><a name="l01699"></a><span class="lineno"> 1699</span>&#160;          ss &lt;&lt; indent &lt;&lt; <span class="stringliteral">&quot;w&quot;</span> &lt;&lt; o[0] &lt;&lt; <span class="stringliteral">&quot; = w&quot;</span> &lt;&lt; i[0] &lt;&lt; <span class="stringliteral">&quot; | w&quot;</span> &lt;&lt; i[1] &lt;&lt; <span class="stringliteral">&quot;;&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><a name="l01700"></a><span class="lineno"> 1700</span>&#160;          <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01701"></a><span class="lineno"> 1701</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="../../d7/d23/namespacecasadi.html#af35251805e44185cb1f079ec41808618a3145a807c6a4dd1193afb8c2d474c712">OP_AND</a>:</div>
<div class="line"><a name="l01702"></a><span class="lineno"> 1702</span>&#160;          ss &lt;&lt; indent &lt;&lt; <span class="stringliteral">&quot;w&quot;</span> &lt;&lt; o[0] &lt;&lt; <span class="stringliteral">&quot; = w&quot;</span> &lt;&lt; i[0] &lt;&lt; <span class="stringliteral">&quot; &amp; w&quot;</span> &lt;&lt; i[1] &lt;&lt; <span class="stringliteral">&quot;;&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><a name="l01703"></a><span class="lineno"> 1703</span>&#160;          <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01704"></a><span class="lineno"> 1704</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="../../d7/d23/namespacecasadi.html#af35251805e44185cb1f079ec41808618a0a6691bc64f43186bd88de1244bab66a">OP_NE</a>:</div>
<div class="line"><a name="l01705"></a><span class="lineno"> 1705</span>&#160;          ss &lt;&lt; indent &lt;&lt; <span class="stringliteral">&quot;w&quot;</span> &lt;&lt; o[0] &lt;&lt; <span class="stringliteral">&quot; = w&quot;</span> &lt;&lt; i[0] &lt;&lt; <span class="stringliteral">&quot; ~= w&quot;</span> &lt;&lt; i[1] &lt;&lt; <span class="stringliteral">&quot;;&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><a name="l01706"></a><span class="lineno"> 1706</span>&#160;          <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01707"></a><span class="lineno"> 1707</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="../../d7/d23/namespacecasadi.html#af35251805e44185cb1f079ec41808618a2c9e120bf19b3bce6fcafdbbf22d4ddf">OP_IF_ELSE_ZERO</a>:</div>
<div class="line"><a name="l01708"></a><span class="lineno"> 1708</span>&#160;          ss &lt;&lt; indent &lt;&lt; <span class="stringliteral">&quot;w&quot;</span> &lt;&lt; o[0] &lt;&lt; <span class="stringliteral">&quot; = &quot;</span>;</div>
<div class="line"><a name="l01709"></a><span class="lineno"> 1709</span>&#160;          ss &lt;&lt; <span class="stringliteral">&quot;if_else_zero_gen(w&quot;</span> &lt;&lt; i[0] &lt;&lt; <span class="stringliteral">&quot;, w&quot;</span> &lt;&lt; i[1] &lt;&lt; <span class="stringliteral">&quot;);&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><a name="l01710"></a><span class="lineno"> 1710</span>&#160;          <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01711"></a><span class="lineno"> 1711</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="../../d7/d23/namespacecasadi.html#af35251805e44185cb1f079ec41808618abb6b0ecee8e0cd00b31d0e443acff2a8">OP_RESHAPE</a>:</div>
<div class="line"><a name="l01712"></a><span class="lineno"> 1712</span>&#160;          {</div>
<div class="line"><a name="l01713"></a><span class="lineno"> 1713</span>&#160;            x.<a class="code" href="../../de/d57/classcasadi_1_1MX.html#acf215202e081375a45aed741607f3331">dep</a>(0).<a class="code" href="../../de/d57/classcasadi_1_1MX.html#a1a4e7c2d261e7d8da0c07907d8269af7">sparsity</a>().<a class="code" href="../../d5/da8/classcasadi_1_1Sparsity.html#ab55004cb23a1c51a581842e2887d9b7a">export_code</a>(<span class="stringliteral">&quot;matlab&quot;</span>, ss,</div>
<div class="line"><a name="l01714"></a><span class="lineno"> 1714</span>&#160;              {{<span class="stringliteral">&quot;name&quot;</span>, <span class="stringliteral">&quot;sp_in&quot;</span>}, {<span class="stringliteral">&quot;indent_level&quot;</span>, indent_level}, {<span class="stringliteral">&quot;as_matrix&quot;</span>, <span class="keyword">true</span>}});</div>
<div class="line"><a name="l01715"></a><span class="lineno"> 1715</span>&#160;            x.<a class="code" href="../../de/d57/classcasadi_1_1MX.html#a1a4e7c2d261e7d8da0c07907d8269af7">sparsity</a>().<a class="code" href="../../d5/da8/classcasadi_1_1Sparsity.html#ab55004cb23a1c51a581842e2887d9b7a">export_code</a>(<span class="stringliteral">&quot;matlab&quot;</span>, ss,</div>
<div class="line"><a name="l01716"></a><span class="lineno"> 1716</span>&#160;              {{<span class="stringliteral">&quot;name&quot;</span>, <span class="stringliteral">&quot;sp_out&quot;</span>}, {<span class="stringliteral">&quot;indent_level&quot;</span>, indent_level}, {<span class="stringliteral">&quot;as_matrix&quot;</span>, <span class="keyword">false</span>}});</div>
<div class="line"><a name="l01717"></a><span class="lineno"> 1717</span>&#160;            ss &lt;&lt; indent &lt;&lt; <span class="stringliteral">&quot;w&quot;</span> &lt;&lt; o[0] &lt;&lt; <span class="stringliteral">&quot; = sparse(sp_out_i, sp_out_j, &quot;</span>;</div>
<div class="line"><a name="l01718"></a><span class="lineno"> 1718</span>&#160;            ss &lt;&lt; <span class="stringliteral">&quot;w&quot;</span> &lt;&lt; i[0] &lt;&lt; <span class="stringliteral">&quot;(sp_in==1), sp_out_m, sp_out_n);&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><a name="l01719"></a><span class="lineno"> 1719</span>&#160;          }</div>
<div class="line"><a name="l01720"></a><span class="lineno"> 1720</span>&#160;          <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01721"></a><span class="lineno"> 1721</span>&#160;        <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l01722"></a><span class="lineno"> 1722</span>&#160;          <span class="keywordflow">if</span> (x.<a class="code" href="../../de/d57/classcasadi_1_1MX.html#ad9a07ea14614fc919844a5ba5146c43d">is_binary</a>()) {</div>
<div class="line"><a name="l01723"></a><span class="lineno"> 1723</span>&#160;            ss &lt;&lt; indent &lt;&lt; <span class="stringliteral">&quot;w&quot;</span> &lt;&lt; o[0] &lt;&lt; <span class="stringliteral">&quot; = &quot;</span> &lt;&lt; <a class="code" href="../../d2/d93/structcasadi_1_1casadi__math.html#a686a69105ced75da1d3b677a97740271">casadi::casadi_math&lt;double&gt;::print</a>(op,</div>
<div class="line"><a name="l01724"></a><span class="lineno"> 1724</span>&#160;              <span class="stringliteral">&quot;w&quot;</span>+std::to_string(i[0]), <span class="stringliteral">&quot;w&quot;</span>+std::to_string(i[1])) &lt;&lt; <span class="stringliteral">&quot;;&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><a name="l01725"></a><span class="lineno"> 1725</span>&#160;          } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (x.<a class="code" href="../../de/d57/classcasadi_1_1MX.html#aded2a8ae996cecad673f3c33922c97ce">is_unary</a>()) {</div>
<div class="line"><a name="l01726"></a><span class="lineno"> 1726</span>&#160;            ss &lt;&lt; indent &lt;&lt; <span class="stringliteral">&quot;w&quot;</span> &lt;&lt; o[0] &lt;&lt; <span class="stringliteral">&quot; = &quot;</span> &lt;&lt; <a class="code" href="../../d2/d93/structcasadi_1_1casadi__math.html#a686a69105ced75da1d3b677a97740271">casadi::casadi_math&lt;double&gt;::print</a>(op,</div>
<div class="line"><a name="l01727"></a><span class="lineno"> 1727</span>&#160;              <span class="stringliteral">&quot;w&quot;</span>+std::to_string(i[0])) &lt;&lt; <span class="stringliteral">&quot;;&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><a name="l01728"></a><span class="lineno"> 1728</span>&#160;          } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01729"></a><span class="lineno"> 1729</span>&#160;            ss &lt;&lt; <span class="stringliteral">&quot;unknown&quot;</span> + x.<a class="code" href="../../d5/d4a/classcasadi_1_1SharedObject.html#a02941134f82aa5eb7c14e83fb475c4c0">class_name</a>() &lt;&lt; std::endl;</div>
<div class="line"><a name="l01730"></a><span class="lineno"> 1730</span>&#160;          }</div>
<div class="line"><a name="l01731"></a><span class="lineno"> 1731</span>&#160;      }</div>
<div class="line"><a name="l01732"></a><span class="lineno"> 1732</span>&#160;    }</div>
<div class="line"><a name="l01733"></a><span class="lineno"> 1733</span>&#160;  }</div>
<div class="line"><a name="l01734"></a><span class="lineno"> 1734</span>&#160; </div>
<div class="line"><a name="l01735"></a><span class="lineno"><a class="line" href="../../d6/dfe/classcasadi_1_1MXFunction.html#afce1e381353cd3ecf643f3d41916964a"> 1735</a></span>&#160;  <a class="code" href="../../d7/d23/namespacecasadi.html#a8b909f6932a91230738731512b99127e">Dict</a> <a class="code" href="../../d6/dfe/classcasadi_1_1MXFunction.html#afce1e381353cd3ecf643f3d41916964a">MXFunction::get_stats</a>(<span class="keywordtype">void</span>* mem)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l01736"></a><span class="lineno"> 1736</span>&#160;    <a class="code" href="../../d7/d23/namespacecasadi.html#a8b909f6932a91230738731512b99127e">Dict</a> stats = <a class="code" href="../../db/da0/classcasadi_1_1ProtoFunction.html#a67996f836bfcf561b437f892ec93e163">XFunction::get_stats</a>(mem);</div>
<div class="line"><a name="l01737"></a><span class="lineno"> 1737</span>&#160; </div>
<div class="line"><a name="l01738"></a><span class="lineno"> 1738</span>&#160;    <a class="code" href="../../da/da4/classcasadi_1_1Function.html">Function</a> dep;</div>
<div class="line"><a name="l01739"></a><span class="lineno"> 1739</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp;&amp; e : <a class="code" href="../../d6/dfe/classcasadi_1_1MXFunction.html#ab88c17946b4e00d02dab5531a2e01b36">algorithm_</a>) {</div>
<div class="line"><a name="l01740"></a><span class="lineno"> 1740</span>&#160;      <span class="keywordflow">if</span> (e.op==<a class="code" href="../../d7/d23/namespacecasadi.html#af35251805e44185cb1f079ec41808618ab6df634985573b1864384f28d4a0e670">OP_CALL</a>) {</div>
<div class="line"><a name="l01741"></a><span class="lineno"> 1741</span>&#160;        <a class="code" href="../../da/da4/classcasadi_1_1Function.html">Function</a> d = e.data.which_function();</div>
<div class="line"><a name="l01742"></a><span class="lineno"> 1742</span>&#160;        <span class="keywordflow">if</span> (d.<a class="code" href="../../da/da4/classcasadi_1_1Function.html#aae1845afad8fecbedf3fd8bf5df26874">is_a</a>(<span class="stringliteral">&quot;Conic&quot;</span>, <span class="keyword">true</span>) || d.<a class="code" href="../../da/da4/classcasadi_1_1Function.html#aae1845afad8fecbedf3fd8bf5df26874">is_a</a>(<span class="stringliteral">&quot;Nlpsol&quot;</span>)) {</div>
<div class="line"><a name="l01743"></a><span class="lineno"> 1743</span>&#160;          <span class="keywordflow">if</span> (!dep.<a class="code" href="../../d5/d4a/classcasadi_1_1SharedObject.html#a2d6952169894b2d43694a7577252bdfc">is_null</a>()) <span class="keywordflow">return</span> stats;</div>
<div class="line"><a name="l01744"></a><span class="lineno"> 1744</span>&#160;          dep = d;</div>
<div class="line"><a name="l01745"></a><span class="lineno"> 1745</span>&#160;        }</div>
<div class="line"><a name="l01746"></a><span class="lineno"> 1746</span>&#160;      }</div>
<div class="line"><a name="l01747"></a><span class="lineno"> 1747</span>&#160;    }</div>
<div class="line"><a name="l01748"></a><span class="lineno"> 1748</span>&#160;    <span class="keywordflow">if</span> (dep.<a class="code" href="../../d5/d4a/classcasadi_1_1SharedObject.html#a2d6952169894b2d43694a7577252bdfc">is_null</a>()) <span class="keywordflow">return</span> stats;</div>
<div class="line"><a name="l01749"></a><span class="lineno"> 1749</span>&#160;    <span class="keywordflow">return</span> dep.<a class="code" href="../../da/da4/classcasadi_1_1Function.html#add352dfbcc37ff43d79d4c934c7b80e3">stats</a>(1);</div>
<div class="line"><a name="l01750"></a><span class="lineno"> 1750</span>&#160;  }</div>
<div class="line"><a name="l01751"></a><span class="lineno"> 1751</span>&#160; </div>
<div class="line"><a name="l01752"></a><span class="lineno"><a class="line" href="../../d6/dfe/classcasadi_1_1MXFunction.html#a3c7eca7d8946424ae8f052a19f27f39d"> 1752</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="../../d6/dfe/classcasadi_1_1MXFunction.html#a3c7eca7d8946424ae8f052a19f27f39d">MXFunction::serialize_body</a>(<a class="code" href="../../d1/d00/classcasadi_1_1SerializingStream.html">SerializingStream</a> &amp;s)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l01753"></a><span class="lineno"> 1753</span>&#160;    <a class="code" href="../../d7/d72/classcasadi_1_1XFunction.html#ae9f8bb4bbd4d5d250e82b36e81a57cc9">XFunction&lt;MXFunction, MX, MXNode&gt;::serialize_body</a>(s);</div>
<div class="line"><a name="l01754"></a><span class="lineno"> 1754</span>&#160; </div>
<div class="line"><a name="l01755"></a><span class="lineno"> 1755</span>&#160;    s.<a class="code" href="../../d1/d00/classcasadi_1_1SerializingStream.html#a12e0a215391c4b517f60e074520aaf07">version</a>(<span class="stringliteral">&quot;MXFunction&quot;</span>, 2);</div>
<div class="line"><a name="l01756"></a><span class="lineno"> 1756</span>&#160;    s.<a class="code" href="../../d1/d00/classcasadi_1_1SerializingStream.html#a4fd154fddcaeb3be4cc8690e59b35a4e">pack</a>(<span class="stringliteral">&quot;MXFunction::n_instr&quot;</span>, <a class="code" href="../../d6/dfe/classcasadi_1_1MXFunction.html#ab88c17946b4e00d02dab5531a2e01b36">algorithm_</a>.size());</div>
<div class="line"><a name="l01757"></a><span class="lineno"> 1757</span>&#160; </div>
<div class="line"><a name="l01758"></a><span class="lineno"> 1758</span>&#160;    <span class="comment">// Loop over algorithm</span></div>
<div class="line"><a name="l01759"></a><span class="lineno"> 1759</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span>&amp; e : <a class="code" href="../../d6/dfe/classcasadi_1_1MXFunction.html#ab88c17946b4e00d02dab5531a2e01b36">algorithm_</a>) {</div>
<div class="line"><a name="l01760"></a><span class="lineno"> 1760</span>&#160;      s.<a class="code" href="../../d1/d00/classcasadi_1_1SerializingStream.html#a4fd154fddcaeb3be4cc8690e59b35a4e">pack</a>(<span class="stringliteral">&quot;MXFunction::alg::data&quot;</span>, e.data);</div>
<div class="line"><a name="l01761"></a><span class="lineno"> 1761</span>&#160;      s.<a class="code" href="../../d1/d00/classcasadi_1_1SerializingStream.html#a4fd154fddcaeb3be4cc8690e59b35a4e">pack</a>(<span class="stringliteral">&quot;MXFunction::alg::arg&quot;</span>, e.arg);</div>
<div class="line"><a name="l01762"></a><span class="lineno"> 1762</span>&#160;      s.<a class="code" href="../../d1/d00/classcasadi_1_1SerializingStream.html#a4fd154fddcaeb3be4cc8690e59b35a4e">pack</a>(<span class="stringliteral">&quot;MXFunction::alg::res&quot;</span>, e.res);</div>
<div class="line"><a name="l01763"></a><span class="lineno"> 1763</span>&#160;    }</div>
<div class="line"><a name="l01764"></a><span class="lineno"> 1764</span>&#160; </div>
<div class="line"><a name="l01765"></a><span class="lineno"> 1765</span>&#160;    s.<a class="code" href="../../d1/d00/classcasadi_1_1SerializingStream.html#a4fd154fddcaeb3be4cc8690e59b35a4e">pack</a>(<span class="stringliteral">&quot;MXFunction::workloc&quot;</span>, <a class="code" href="../../d6/dfe/classcasadi_1_1MXFunction.html#a0a81aa9b5af5e6f5239678d5b2347361">workloc_</a>);</div>
<div class="line"><a name="l01766"></a><span class="lineno"> 1766</span>&#160;    s.<a class="code" href="../../d1/d00/classcasadi_1_1SerializingStream.html#a4fd154fddcaeb3be4cc8690e59b35a4e">pack</a>(<span class="stringliteral">&quot;MXFunction::free_vars&quot;</span>, <a class="code" href="../../d6/dfe/classcasadi_1_1MXFunction.html#af1534d0ba72feb537e207c8c330cc2df">free_vars_</a>);</div>
<div class="line"><a name="l01767"></a><span class="lineno"> 1767</span>&#160;    s.<a class="code" href="../../d1/d00/classcasadi_1_1SerializingStream.html#a4fd154fddcaeb3be4cc8690e59b35a4e">pack</a>(<span class="stringliteral">&quot;MXFunction::default_in&quot;</span>, <a class="code" href="../../d6/dfe/classcasadi_1_1MXFunction.html#a0e8631d50b18df51bd752e9c986a59a9">default_in_</a>);</div>
<div class="line"><a name="l01768"></a><span class="lineno"> 1768</span>&#160;    s.<a class="code" href="../../d1/d00/classcasadi_1_1SerializingStream.html#a4fd154fddcaeb3be4cc8690e59b35a4e">pack</a>(<span class="stringliteral">&quot;MXFunction::live_variables&quot;</span>, <a class="code" href="../../d6/dfe/classcasadi_1_1MXFunction.html#a0d2b442bfe02b6a3bc12f5846cce8572">live_variables_</a>);</div>
<div class="line"><a name="l01769"></a><span class="lineno"> 1769</span>&#160;    s.<a class="code" href="../../d1/d00/classcasadi_1_1SerializingStream.html#a4fd154fddcaeb3be4cc8690e59b35a4e">pack</a>(<span class="stringliteral">&quot;MXFunction::print_instructions&quot;</span>, <a class="code" href="../../d6/dfe/classcasadi_1_1MXFunction.html#a9e4edfcf09c0565dbd6e438c4067e025">print_instructions_</a>);</div>
<div class="line"><a name="l01770"></a><span class="lineno"> 1770</span>&#160; </div>
<div class="line"><a name="l01771"></a><span class="lineno"> 1771</span>&#160;    <a class="code" href="../../d7/d72/classcasadi_1_1XFunction.html#ad97f610acc9243c694c3ab2143a821e5">XFunction&lt;MXFunction, MX, MXNode&gt;::delayed_serialize_members</a>(s);</div>
<div class="line"><a name="l01772"></a><span class="lineno"> 1772</span>&#160;  }</div>
<div class="line"><a name="l01773"></a><span class="lineno"> 1773</span>&#160; </div>
<div class="line"><a name="l01774"></a><span class="lineno"> 1774</span>&#160; </div>
<div class="line"><a name="l01775"></a><span class="lineno"><a class="line" href="../../d6/dfe/classcasadi_1_1MXFunction.html#a061ec7a3c0f76b2867b56b4271174c2a"> 1775</a></span>&#160;  <a class="code" href="../../d6/dfe/classcasadi_1_1MXFunction.html#a503ede3e347b716b6a6c34889740a1ad">MXFunction::MXFunction</a>(<a class="code" href="../../d9/dc2/classcasadi_1_1DeserializingStream.html">DeserializingStream</a>&amp; s) : <a class="code" href="../../d7/d72/classcasadi_1_1XFunction.html">XFunction</a>&lt;<a class="code" href="../../d6/dfe/classcasadi_1_1MXFunction.html">MXFunction</a>, <a class="code" href="../../de/d57/classcasadi_1_1MX.html">MX</a>, <a class="code" href="../../d0/d19/classcasadi_1_1MXNode.html">MXNode</a>&gt;(s) {</div>
<div class="line"><a name="l01776"></a><span class="lineno"> 1776</span>&#160;    <span class="keywordtype">int</span> version = s.<a class="code" href="../../d9/dc2/classcasadi_1_1DeserializingStream.html#aee193bd9b72503f0673245e712ec5041">version</a>(<span class="stringliteral">&quot;MXFunction&quot;</span>, 1, 2);</div>
<div class="line"><a name="l01777"></a><span class="lineno"> 1777</span>&#160;    <span class="keywordtype">size_t</span> <a class="code" href="../../d6/dfe/classcasadi_1_1MXFunction.html#aaf9d1d0c763962919785d21b8a2280b6">n_instructions</a>;</div>
<div class="line"><a name="l01778"></a><span class="lineno"> 1778</span>&#160;    s.<a class="code" href="../../d9/dc2/classcasadi_1_1DeserializingStream.html#a37a0db52a1ec953e915fba2905c20384">unpack</a>(<span class="stringliteral">&quot;MXFunction::n_instr&quot;</span>, <a class="code" href="../../d6/dfe/classcasadi_1_1MXFunction.html#aaf9d1d0c763962919785d21b8a2280b6">n_instructions</a>);</div>
<div class="line"><a name="l01779"></a><span class="lineno"> 1779</span>&#160;    <a class="code" href="../../d6/dfe/classcasadi_1_1MXFunction.html#ab88c17946b4e00d02dab5531a2e01b36">algorithm_</a>.resize(<a class="code" href="../../d6/dfe/classcasadi_1_1MXFunction.html#aaf9d1d0c763962919785d21b8a2280b6">n_instructions</a>);</div>
<div class="line"><a name="l01780"></a><span class="lineno"> 1780</span>&#160;    <span class="keywordflow">for</span> (casadi_int k=0;k&lt;<a class="code" href="../../d6/dfe/classcasadi_1_1MXFunction.html#aaf9d1d0c763962919785d21b8a2280b6">n_instructions</a>;++k) {</div>
<div class="line"><a name="l01781"></a><span class="lineno"> 1781</span>&#160;      <a class="code" href="../../d8/dd5/structcasadi_1_1MXAlgEl.html">AlgEl</a>&amp; e = <a class="code" href="../../d6/dfe/classcasadi_1_1MXFunction.html#ab88c17946b4e00d02dab5531a2e01b36">algorithm_</a>[k];</div>
<div class="line"><a name="l01782"></a><span class="lineno"> 1782</span>&#160;      s.<a class="code" href="../../d9/dc2/classcasadi_1_1DeserializingStream.html#a37a0db52a1ec953e915fba2905c20384">unpack</a>(<span class="stringliteral">&quot;MXFunction::alg::data&quot;</span>, e.<a class="code" href="../../d8/dd5/structcasadi_1_1MXAlgEl.html#a0b28f7ab10ae3d3187d3888106d9bd03">data</a>);</div>
<div class="line"><a name="l01783"></a><span class="lineno"> 1783</span>&#160;      e.<a class="code" href="../../d8/dd5/structcasadi_1_1MXAlgEl.html#ae780834fa38d37587529b4c7e4825118">op</a> = e.<a class="code" href="../../d8/dd5/structcasadi_1_1MXAlgEl.html#a0b28f7ab10ae3d3187d3888106d9bd03">data</a>.<a class="code" href="../../de/d57/classcasadi_1_1MX.html#af6dbdea3219a5561c77d5cf753a77fea">op</a>();</div>
<div class="line"><a name="l01784"></a><span class="lineno"> 1784</span>&#160;      s.<a class="code" href="../../d9/dc2/classcasadi_1_1DeserializingStream.html#a37a0db52a1ec953e915fba2905c20384">unpack</a>(<span class="stringliteral">&quot;MXFunction::alg::arg&quot;</span>, e.<a class="code" href="../../d8/dd5/structcasadi_1_1MXAlgEl.html#a3c728ef892b2e33feb82ff7ac6d00163">arg</a>);</div>
<div class="line"><a name="l01785"></a><span class="lineno"> 1785</span>&#160;      s.<a class="code" href="../../d9/dc2/classcasadi_1_1DeserializingStream.html#a37a0db52a1ec953e915fba2905c20384">unpack</a>(<span class="stringliteral">&quot;MXFunction::alg::res&quot;</span>, e.<a class="code" href="../../d8/dd5/structcasadi_1_1MXAlgEl.html#af8a229b7d9a8f119e2b13146bcd366d3">res</a>);</div>
<div class="line"><a name="l01786"></a><span class="lineno"> 1786</span>&#160;    }</div>
<div class="line"><a name="l01787"></a><span class="lineno"> 1787</span>&#160; </div>
<div class="line"><a name="l01788"></a><span class="lineno"> 1788</span>&#160;    s.<a class="code" href="../../d9/dc2/classcasadi_1_1DeserializingStream.html#a37a0db52a1ec953e915fba2905c20384">unpack</a>(<span class="stringliteral">&quot;MXFunction::workloc&quot;</span>, <a class="code" href="../../d6/dfe/classcasadi_1_1MXFunction.html#a0a81aa9b5af5e6f5239678d5b2347361">workloc_</a>);</div>
<div class="line"><a name="l01789"></a><span class="lineno"> 1789</span>&#160;    s.<a class="code" href="../../d9/dc2/classcasadi_1_1DeserializingStream.html#a37a0db52a1ec953e915fba2905c20384">unpack</a>(<span class="stringliteral">&quot;MXFunction::free_vars&quot;</span>, <a class="code" href="../../d6/dfe/classcasadi_1_1MXFunction.html#af1534d0ba72feb537e207c8c330cc2df">free_vars_</a>);</div>
<div class="line"><a name="l01790"></a><span class="lineno"> 1790</span>&#160;    s.<a class="code" href="../../d9/dc2/classcasadi_1_1DeserializingStream.html#a37a0db52a1ec953e915fba2905c20384">unpack</a>(<span class="stringliteral">&quot;MXFunction::default_in&quot;</span>, <a class="code" href="../../d6/dfe/classcasadi_1_1MXFunction.html#a0e8631d50b18df51bd752e9c986a59a9">default_in_</a>);</div>
<div class="line"><a name="l01791"></a><span class="lineno"> 1791</span>&#160;    s.<a class="code" href="../../d9/dc2/classcasadi_1_1DeserializingStream.html#a37a0db52a1ec953e915fba2905c20384">unpack</a>(<span class="stringliteral">&quot;MXFunction::live_variables&quot;</span>, <a class="code" href="../../d6/dfe/classcasadi_1_1MXFunction.html#a0d2b442bfe02b6a3bc12f5846cce8572">live_variables_</a>);</div>
<div class="line"><a name="l01792"></a><span class="lineno"> 1792</span>&#160;    <a class="code" href="../../d6/dfe/classcasadi_1_1MXFunction.html#a9e4edfcf09c0565dbd6e438c4067e025">print_instructions_</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01793"></a><span class="lineno"> 1793</span>&#160;    <span class="keywordflow">if</span> (version &gt;= 2) s.<a class="code" href="../../d9/dc2/classcasadi_1_1DeserializingStream.html#a37a0db52a1ec953e915fba2905c20384">unpack</a>(<span class="stringliteral">&quot;MXFunction::print_instructions&quot;</span>, <a class="code" href="../../d6/dfe/classcasadi_1_1MXFunction.html#a9e4edfcf09c0565dbd6e438c4067e025">print_instructions_</a>);</div>
<div class="line"><a name="l01794"></a><span class="lineno"> 1794</span>&#160; </div>
<div class="line"><a name="l01795"></a><span class="lineno"> 1795</span>&#160;    <a class="code" href="../../d7/d72/classcasadi_1_1XFunction.html#a2d86720c0a070914b1a932bb2192e350">XFunction&lt;MXFunction, MX, MXNode&gt;::delayed_deserialize_members</a>(s);</div>
<div class="line"><a name="l01796"></a><span class="lineno"> 1796</span>&#160;  }</div>
<div class="line"><a name="l01797"></a><span class="lineno"> 1797</span>&#160; </div>
<div class="line"><a name="l01798"></a><span class="lineno"><a class="line" href="../../d6/dfe/classcasadi_1_1MXFunction.html#af891dce2a0d9116032d2a460b17b7d91"> 1798</a></span>&#160;  <a class="code" href="../../db/da0/classcasadi_1_1ProtoFunction.html">ProtoFunction</a>* <a class="code" href="../../d6/dfe/classcasadi_1_1MXFunction.html#af891dce2a0d9116032d2a460b17b7d91">MXFunction::deserialize</a>(<a class="code" href="../../d9/dc2/classcasadi_1_1DeserializingStream.html">DeserializingStream</a>&amp; s) {</div>
<div class="line"><a name="l01799"></a><span class="lineno"> 1799</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">new</span> <a class="code" href="../../d6/dfe/classcasadi_1_1MXFunction.html#a503ede3e347b716b6a6c34889740a1ad">MXFunction</a>(s);</div>
<div class="line"><a name="l01800"></a><span class="lineno"> 1800</span>&#160;  }</div>
<div class="line"><a name="l01801"></a><span class="lineno"> 1801</span>&#160; </div>
<div class="line"><a name="l01802"></a><span class="lineno"><a class="line" href="../../d6/dfe/classcasadi_1_1MXFunction.html#a00fe09eb12befe06e1fbd936891c3346"> 1802</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="../../d6/dfe/classcasadi_1_1MXFunction.html#a00fe09eb12befe06e1fbd936891c3346">MXFunction::find</a>(std::map&lt;FunctionInternal*, Function&gt;&amp; all_fun,</div>
<div class="line"><a name="l01803"></a><span class="lineno"> 1803</span>&#160;      casadi_int max_depth)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l01804"></a><span class="lineno"> 1804</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp;&amp; e : <a class="code" href="../../d6/dfe/classcasadi_1_1MXFunction.html#ab88c17946b4e00d02dab5531a2e01b36">algorithm_</a>) {</div>
<div class="line"><a name="l01805"></a><span class="lineno"> 1805</span>&#160;      <span class="keywordflow">if</span> (e.op == <a class="code" href="../../d7/d23/namespacecasadi.html#af35251805e44185cb1f079ec41808618ab6df634985573b1864384f28d4a0e670">OP_CALL</a>) <a class="code" href="../../d2/dab/classcasadi_1_1FunctionInternal.html#af5036e1d3e99bedb522984fe8629dc4c">add_embedded</a>(all_fun, e.data.which_function(), max_depth);</div>
<div class="line"><a name="l01806"></a><span class="lineno"> 1806</span>&#160;    }</div>
<div class="line"><a name="l01807"></a><span class="lineno"> 1807</span>&#160;  }</div>
<div class="line"><a name="l01808"></a><span class="lineno"> 1808</span>&#160; </div>
<div class="line"><a name="l01809"></a><span class="lineno"><a class="line" href="../../d6/dfe/classcasadi_1_1MXFunction.html#a1da5ee91c990ad0601be300a2a278a84"> 1809</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="../../d6/dfe/classcasadi_1_1MXFunction.html#a1da5ee91c990ad0601be300a2a278a84">MXFunction::change_option</a>(<span class="keyword">const</span> std::string&amp; option_name,</div>
<div class="line"><a name="l01810"></a><span class="lineno"> 1810</span>&#160;      <span class="keyword">const</span> <a class="code" href="../../d6/d82/classcasadi_1_1GenericType.html">GenericType</a>&amp; option_value) {</div>
<div class="line"><a name="l01811"></a><span class="lineno"> 1811</span>&#160;    <span class="keywordflow">if</span> (option_name == <span class="stringliteral">&quot;print_instructions&quot;</span>) {</div>
<div class="line"><a name="l01812"></a><span class="lineno"> 1812</span>&#160;      <a class="code" href="../../d6/dfe/classcasadi_1_1MXFunction.html#a9e4edfcf09c0565dbd6e438c4067e025">print_instructions_</a> = option_value;</div>
<div class="line"><a name="l01813"></a><span class="lineno"> 1813</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01814"></a><span class="lineno"> 1814</span>&#160;      <span class="comment">// Option not found - continue to base classes</span></div>
<div class="line"><a name="l01815"></a><span class="lineno"> 1815</span>&#160;      <a class="code" href="../../d2/dab/classcasadi_1_1FunctionInternal.html#aeac25c6cd594c6c83f0a68b2587b2fc7">XFunction&lt;MXFunction, MX, MXNode&gt;::change_option</a>(option_name, option_value);</div>
<div class="line"><a name="l01816"></a><span class="lineno"> 1816</span>&#160;    }</div>
<div class="line"><a name="l01817"></a><span class="lineno"> 1817</span>&#160;  }</div>
<div class="line"><a name="l01818"></a><span class="lineno"> 1818</span>&#160; </div>
<div class="line"><a name="l01819"></a><span class="lineno"> 1819</span>&#160;} <span class="comment">// namespace casadi</span></div>
<div class="ttc" id="aclasscasadi_1_1CodeGenerator_html"><div class="ttname"><a href="../../d1/da2/classcasadi_1_1CodeGenerator.html">casadi::CodeGenerator</a></div><div class="ttdoc">Helper class for C code generation.</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dde/code__generator_8hpp_source.html#l00043">code_generator.hpp:43</a></div></div>
<div class="ttc" id="aclasscasadi_1_1CodeGenerator_html_a03c914d1125eb63dae3e91fb5535d715"><div class="ttname"><a href="../../d1/da2/classcasadi_1_1CodeGenerator.html#a03c914d1125eb63dae3e91fb5535d715">casadi::CodeGenerator::codegen_scalars</a></div><div class="ttdeci">bool codegen_scalars</div><div class="ttdoc">Codegen scalar.</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dde/code__generator_8hpp_source.html#l00839">code_generator.hpp:839</a></div></div>
<div class="ttc" id="aclasscasadi_1_1CodeGenerator_html_a0bd4cb2eb56d362e9b5efc4807bcec35"><div class="ttname"><a href="../../d1/da2/classcasadi_1_1CodeGenerator.html#a0bd4cb2eb56d362e9b5efc4807bcec35">casadi::CodeGenerator::verbose</a></div><div class="ttdeci">bool verbose</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dde/code__generator_8hpp_source.html#l00814">code_generator.hpp:814</a></div></div>
<div class="ttc" id="aclasscasadi_1_1CodeGenerator_html_aac37fe4cb57760fdc6929feb5f2b888c"><div class="ttname"><a href="../../d1/da2/classcasadi_1_1CodeGenerator.html#aac37fe4cb57760fdc6929feb5f2b888c">casadi::CodeGenerator::init_local</a></div><div class="ttdeci">void init_local(const std::string &amp;name, const std::string &amp;def)</div><div class="ttdoc">Specify the default value for a local variable.</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d92/code__generator_8cpp_source.html#l02019">code_generator.cpp:2019</a></div></div>
<div class="ttc" id="aclasscasadi_1_1DeserializingStream_html"><div class="ttname"><a href="../../d9/dc2/classcasadi_1_1DeserializingStream.html">casadi::DeserializingStream</a></div><div class="ttdoc">Helper class for Serialization.</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d45/serializing__stream_8hpp_source.html#l00069">serializing_stream.hpp:69</a></div></div>
<div class="ttc" id="aclasscasadi_1_1DeserializingStream_html_a37a0db52a1ec953e915fba2905c20384"><div class="ttname"><a href="../../d9/dc2/classcasadi_1_1DeserializingStream.html#a37a0db52a1ec953e915fba2905c20384">casadi::DeserializingStream::unpack</a></div><div class="ttdeci">void unpack(Sparsity &amp;e)</div><div class="ttdoc">Reconstruct an object from the input stream.</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d62/serializing__stream_8cpp_source.html#l00218">serializing_stream.cpp:218</a></div></div>
<div class="ttc" id="aclasscasadi_1_1DeserializingStream_html_aee193bd9b72503f0673245e712ec5041"><div class="ttname"><a href="../../d9/dc2/classcasadi_1_1DeserializingStream.html#aee193bd9b72503f0673245e712ec5041">casadi::DeserializingStream::version</a></div><div class="ttdeci">void version(const std::string &amp;name, int v)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d62/serializing__stream_8cpp_source.html#l00349">serializing_stream.cpp:349</a></div></div>
<div class="ttc" id="aclasscasadi_1_1FunctionInternal_html_a00027e6e795b594a411b944299b40581"><div class="ttname"><a href="../../d2/dab/classcasadi_1_1FunctionInternal.html#a00027e6e795b594a411b944299b40581">casadi::FunctionInternal::has_refcount_</a></div><div class="ttdeci">bool has_refcount_</div><div class="ttdoc">Reference counting in codegen?</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d4f/function__internal_8hpp_source.html#l01273">function_internal.hpp:1273</a></div></div>
<div class="ttc" id="aclasscasadi_1_1FunctionInternal_html_a06082362fcb23031a134b4d4e6471c11"><div class="ttname"><a href="../../d2/dab/classcasadi_1_1FunctionInternal.html#a06082362fcb23031a134b4d4e6471c11">casadi::FunctionInternal::alloc_iw</a></div><div class="ttdeci">void alloc_iw(size_t sz_iw, bool persistent=false)</div><div class="ttdoc">Ensure required length of iw field.</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/db4/function__internal_8cpp_source.html#l02790">function_internal.cpp:2790</a></div></div>
<div class="ttc" id="aclasscasadi_1_1FunctionInternal_html_a07534ffd145feab7e9b0963503009d24"><div class="ttname"><a href="../../d2/dab/classcasadi_1_1FunctionInternal.html#a07534ffd145feab7e9b0963503009d24">casadi::FunctionInternal::call_forward</a></div><div class="ttdeci">virtual void call_forward(const std::vector&lt; MX &gt; &amp;arg, const std::vector&lt; MX &gt; &amp;res, const std::vector&lt; std::vector&lt; MX &gt; &gt; &amp;fseed, std::vector&lt; std::vector&lt; MX &gt; &gt; &amp;fsens, bool always_inline, bool never_inline) const</div><div class="ttdoc">Forward mode AD, virtual functions overloaded in derived classes.</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/db4/function__internal_8cpp_source.html#l02868">function_internal.cpp:2869</a></div></div>
<div class="ttc" id="aclasscasadi_1_1FunctionInternal_html_a2460e9faa9a36d8501dbfed111a09e5a"><div class="ttname"><a href="../../d2/dab/classcasadi_1_1FunctionInternal.html#a2460e9faa9a36d8501dbfed111a09e5a">casadi::FunctionInternal::replace_fseed</a></div><div class="ttdeci">std::vector&lt; std::vector&lt; M &gt; &gt; replace_fseed(const std::vector&lt; std::vector&lt; M &gt;&gt; &amp;fseed, casadi_int npar) const</div><div class="ttdoc">Replace 0-by-0 forward seeds.</div></div>
<div class="ttc" id="aclasscasadi_1_1FunctionInternal_html_a2c2f3f5e118cc1283f6f1537c9932bad"><div class="ttname"><a href="../../d2/dab/classcasadi_1_1FunctionInternal.html#a2c2f3f5e118cc1283f6f1537c9932bad">casadi::FunctionInternal::alloc_res</a></div><div class="ttdeci">void alloc_res(size_t sz_res, bool persistent=false)</div><div class="ttdoc">Ensure required length of res field.</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/db4/function__internal_8cpp_source.html#l02782">function_internal.cpp:2782</a></div></div>
<div class="ttc" id="aclasscasadi_1_1FunctionInternal_html_a349fe20bbcc46713b6ff9d3e3d6dde4e"><div class="ttname"><a href="../../d2/dab/classcasadi_1_1FunctionInternal.html#a349fe20bbcc46713b6ff9d3e3d6dde4e">casadi::FunctionInternal::size_in</a></div><div class="ttdeci">std::pair&lt; casadi_int, casadi_int &gt; size_in(casadi_int ind) const</div><div class="ttdoc">Input/output dimensions.</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d4f/function__internal_8hpp_source.html#l00953">function_internal.hpp:953</a></div></div>
<div class="ttc" id="aclasscasadi_1_1FunctionInternal_html_a3ff9fd2b012733eecb1bb9728c596f50"><div class="ttname"><a href="../../d2/dab/classcasadi_1_1FunctionInternal.html#a3ff9fd2b012733eecb1bb9728c596f50">casadi::FunctionInternal::definition</a></div><div class="ttdeci">std::string definition() const</div><div class="ttdoc">Get function signature: name:(inputs)-&gt;(outputs)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/db4/function__internal_8cpp_source.html#l00921">function_internal.cpp:921</a></div></div>
<div class="ttc" id="aclasscasadi_1_1FunctionInternal_html_a4835cd148bad89630276e0cc31764097"><div class="ttname"><a href="../../d2/dab/classcasadi_1_1FunctionInternal.html#a4835cd148bad89630276e0cc31764097">casadi::FunctionInternal::call_reverse</a></div><div class="ttdeci">virtual void call_reverse(const std::vector&lt; MX &gt; &amp;arg, const std::vector&lt; MX &gt; &amp;res, const std::vector&lt; std::vector&lt; MX &gt; &gt; &amp;aseed, std::vector&lt; std::vector&lt; MX &gt; &gt; &amp;asens, bool always_inline, bool never_inline) const</div><div class="ttdoc">Reverse mode, virtual functions overloaded in derived classes.</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/db4/function__internal_8cpp_source.html#l02973">function_internal.cpp:2974</a></div></div>
<div class="ttc" id="aclasscasadi_1_1FunctionInternal_html_a4e50c40106105c8d58aa16f6e9aa564c"><div class="ttname"><a href="../../d2/dab/classcasadi_1_1FunctionInternal.html#a4e50c40106105c8d58aa16f6e9aa564c">casadi::FunctionInternal::alloc_arg</a></div><div class="ttdeci">void alloc_arg(size_t sz_arg, bool persistent=false)</div><div class="ttdoc">Ensure required length of arg field.</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/db4/function__internal_8cpp_source.html#l02774">function_internal.cpp:2774</a></div></div>
<div class="ttc" id="aclasscasadi_1_1FunctionInternal_html_a501263edd6af28c86d8cb945a5f443b9"><div class="ttname"><a href="../../d2/dab/classcasadi_1_1FunctionInternal.html#a501263edd6af28c86d8cb945a5f443b9">casadi::FunctionInternal::never_inline_</a></div><div class="ttdeci">bool never_inline_</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d4f/function__internal_8hpp_source.html#l01209">function_internal.hpp:1209</a></div></div>
<div class="ttc" id="aclasscasadi_1_1FunctionInternal_html_a576ed6830c912275e71b24bd773f04e1"><div class="ttname"><a href="../../d2/dab/classcasadi_1_1FunctionInternal.html#a576ed6830c912275e71b24bd773f04e1">casadi::FunctionInternal::enable_reverse_</a></div><div class="ttdeci">bool enable_reverse_</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d4f/function__internal_8hpp_source.html#l01301">function_internal.hpp:1301</a></div></div>
<div class="ttc" id="aclasscasadi_1_1FunctionInternal_html_a5ac9ebd019509a0f47c18f022227815d"><div class="ttname"><a href="../../d2/dab/classcasadi_1_1FunctionInternal.html#a5ac9ebd019509a0f47c18f022227815d">casadi::FunctionInternal::n_out_</a></div><div class="ttdeci">size_t n_out_</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d4f/function__internal_8hpp_source.html#l01212">function_internal.hpp:1212</a></div></div>
<div class="ttc" id="aclasscasadi_1_1FunctionInternal_html_a65fb4e548d546024bf21b19f207abb3a"><div class="ttname"><a href="../../d2/dab/classcasadi_1_1FunctionInternal.html#a65fb4e548d546024bf21b19f207abb3a">casadi::FunctionInternal::enable_forward_</a></div><div class="ttdeci">bool enable_forward_</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d4f/function__internal_8hpp_source.html#l01301">function_internal.hpp:1301</a></div></div>
<div class="ttc" id="aclasscasadi_1_1FunctionInternal_html_a74fab2d4cce2f1217e28df22f6875e9d"><div class="ttname"><a href="../../d2/dab/classcasadi_1_1FunctionInternal.html#a74fab2d4cce2f1217e28df22f6875e9d">casadi::FunctionInternal::sp_weight</a></div><div class="ttdeci">virtual double sp_weight() const</div><div class="ttdoc">Weighting factor for chosing forward/reverse mode,.</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/db4/function__internal_8cpp_source.html#l03124">function_internal.cpp:3124</a></div></div>
<div class="ttc" id="aclasscasadi_1_1FunctionInternal_html_a7d2ec172fa3fee013cef648f1ce165fa"><div class="ttname"><a href="../../d2/dab/classcasadi_1_1FunctionInternal.html#a7d2ec172fa3fee013cef648f1ce165fa">casadi::FunctionInternal::n_in_</a></div><div class="ttdeci">size_t n_in_</div><div class="ttdoc">Number of inputs and outputs.</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d4f/function__internal_8hpp_source.html#l01212">function_internal.hpp:1212</a></div></div>
<div class="ttc" id="aclasscasadi_1_1FunctionInternal_html_a828116f2ca884d2efcc30b78f92e12d3"><div class="ttname"><a href="../../d2/dab/classcasadi_1_1FunctionInternal.html#a828116f2ca884d2efcc30b78f92e12d3">casadi::FunctionInternal::sz_res</a></div><div class="ttdeci">size_t sz_res() const</div><div class="ttdoc">Get required length of res field.</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d4f/function__internal_8hpp_source.html#l01133">function_internal.hpp:1133</a></div></div>
<div class="ttc" id="aclasscasadi_1_1FunctionInternal_html_a8288fdaf92277a45ae9eaf026505cc82"><div class="ttname"><a href="../../d2/dab/classcasadi_1_1FunctionInternal.html#a8288fdaf92277a45ae9eaf026505cc82">casadi::FunctionInternal::eval_mx</a></div><div class="ttdeci">virtual void eval_mx(const MXVector &amp;arg, MXVector &amp;res, bool always_inline, bool never_inline) const</div><div class="ttdoc">Evaluate with symbolic matrices.</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/db4/function__internal_8cpp_source.html#l02210">function_internal.cpp:2210</a></div></div>
<div class="ttc" id="aclasscasadi_1_1FunctionInternal_html_a8a6b7c8d2ee2e575483efb3c24b5b95b"><div class="ttname"><a href="../../d2/dab/classcasadi_1_1FunctionInternal.html#a8a6b7c8d2ee2e575483efb3c24b5b95b">casadi::FunctionInternal::matching_arg</a></div><div class="ttdeci">bool matching_arg(const std::vector&lt; M &gt; &amp;arg, casadi_int &amp;npar) const</div><div class="ttdoc">Check if input arguments that needs to be replaced.</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d4f/function__internal_8hpp_source.html#l01661">function_internal.hpp:1661</a></div></div>
<div class="ttc" id="aclasscasadi_1_1FunctionInternal_html_a90099e52dd1756844a558ebeff11f1a4"><div class="ttname"><a href="../../d2/dab/classcasadi_1_1FunctionInternal.html#a90099e52dd1756844a558ebeff11f1a4">casadi::FunctionInternal::size_out</a></div><div class="ttdeci">std::pair&lt; casadi_int, casadi_int &gt; size_out(casadi_int ind) const</div><div class="ttdoc">Input/output dimensions.</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d4f/function__internal_8hpp_source.html#l00956">function_internal.hpp:956</a></div></div>
<div class="ttc" id="aclasscasadi_1_1FunctionInternal_html_a92cf33ce8ada96116323fb711f6385d1"><div class="ttname"><a href="../../d2/dab/classcasadi_1_1FunctionInternal.html#a92cf33ce8ada96116323fb711f6385d1">casadi::FunctionInternal::sp_forward</a></div><div class="ttdeci">virtual int sp_forward(const bvec_t **arg, bvec_t **res, casadi_int *iw, bvec_t *w, void *mem) const</div><div class="ttdoc">Propagate sparsity forward.</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/db4/function__internal_8cpp_source.html#l02699">function_internal.cpp:2700</a></div></div>
<div class="ttc" id="aclasscasadi_1_1FunctionInternal_html_a9df4d2470bae76e6fa2309a4507562e5"><div class="ttname"><a href="../../d2/dab/classcasadi_1_1FunctionInternal.html#a9df4d2470bae76e6fa2309a4507562e5">casadi::FunctionInternal::options_</a></div><div class="ttdeci">static const Options options_</div><div class="ttdoc">Options.</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d4f/function__internal_8hpp_source.html#l00298">function_internal.hpp:298</a></div></div>
<div class="ttc" id="aclasscasadi_1_1FunctionInternal_html_ab7194606aa12931e96f8f5448d418ed0"><div class="ttname"><a href="../../d2/dab/classcasadi_1_1FunctionInternal.html#ab7194606aa12931e96f8f5448d418ed0">casadi::FunctionInternal::Function</a></div><div class="ttdeci">friend class Function</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d4f/function__internal_8hpp_source.html#l00277">function_internal.hpp:277</a></div></div>
<div class="ttc" id="aclasscasadi_1_1FunctionInternal_html_aba6ff87dbdfb5f6e6864673cf1427a55"><div class="ttname"><a href="../../d2/dab/classcasadi_1_1FunctionInternal.html#aba6ff87dbdfb5f6e6864673cf1427a55">casadi::FunctionInternal::matching_res</a></div><div class="ttdeci">bool matching_res(const std::vector&lt; M &gt; &amp;arg, casadi_int &amp;npar) const</div><div class="ttdoc">Check if output arguments that needs to be replaced.</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d4f/function__internal_8hpp_source.html#l01671">function_internal.hpp:1671</a></div></div>
<div class="ttc" id="aclasscasadi_1_1FunctionInternal_html_abb2bcf8627a72ebb5b6d6ec9d55cc572"><div class="ttname"><a href="../../d2/dab/classcasadi_1_1FunctionInternal.html#abb2bcf8627a72ebb5b6d6ec9d55cc572">casadi::FunctionInternal::disp</a></div><div class="ttdeci">void disp(std::ostream &amp;stream, bool more) const override</div><div class="ttdoc">Display object.</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/db4/function__internal_8cpp_source.html#l00942">function_internal.cpp:942</a></div></div>
<div class="ttc" id="aclasscasadi_1_1FunctionInternal_html_abbd778a62b22d56f6a50ed45f1adb926"><div class="ttname"><a href="../../d2/dab/classcasadi_1_1FunctionInternal.html#abbd778a62b22d56f6a50ed45f1adb926">casadi::FunctionInternal::sz_w</a></div><div class="ttdeci">size_t sz_w() const</div><div class="ttdoc">Get required length of w field.</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d4f/function__internal_8hpp_source.html#l01143">function_internal.hpp:1143</a></div></div>
<div class="ttc" id="aclasscasadi_1_1FunctionInternal_html_abd4e8b1eb07d31d74958a4b607e5ebab"><div class="ttname"><a href="../../d2/dab/classcasadi_1_1FunctionInternal.html#abd4e8b1eb07d31d74958a4b607e5ebab">casadi::FunctionInternal::sp_reverse</a></div><div class="ttdeci">virtual int sp_reverse(bvec_t **arg, bvec_t **res, casadi_int *iw, bvec_t *w, void *mem) const</div><div class="ttdoc">Propagate sparsity backwards.</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/db4/function__internal_8cpp_source.html#l02734">function_internal.cpp:2735</a></div></div>
<div class="ttc" id="aclasscasadi_1_1FunctionInternal_html_ac8b12c25e704a6499f5b683210201052"><div class="ttname"><a href="../../d2/dab/classcasadi_1_1FunctionInternal.html#ac8b12c25e704a6499f5b683210201052">casadi::FunctionInternal::info</a></div><div class="ttdeci">virtual Dict info() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/db4/function__internal_8cpp_source.html#l02864">function_internal.cpp:2864</a></div></div>
<div class="ttc" id="aclasscasadi_1_1FunctionInternal_html_acd701154519bf9f8d787a936ef95246c"><div class="ttname"><a href="../../d2/dab/classcasadi_1_1FunctionInternal.html#acd701154519bf9f8d787a936ef95246c">casadi::FunctionInternal::alloc_w</a></div><div class="ttdeci">void alloc_w(size_t sz_w, bool persistent=false)</div><div class="ttdoc">Ensure required length of w field.</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/db4/function__internal_8cpp_source.html#l02798">function_internal.cpp:2798</a></div></div>
<div class="ttc" id="aclasscasadi_1_1FunctionInternal_html_acec644643b6cca43ab006429dbce2c8c"><div class="ttname"><a href="../../d2/dab/classcasadi_1_1FunctionInternal.html#acec644643b6cca43ab006429dbce2c8c">casadi::FunctionInternal::always_inline_</a></div><div class="ttdeci">bool always_inline_</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d4f/function__internal_8hpp_source.html#l01209">function_internal.hpp:1209</a></div></div>
<div class="ttc" id="aclasscasadi_1_1FunctionInternal_html_adae8da4f3aedd0fc92969ea155c786fd"><div class="ttname"><a href="../../d2/dab/classcasadi_1_1FunctionInternal.html#adae8da4f3aedd0fc92969ea155c786fd">casadi::FunctionInternal::sz_arg</a></div><div class="ttdeci">size_t sz_arg() const</div><div class="ttdoc">Get required length of arg field.</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d4f/function__internal_8hpp_source.html#l01128">function_internal.hpp:1128</a></div></div>
<div class="ttc" id="aclasscasadi_1_1FunctionInternal_html_ae59120306c79be83a8746762f7025e17"><div class="ttname"><a href="../../d2/dab/classcasadi_1_1FunctionInternal.html#ae59120306c79be83a8746762f7025e17">casadi::FunctionInternal::symbolic_output</a></div><div class="ttdeci">virtual std::vector&lt; MX &gt; symbolic_output(const std::vector&lt; MX &gt; &amp;arg) const</div><div class="ttdoc">Get a vector of symbolic variables corresponding to the outputs.</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/db4/function__internal_8cpp_source.html#l01052">function_internal.cpp:1052</a></div></div>
<div class="ttc" id="aclasscasadi_1_1FunctionInternal_html_aeac25c6cd594c6c83f0a68b2587b2fc7"><div class="ttname"><a href="../../d2/dab/classcasadi_1_1FunctionInternal.html#aeac25c6cd594c6c83f0a68b2587b2fc7">casadi::FunctionInternal::change_option</a></div><div class="ttdeci">void change_option(const std::string &amp;option_name, const GenericType &amp;option_value) override</div><div class="ttdoc">Change option after object creation for debugging.</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/db4/function__internal_8cpp_source.html#l00414">function_internal.cpp:414</a></div></div>
<div class="ttc" id="aclasscasadi_1_1FunctionInternal_html_aedf834606d6e0f6a0303b5e8724978d1"><div class="ttname"><a href="../../d2/dab/classcasadi_1_1FunctionInternal.html#aedf834606d6e0f6a0303b5e8724978d1">casadi::FunctionInternal::purgable</a></div><div class="ttdeci">static bool purgable(const std::vector&lt; MatType &gt; &amp;seed)</div><div class="ttdoc">Can a derivative direction be skipped.</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d4f/function__internal_8hpp_source.html#l01426">function_internal.hpp:1426</a></div></div>
<div class="ttc" id="aclasscasadi_1_1FunctionInternal_html_af4ee10c4a685fd14aa2b6b134bb120da"><div class="ttname"><a href="../../d2/dab/classcasadi_1_1FunctionInternal.html#af4ee10c4a685fd14aa2b6b134bb120da">casadi::FunctionInternal::generate_options</a></div><div class="ttdeci">Dict generate_options(const std::string &amp;target) const override</div><div class="ttdoc">Reconstruct options dict.</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/db4/function__internal_8cpp_source.html#l00373">function_internal.cpp:373</a></div></div>
<div class="ttc" id="aclasscasadi_1_1FunctionInternal_html_af5036e1d3e99bedb522984fe8629dc4c"><div class="ttname"><a href="../../d2/dab/classcasadi_1_1FunctionInternal.html#af5036e1d3e99bedb522984fe8629dc4c">casadi::FunctionInternal::add_embedded</a></div><div class="ttdeci">void add_embedded(std::map&lt; FunctionInternal *, Function &gt; &amp;all_fun, const Function &amp;dep, casadi_int max_depth) const</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/db4/function__internal_8cpp_source.html#l03544">function_internal.cpp:3544</a></div></div>
<div class="ttc" id="aclasscasadi_1_1FunctionInternal_html_af61b4b4cdcfeb8ef0f40596379464e53"><div class="ttname"><a href="../../d2/dab/classcasadi_1_1FunctionInternal.html#af61b4b4cdcfeb8ef0f40596379464e53">casadi::FunctionInternal::replace_aseed</a></div><div class="ttdeci">std::vector&lt; std::vector&lt; M &gt; &gt; replace_aseed(const std::vector&lt; std::vector&lt; M &gt;&gt; &amp;aseed, casadi_int npar) const</div><div class="ttdoc">Replace 0-by-0 reverse seeds.</div></div>
<div class="ttc" id="aclasscasadi_1_1Function_html"><div class="ttname"><a href="../../da/da4/classcasadi_1_1Function.html">casadi::Function</a></div><div class="ttdoc">Function object.</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d7c/function_8hpp_source.html#l00058">function.hpp:60</a></div></div>
<div class="ttc" id="aclasscasadi_1_1Function_html_a0a83e1ef9f147535c03c2a29412c91c8"><div class="ttname"><a href="../../da/da4/classcasadi_1_1Function.html#a0a83e1ef9f147535c03c2a29412c91c8">casadi::Function::n_instructions</a></div><div class="ttdeci">casadi_int n_instructions() const</div><div class="ttdoc">Number of instruction in the algorithm (SXFunction/MXFunction)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dea/function_8cpp_source.html#l01647">function.cpp:1647</a></div></div>
<div class="ttc" id="aclasscasadi_1_1Function_html_a2ba592675af4cdb40c29d23e862170dc"><div class="ttname"><a href="../../da/da4/classcasadi_1_1Function.html#a2ba592675af4cdb40c29d23e862170dc">casadi::Function::sparsity_out</a></div><div class="ttdeci">const Sparsity &amp; sparsity_out(casadi_int ind) const</div><div class="ttdoc">Get sparsity of a given output.</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dea/function_8cpp_source.html#l00975">function.cpp:975</a></div></div>
<div class="ttc" id="aclasscasadi_1_1Function_html_a6902714ef98e1e29e14aebfa383df24c"><div class="ttname"><a href="../../da/da4/classcasadi_1_1Function.html#a6902714ef98e1e29e14aebfa383df24c">casadi::Function::instruction_input</a></div><div class="ttdeci">std::vector&lt; casadi_int &gt; instruction_input(casadi_int k) const</div><div class="ttdoc">Locations in the work vector for the inputs of the instruction.</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dea/function_8cpp_source.html#l01679">function.cpp:1679</a></div></div>
<div class="ttc" id="aclasscasadi_1_1Function_html_a8995a2475dea7f9dbf5ecd5bf44e8153"><div class="ttname"><a href="../../da/da4/classcasadi_1_1Function.html#a8995a2475dea7f9dbf5ecd5bf44e8153">casadi::Function::instruction_output</a></div><div class="ttdeci">std::vector&lt; casadi_int &gt; instruction_output(casadi_int k) const</div><div class="ttdoc">Location in the work vector for the output of the instruction.</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dea/function_8cpp_source.html#l01695">function.cpp:1695</a></div></div>
<div class="ttc" id="aclasscasadi_1_1Function_html_a8c5bd9bb1d92fd4651a2de26c4432361"><div class="ttname"><a href="../../da/da4/classcasadi_1_1Function.html#a8c5bd9bb1d92fd4651a2de26c4432361">casadi::Function::instruction_MX</a></div><div class="ttdeci">MX instruction_MX(casadi_int k) const</div><div class="ttdoc">Get the MX node corresponding to an instruction (MXFunction)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dea/function_8cpp_source.html#l01655">function.cpp:1655</a></div></div>
<div class="ttc" id="aclasscasadi_1_1Function_html_a96ca8075f8f03e3b6309e42bea486c34"><div class="ttname"><a href="../../da/da4/classcasadi_1_1Function.html#a96ca8075f8f03e3b6309e42bea486c34">casadi::Function::n_out</a></div><div class="ttdeci">casadi_int n_out() const</div><div class="ttdoc">Get the number of function outputs.</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dea/function_8cpp_source.html#l00791">function.cpp:791</a></div></div>
<div class="ttc" id="aclasscasadi_1_1Function_html_aae1845afad8fecbedf3fd8bf5df26874"><div class="ttname"><a href="../../da/da4/classcasadi_1_1Function.html#aae1845afad8fecbedf3fd8bf5df26874">casadi::Function::is_a</a></div><div class="ttdeci">bool is_a(const std::string &amp;type, bool recursive=true) const</div><div class="ttdoc">Check if the function is of a particular type.</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dea/function_8cpp_source.html#l01607">function.cpp:1607</a></div></div>
<div class="ttc" id="aclasscasadi_1_1Function_html_add352dfbcc37ff43d79d4c934c7b80e3"><div class="ttname"><a href="../../da/da4/classcasadi_1_1Function.html#add352dfbcc37ff43d79d4c934c7b80e3">casadi::Function::stats</a></div><div class="ttdeci">Dict stats(int mem=0) const</div><div class="ttdoc">Get all statistics obtained at the end of the last evaluate call.</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dea/function_8cpp_source.html#l00896">function.cpp:896</a></div></div>
<div class="ttc" id="aclasscasadi_1_1Function_html_aeaec7823eb7aaf20fd6b6a9cc8d19dcf"><div class="ttname"><a href="../../da/da4/classcasadi_1_1Function.html#aeaec7823eb7aaf20fd6b6a9cc8d19dcf">casadi::Function::instruction_id</a></div><div class="ttdeci">casadi_int instruction_id(casadi_int k) const</div><div class="ttdoc">Identifier index of the instruction (SXFunction/MXFunction)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dea/function_8cpp_source.html#l01671">function.cpp:1671</a></div></div>
<div class="ttc" id="aclasscasadi_1_1GenericMatrix_html_a2f3db994e7be9de13101e30fea8bca29"><div class="ttname"><a href="../../dc/df3/classcasadi_1_1GenericMatrix.html#a2f3db994e7be9de13101e30fea8bca29">casadi::GenericMatrix::size</a></div><div class="ttdeci">std::pair&lt; casadi_int, casadi_int &gt; size() const</div><div class="ttdoc">Get the shape.</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d90/generic__matrix_8hpp_source.html#l01154">generic_matrix.hpp:1154</a></div></div>
<div class="ttc" id="aclasscasadi_1_1GenericMatrix_html_ab41ea4b948928d72a290821a2af7da7e"><div class="ttname"><a href="../../dc/df3/classcasadi_1_1GenericMatrix.html#ab41ea4b948928d72a290821a2af7da7e">casadi::GenericMatrix&lt; MX &gt;::sym</a></div><div class="ttdeci">static MX sym(const std::string &amp;name, casadi_int nrow=1, casadi_int ncol=1)</div><div class="ttdoc">Create an nrow-by-ncol symbolic primitive.</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d90/generic__matrix_8hpp_source.html#l01027">generic_matrix.hpp:1027</a></div></div>
<div class="ttc" id="aclasscasadi_1_1GenericMatrix_html_afe22d1cc61302ddc0aa5ed2fd0d06494"><div class="ttname"><a href="../../dc/df3/classcasadi_1_1GenericMatrix.html#afe22d1cc61302ddc0aa5ed2fd0d06494">casadi::GenericMatrix::is_scalar</a></div><div class="ttdeci">bool is_scalar(bool scalar_and_dense=false) const</div><div class="ttdoc">Check if the matrix expression is scalar.</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d90/generic__matrix_8hpp_source.html#l01169">generic_matrix.hpp:1169</a></div></div>
<div class="ttc" id="aclasscasadi_1_1GenericType_html"><div class="ttname"><a href="../../d6/d82/classcasadi_1_1GenericType.html">casadi::GenericType</a></div><div class="ttdoc">Generic data type, can hold different types such as bool, casadi_int, std::string etc.</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d30/generic__type_8hpp_source.html#l00068">generic_type.hpp:73</a></div></div>
<div class="ttc" id="aclasscasadi_1_1IOInstruction_html"><div class="ttname"><a href="../../d8/d99/classcasadi_1_1IOInstruction.html">casadi::IOInstruction</a></div><div class="ttdoc">An input or output instruction.</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/db8/io__instruction_8hpp_source.html#l00038">io_instruction.hpp:38</a></div></div>
<div class="ttc" id="aclasscasadi_1_1IOInstruction_html_aa0cfabffb5000844dcfcfef279f57ad1"><div class="ttname"><a href="../../d8/d99/classcasadi_1_1IOInstruction.html#aa0cfabffb5000844dcfcfef279f57ad1">casadi::IOInstruction::ind</a></div><div class="ttdeci">casadi_int ind() const override</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/db8/io__instruction_8hpp_source.html#l00058">io_instruction.hpp:58</a></div></div>
<div class="ttc" id="aclasscasadi_1_1Input_html"><div class="ttname"><a href="../../d1/d44/classcasadi_1_1Input.html">casadi::Input</a></div><div class="ttdoc">Input instruction.</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/db8/io__instruction_8hpp_source.html#l00084">io_instruction.hpp:84</a></div></div>
<div class="ttc" id="aclasscasadi_1_1InterruptHandler_html_a49091eb550d4bf8da4f31e49835608df"><div class="ttname"><a href="../../d7/d38/classcasadi_1_1InterruptHandler.html#a49091eb550d4bf8da4f31e49835608df">casadi::InterruptHandler::check</a></div><div class="ttdeci">static void check()</div><div class="ttdoc">Raises an error if an interrupt was captured.</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df3/casadi__interrupt_8hpp_source.html#l00071">casadi_interrupt.hpp:71</a></div></div>
<div class="ttc" id="aclasscasadi_1_1MXFunction_html"><div class="ttname"><a href="../../d6/dfe/classcasadi_1_1MXFunction.html">casadi::MXFunction</a></div><div class="ttdoc">Internal node class for MXFunction.</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/deb/mx__function_8hpp_source.html#l00066">mx_function.hpp:67</a></div></div>
<div class="ttc" id="aclasscasadi_1_1MXFunction_html_a00fe09eb12befe06e1fbd936891c3346"><div class="ttname"><a href="../../d6/dfe/classcasadi_1_1MXFunction.html#a00fe09eb12befe06e1fbd936891c3346">casadi::MXFunction::find</a></div><div class="ttdeci">void find(std::map&lt; FunctionInternal *, Function &gt; &amp;all_fun, casadi_int max_depth) const override</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d9b/mx__function_8cpp_source.html#l01802">mx_function.cpp:1802</a></div></div>
<div class="ttc" id="aclasscasadi_1_1MXFunction_html_a04ddaa881f91489daba88b0d50a0ba20"><div class="ttname"><a href="../../d6/dfe/classcasadi_1_1MXFunction.html#a04ddaa881f91489daba88b0d50a0ba20">casadi::MXFunction::codegen_body</a></div><div class="ttdeci">void codegen_body(CodeGenerator &amp;g) const override</div><div class="ttdoc">Generate code for the body of the C function.</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d9b/mx__function_8cpp_source.html#l01176">mx_function.cpp:1176</a></div></div>
<div class="ttc" id="aclasscasadi_1_1MXFunction_html_a089908722670b1d4286d9f99ea2b0c7d"><div class="ttname"><a href="../../d6/dfe/classcasadi_1_1MXFunction.html#a089908722670b1d4286d9f99ea2b0c7d">casadi::MXFunction::options_</a></div><div class="ttdeci">static const Options options_</div><div class="ttdoc">Options.</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/deb/mx__function_8hpp_source.html#l00133">mx_function.hpp:133</a></div></div>
<div class="ttc" id="aclasscasadi_1_1MXFunction_html_a0a81aa9b5af5e6f5239678d5b2347361"><div class="ttname"><a href="../../d6/dfe/classcasadi_1_1MXFunction.html#a0a81aa9b5af5e6f5239678d5b2347361">casadi::MXFunction::workloc_</a></div><div class="ttdeci">std::vector&lt; casadi_int &gt; workloc_</div><div class="ttdoc">Offsets for elements in the w_ vector.</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/deb/mx__function_8hpp_source.html#l00082">mx_function.hpp:82</a></div></div>
<div class="ttc" id="aclasscasadi_1_1MXFunction_html_a0d2b442bfe02b6a3bc12f5846cce8572"><div class="ttname"><a href="../../d6/dfe/classcasadi_1_1MXFunction.html#a0d2b442bfe02b6a3bc12f5846cce8572">casadi::MXFunction::live_variables_</a></div><div class="ttdeci">bool live_variables_</div><div class="ttdoc">Live variables?</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/deb/mx__function_8hpp_source.html#l00091">mx_function.hpp:91</a></div></div>
<div class="ttc" id="aclasscasadi_1_1MXFunction_html_a0d3fbe99b32e86fe2902947349822c29"><div class="ttname"><a href="../../d6/dfe/classcasadi_1_1MXFunction.html#a0d3fbe99b32e86fe2902947349822c29">casadi::MXFunction::instruction_MX</a></div><div class="ttdeci">MX instruction_MX(casadi_int k) const override</div><div class="ttdoc">get MX expression associated with instruction</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d9b/mx__function_8cpp_source.html#l00086">mx_function.cpp:86</a></div></div>
<div class="ttc" id="aclasscasadi_1_1MXFunction_html_a0dced184c14d0f8505a61249721180f5"><div class="ttname"><a href="../../d6/dfe/classcasadi_1_1MXFunction.html#a0dced184c14d0f8505a61249721180f5">casadi::MXFunction::instruction_output</a></div><div class="ttdeci">std::vector&lt; casadi_int &gt; instruction_output(casadi_int k) const override</div><div class="ttdoc">Get the (integer) output argument of an atomic operation.</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d9b/mx__function_8cpp_source.html#l00100">mx_function.cpp:100</a></div></div>
<div class="ttc" id="aclasscasadi_1_1MXFunction_html_a0e8631d50b18df51bd752e9c986a59a9"><div class="ttname"><a href="../../d6/dfe/classcasadi_1_1MXFunction.html#a0e8631d50b18df51bd752e9c986a59a9">casadi::MXFunction::default_in_</a></div><div class="ttdeci">std::vector&lt; double &gt; default_in_</div><div class="ttdoc">Default input values.</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/deb/mx__function_8hpp_source.html#l00088">mx_function.hpp:88</a></div></div>
<div class="ttc" id="aclasscasadi_1_1MXFunction_html_a1da5ee91c990ad0601be300a2a278a84"><div class="ttname"><a href="../../d6/dfe/classcasadi_1_1MXFunction.html#a1da5ee91c990ad0601be300a2a278a84">casadi::MXFunction::change_option</a></div><div class="ttdeci">void change_option(const std::string &amp;option_name, const GenericType &amp;option_value) override</div><div class="ttdoc">Change option after object creation for debugging.</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d9b/mx__function_8cpp_source.html#l01809">mx_function.cpp:1809</a></div></div>
<div class="ttc" id="aclasscasadi_1_1MXFunction_html_a359ea61c8e277ba86b8e29fa5e476117"><div class="ttname"><a href="../../d6/dfe/classcasadi_1_1MXFunction.html#a359ea61c8e277ba86b8e29fa5e476117">casadi::MXFunction::sp_reverse</a></div><div class="ttdeci">int sp_reverse(bvec_t **arg, bvec_t **res, casadi_int *iw, bvec_t *w, void *mem) const override</div><div class="ttdoc">Propagate sparsity backwards.</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d9b/mx__function_8cpp_source.html#l00596">mx_function.cpp:596</a></div></div>
<div class="ttc" id="aclasscasadi_1_1MXFunction_html_a35b011a76153245ad6011f8a43036fbc"><div class="ttname"><a href="../../d6/dfe/classcasadi_1_1MXFunction.html#a35b011a76153245ad6011f8a43036fbc">casadi::MXFunction::mx_in</a></div><div class="ttdeci">const std::vector&lt; MX &gt; mx_in() const override</div><div class="ttdoc">Get function input(s) and output(s)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d9b/mx__function_8cpp_source.html#l01343">mx_function.cpp:1343</a></div></div>
<div class="ttc" id="aclasscasadi_1_1MXFunction_html_a3ae2a0f5c683d800bb8c80c36e6da471"><div class="ttname"><a href="../../d6/dfe/classcasadi_1_1MXFunction.html#a3ae2a0f5c683d800bb8c80c36e6da471">casadi::MXFunction::sp_forward</a></div><div class="ttdeci">int sp_forward(const bvec_t **arg, bvec_t **res, casadi_int *iw, bvec_t *w, void *mem) const override</div><div class="ttdoc">Propagate sparsity forward.</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d9b/mx__function_8cpp_source.html#l00551">mx_function.cpp:552</a></div></div>
<div class="ttc" id="aclasscasadi_1_1MXFunction_html_a3c7eca7d8946424ae8f052a19f27f39d"><div class="ttname"><a href="../../d6/dfe/classcasadi_1_1MXFunction.html#a3c7eca7d8946424ae8f052a19f27f39d">casadi::MXFunction::serialize_body</a></div><div class="ttdeci">void serialize_body(SerializingStream &amp;s) const override</div><div class="ttdoc">Serialize an object without type information.</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d9b/mx__function_8cpp_source.html#l01752">mx_function.cpp:1752</a></div></div>
<div class="ttc" id="aclasscasadi_1_1MXFunction_html_a3fba416a4952ec5ec7f66967c6daedd4"><div class="ttname"><a href="../../d6/dfe/classcasadi_1_1MXFunction.html#a3fba416a4952ec5ec7f66967c6daedd4">casadi::MXFunction::init</a></div><div class="ttdeci">void init(const Dict &amp;opts) override</div><div class="ttdoc">Initialize.</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d9b/mx__function_8cpp_source.html#l00110">mx_function.cpp:110</a></div></div>
<div class="ttc" id="aclasscasadi_1_1MXFunction_html_a420c85b9f3058031cabeb0e013cb8288"><div class="ttname"><a href="../../d6/dfe/classcasadi_1_1MXFunction.html#a420c85b9f3058031cabeb0e013cb8288">casadi::MXFunction::eval_sx</a></div><div class="ttdeci">int eval_sx(const SXElem **arg, SXElem **res, casadi_int *iw, SXElem *w, void *mem) const override</div><div class="ttdoc">Evaluate symbolically, SX type.</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d9b/mx__function_8cpp_source.html#l01105">mx_function.cpp:1105</a></div></div>
<div class="ttc" id="aclasscasadi_1_1MXFunction_html_a4d52ef5f6efd565dd7a30fc7c3371d73"><div class="ttname"><a href="../../d6/dfe/classcasadi_1_1MXFunction.html#a4d52ef5f6efd565dd7a30fc7c3371d73">casadi::MXFunction::print_arg</a></div><div class="ttdeci">void print_arg(std::ostream &amp;stream, casadi_int k, const AlgEl &amp;el, const double **arg) const</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d9b/mx__function_8cpp_source.html#l00523">mx_function.cpp:523</a></div></div>
<div class="ttc" id="aclasscasadi_1_1MXFunction_html_a4d7f007c566ac3ed5bcb69814dee940a"><div class="ttname"><a href="../../d6/dfe/classcasadi_1_1MXFunction.html#a4d7f007c566ac3ed5bcb69814dee940a">casadi::MXFunction::ad_reverse</a></div><div class="ttdeci">void ad_reverse(const std::vector&lt; std::vector&lt; MX &gt; &gt; &amp;adjSeed, std::vector&lt; std::vector&lt; MX &gt; &gt; &amp;adjSens) const</div><div class="ttdoc">Calculate reverse mode directional derivatives.</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d9b/mx__function_8cpp_source.html#l00894">mx_function.cpp:894</a></div></div>
<div class="ttc" id="aclasscasadi_1_1MXFunction_html_a503ede3e347b716b6a6c34889740a1ad"><div class="ttname"><a href="../../d6/dfe/classcasadi_1_1MXFunction.html#a503ede3e347b716b6a6c34889740a1ad">casadi::MXFunction::MXFunction</a></div><div class="ttdeci">MXFunction(const std::string &amp;name, const std::vector&lt; MX &gt; &amp;input, const std::vector&lt; MX &gt; &amp;output, const std::vector&lt; std::string &gt; &amp;name_in, const std::vector&lt; std::string &gt; &amp;name_out)</div><div class="ttdoc">Constructor.</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d9b/mx__function_8cpp_source.html#l00043">mx_function.cpp:43</a></div></div>
<div class="ttc" id="aclasscasadi_1_1MXFunction_html_a5a391e394df6af1c9f52be4e6a62d5f9"><div class="ttname"><a href="../../d6/dfe/classcasadi_1_1MXFunction.html#a5a391e394df6af1c9f52be4e6a62d5f9">casadi::MXFunction::codegen_decref</a></div><div class="ttdeci">void codegen_decref(CodeGenerator &amp;g) const override</div><div class="ttdoc">Codegen decref for dependencies.</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d9b/mx__function_8cpp_source.html#l01169">mx_function.cpp:1169</a></div></div>
<div class="ttc" id="aclasscasadi_1_1MXFunction_html_a688b4f028a7f6601a157547556805959"><div class="ttname"><a href="../../d6/dfe/classcasadi_1_1MXFunction.html#a688b4f028a7f6601a157547556805959">casadi::MXFunction::get_free</a></div><div class="ttdeci">std::vector&lt; std::string &gt; get_free() const override</div><div class="ttdoc">Print free variables.</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/deb/mx__function_8hpp_source.html#l00254">mx_function.hpp:254</a></div></div>
<div class="ttc" id="aclasscasadi_1_1MXFunction_html_a69292ed9cae1ac40e02131de62a77f5c"><div class="ttname"><a href="../../d6/dfe/classcasadi_1_1MXFunction.html#a69292ed9cae1ac40e02131de62a77f5c">casadi::MXFunction::should_inline</a></div><div class="ttdeci">bool should_inline(bool always_inline, bool never_inline) const override</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d9b/mx__function_8cpp_source.html#l01408">mx_function.cpp:1408</a></div></div>
<div class="ttc" id="aclasscasadi_1_1MXFunction_html_a73ce6d14b8ff896efbbddec6f1933054"><div class="ttname"><a href="../../d6/dfe/classcasadi_1_1MXFunction.html#a73ce6d14b8ff896efbbddec6f1933054">casadi::MXFunction::~MXFunction</a></div><div class="ttdeci">~MXFunction() override</div><div class="ttdoc">Destructor.</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d9b/mx__function_8cpp_source.html#l00051">mx_function.cpp:51</a></div></div>
<div class="ttc" id="aclasscasadi_1_1MXFunction_html_a7d8a592c1e18f2e7147baa7d3713e0c7"><div class="ttname"><a href="../../d6/dfe/classcasadi_1_1MXFunction.html#a7d8a592c1e18f2e7147baa7d3713e0c7">casadi::MXFunction::print</a></div><div class="ttdeci">std::string print(const AlgEl &amp;el) const</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d9b/mx__function_8cpp_source.html#l00479">mx_function.cpp:479</a></div></div>
<div class="ttc" id="aclasscasadi_1_1MXFunction_html_a8a7280999dbafc4e3287e3b31e59ce39"><div class="ttname"><a href="../../d6/dfe/classcasadi_1_1MXFunction.html#a8a7280999dbafc4e3287e3b31e59ce39">casadi::MXFunction::has_free</a></div><div class="ttdeci">bool has_free() const override</div><div class="ttdoc">Does the function have free variables.</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/deb/mx__function_8hpp_source.html#l00249">mx_function.hpp:249</a></div></div>
<div class="ttc" id="aclasscasadi_1_1MXFunction_html_a8bdece426ffbbd4459004b7997cf4a1a"><div class="ttname"><a href="../../d6/dfe/classcasadi_1_1MXFunction.html#a8bdece426ffbbd4459004b7997cf4a1a">casadi::MXFunction::eval</a></div><div class="ttdeci">int eval(const double **arg, double **res, casadi_int *iw, double *w, void *mem) const override</div><div class="ttdoc">Evaluate numerically, work vectors given.</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d9b/mx__function_8cpp_source.html#l00421">mx_function.cpp:421</a></div></div>
<div class="ttc" id="aclasscasadi_1_1MXFunction_html_a91188efff90f8bca74d5ab68cd7569f4"><div class="ttname"><a href="../../d6/dfe/classcasadi_1_1MXFunction.html#a91188efff90f8bca74d5ab68cd7569f4">casadi::MXFunction::disp_more</a></div><div class="ttdeci">void disp_more(std::ostream &amp;stream) const override</div><div class="ttdoc">Print description.</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d9b/mx__function_8cpp_source.html#l00543">mx_function.cpp:543</a></div></div>
<div class="ttc" id="aclasscasadi_1_1MXFunction_html_a9560d348b4c06ceb979ae0bbf8a7ccbb"><div class="ttname"><a href="../../d6/dfe/classcasadi_1_1MXFunction.html#a9560d348b4c06ceb979ae0bbf8a7ccbb">casadi::MXFunction::codegen_declarations</a></div><div class="ttdeci">void codegen_declarations(CodeGenerator &amp;g) const override</div><div class="ttdoc">Generate code for the declarations of the C function.</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d9b/mx__function_8cpp_source.html#l01148">mx_function.cpp:1148</a></div></div>
<div class="ttc" id="aclasscasadi_1_1MXFunction_html_a9e4edfcf09c0565dbd6e438c4067e025"><div class="ttname"><a href="../../d6/dfe/classcasadi_1_1MXFunction.html#a9e4edfcf09c0565dbd6e438c4067e025">casadi::MXFunction::print_instructions_</a></div><div class="ttdeci">bool print_instructions_</div><div class="ttdoc">Print instructions during evaluation.</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/deb/mx__function_8hpp_source.html#l00094">mx_function.hpp:94</a></div></div>
<div class="ttc" id="aclasscasadi_1_1MXFunction_html_a9ef2c737f0d5e7b17745ccca2b7c8cc0"><div class="ttname"><a href="../../d6/dfe/classcasadi_1_1MXFunction.html#a9ef2c737f0d5e7b17745ccca2b7c8cc0">casadi::MXFunction::substitute_inplace</a></div><div class="ttdeci">void substitute_inplace(std::vector&lt; MX &gt; &amp;vdef, std::vector&lt; MX &gt; &amp;ex) const</div><div class="ttdoc">Substitute inplace, internal implementation.</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d9b/mx__function_8cpp_source.html#l01353">mx_function.cpp:1353</a></div></div>
<div class="ttc" id="aclasscasadi_1_1MXFunction_html_a9f3a5af27f0c800e1a95339e28392ea5"><div class="ttname"><a href="../../d6/dfe/classcasadi_1_1MXFunction.html#a9f3a5af27f0c800e1a95339e28392ea5">casadi::MXFunction::instruction_input</a></div><div class="ttdeci">std::vector&lt; casadi_int &gt; instruction_input(casadi_int k) const override</div><div class="ttdoc">Get the (integer) input arguments of an atomic operation.</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d9b/mx__function_8cpp_source.html#l00090">mx_function.cpp:90</a></div></div>
<div class="ttc" id="aclasscasadi_1_1MXFunction_html_aaf9d1d0c763962919785d21b8a2280b6"><div class="ttname"><a href="../../d6/dfe/classcasadi_1_1MXFunction.html#aaf9d1d0c763962919785d21b8a2280b6">casadi::MXFunction::n_instructions</a></div><div class="ttdeci">casadi_int n_instructions() const override</div><div class="ttdoc">Get the number of atomic operations.</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/deb/mx__function_8hpp_source.html#l00265">mx_function.hpp:265</a></div></div>
<div class="ttc" id="aclasscasadi_1_1MXFunction_html_ab66597dc01d4c6fe011cc96e3c36ff51"><div class="ttname"><a href="../../d6/dfe/classcasadi_1_1MXFunction.html#ab66597dc01d4c6fe011cc96e3c36ff51">casadi::MXFunction::codegen_incref</a></div><div class="ttdeci">void codegen_incref(CodeGenerator &amp;g) const override</div><div class="ttdoc">Codegen incref for dependencies.</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d9b/mx__function_8cpp_source.html#l01162">mx_function.cpp:1162</a></div></div>
<div class="ttc" id="aclasscasadi_1_1MXFunction_html_ab88c17946b4e00d02dab5531a2e01b36"><div class="ttname"><a href="../../d6/dfe/classcasadi_1_1MXFunction.html#ab88c17946b4e00d02dab5531a2e01b36">casadi::MXFunction::algorithm_</a></div><div class="ttdeci">std::vector&lt; AlgEl &gt; algorithm_</div><div class="ttdoc">All the runtime elements in the order of evaluation.</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/deb/mx__function_8hpp_source.html#l00077">mx_function.hpp:77</a></div></div>
<div class="ttc" id="aclasscasadi_1_1MXFunction_html_abbfd60bacaf4b53d9059904cadf3dab9"><div class="ttname"><a href="../../d6/dfe/classcasadi_1_1MXFunction.html#abbfd60bacaf4b53d9059904cadf3dab9">casadi::MXFunction::eval_mx</a></div><div class="ttdeci">void eval_mx(const MXVector &amp;arg, MXVector &amp;res, bool always_inline, bool never_inline) const override</div><div class="ttdoc">Evaluate symbolically, MX type.</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d9b/mx__function_8cpp_source.html#l00662">mx_function.cpp:662</a></div></div>
<div class="ttc" id="aclasscasadi_1_1MXFunction_html_ad1fc70144071c99f3fa2cc9aef303110"><div class="ttname"><a href="../../d6/dfe/classcasadi_1_1MXFunction.html#ad1fc70144071c99f3fa2cc9aef303110">casadi::MXFunction::is_a</a></div><div class="ttdeci">bool is_a(const std::string &amp;type, bool recursive) const override</div><div class="ttdoc">Check if the function is of a particular type.</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d9b/mx__function_8cpp_source.html#l01347">mx_function.cpp:1347</a></div></div>
<div class="ttc" id="aclasscasadi_1_1MXFunction_html_adfdd506448f444274fe73f2051bdb42e"><div class="ttname"><a href="../../d6/dfe/classcasadi_1_1MXFunction.html#adfdd506448f444274fe73f2051bdb42e">casadi::MXFunction::print_res</a></div><div class="ttdeci">void print_res(std::ostream &amp;stream, casadi_int k, const AlgEl &amp;el, double **res) const</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d9b/mx__function_8cpp_source.html#l00533">mx_function.cpp:533</a></div></div>
<div class="ttc" id="aclasscasadi_1_1MXFunction_html_ae6a15df228c6088464afc0c926e087da"><div class="ttname"><a href="../../d6/dfe/classcasadi_1_1MXFunction.html#ae6a15df228c6088464afc0c926e087da">casadi::MXFunction::ad_forward</a></div><div class="ttdeci">void ad_forward(const std::vector&lt; std::vector&lt; MX &gt; &gt; &amp;fwdSeed, std::vector&lt; std::vector&lt; MX &gt; &gt; &amp;fwdSens) const</div><div class="ttdoc">Calculate forward mode directional derivatives.</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d9b/mx__function_8cpp_source.html#l00736">mx_function.cpp:736</a></div></div>
<div class="ttc" id="aclasscasadi_1_1MXFunction_html_af1534d0ba72feb537e207c8c330cc2df"><div class="ttname"><a href="../../d6/dfe/classcasadi_1_1MXFunction.html#af1534d0ba72feb537e207c8c330cc2df">casadi::MXFunction::free_vars_</a></div><div class="ttdeci">std::vector&lt; MX &gt; free_vars_</div><div class="ttdoc">Free variables.</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/deb/mx__function_8hpp_source.html#l00085">mx_function.hpp:85</a></div></div>
<div class="ttc" id="aclasscasadi_1_1MXFunction_html_af30d118414dcba8c669c1f359892ddbf"><div class="ttname"><a href="../../d6/dfe/classcasadi_1_1MXFunction.html#af30d118414dcba8c669c1f359892ddbf">casadi::MXFunction::generate_options</a></div><div class="ttdeci">Dict generate_options(const std::string &amp;target=&quot;clone&quot;) const override</div><div class="ttdoc">Reconstruct options dict.</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d9b/mx__function_8cpp_source.html#l00078">mx_function.cpp:78</a></div></div>
<div class="ttc" id="aclasscasadi_1_1MXFunction_html_af3e9bd0f2e9876e5c0c5c09ddf97f90c"><div class="ttname"><a href="../../d6/dfe/classcasadi_1_1MXFunction.html#af3e9bd0f2e9876e5c0c5c09ddf97f90c">casadi::MXFunction::generate_lifted</a></div><div class="ttdeci">void generate_lifted(Function &amp;vdef_fcn, Function &amp;vinit_fcn) const override</div><div class="ttdoc">Extract the residual function G and the modified function Z out of an expression.</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d9b/mx__function_8cpp_source.html#l01247">mx_function.cpp:1247</a></div></div>
<div class="ttc" id="aclasscasadi_1_1MXFunction_html_af5e857c8906ded8d0a91ac91100f7df7"><div class="ttname"><a href="../../d6/dfe/classcasadi_1_1MXFunction.html#af5e857c8906ded8d0a91ac91100f7df7">casadi::MXFunction::symbolic_output</a></div><div class="ttdeci">std::vector&lt; MX &gt; symbolic_output(const std::vector&lt; MX &gt; &amp;arg) const override</div><div class="ttdoc">Get a vector of symbolic variables corresponding to the outputs.</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d9b/mx__function_8cpp_source.html#l00644">mx_function.cpp:644</a></div></div>
<div class="ttc" id="aclasscasadi_1_1MXFunction_html_af891dce2a0d9116032d2a460b17b7d91"><div class="ttname"><a href="../../d6/dfe/classcasadi_1_1MXFunction.html#af891dce2a0d9116032d2a460b17b7d91">casadi::MXFunction::deserialize</a></div><div class="ttdeci">static ProtoFunction * deserialize(DeserializingStream &amp;s)</div><div class="ttdoc">Deserialize with type disambiguation.</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d9b/mx__function_8cpp_source.html#l01798">mx_function.cpp:1798</a></div></div>
<div class="ttc" id="aclasscasadi_1_1MXFunction_html_afce1e381353cd3ecf643f3d41916964a"><div class="ttname"><a href="../../d6/dfe/classcasadi_1_1MXFunction.html#afce1e381353cd3ecf643f3d41916964a">casadi::MXFunction::get_stats</a></div><div class="ttdeci">Dict get_stats(void *mem) const override</div><div class="ttdoc">Get all statistics.</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d9b/mx__function_8cpp_source.html#l01735">mx_function.cpp:1735</a></div></div>
<div class="ttc" id="aclasscasadi_1_1MXFunction_html_afde4aaa6ce6fb4680d2ae7f53bcfb54a"><div class="ttname"><a href="../../d6/dfe/classcasadi_1_1MXFunction.html#afde4aaa6ce6fb4680d2ae7f53bcfb54a">casadi::MXFunction::export_code_body</a></div><div class="ttdeci">void export_code_body(const std::string &amp;lang, std::ostream &amp;stream, const Dict &amp;options) const override</div><div class="ttdoc">Export function in a specific language.</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d9b/mx__function_8cpp_source.html#l01422">mx_function.cpp:1422</a></div></div>
<div class="ttc" id="aclasscasadi_1_1MXNode_html"><div class="ttname"><a href="../../d0/d19/classcasadi_1_1MXNode.html">casadi::MXNode</a></div><div class="ttdoc">Node class for MX objects.</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d72/mx__node_8hpp_source.html#l00050">mx_node.hpp:50</a></div></div>
<div class="ttc" id="aclasscasadi_1_1MXNode_html_a3cfbb3e476b64c230226ed1e3138a2b0"><div class="ttname"><a href="../../d0/d19/classcasadi_1_1MXNode.html#a3cfbb3e476b64c230226ed1e3138a2b0">casadi::MXNode::ind</a></div><div class="ttdeci">virtual casadi_int ind() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dcf/mx__node_8cpp_source.html#l00189">mx_node.cpp:189</a></div></div>
<div class="ttc" id="aclasscasadi_1_1MXNode_html_a9101d5bd449e9b5d4c3e6624720a089a"><div class="ttname"><a href="../../d0/d19/classcasadi_1_1MXNode.html#a9101d5bd449e9b5d4c3e6624720a089a">casadi::MXNode::sparsity</a></div><div class="ttdeci">const Sparsity &amp; sparsity() const</div><div class="ttdoc">Get the sparsity.</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d72/mx__node_8hpp_source.html#l00325">mx_node.hpp:325</a></div></div>
<div class="ttc" id="aclasscasadi_1_1MXNode_html_aa1bd7fd6ee89fa43cbb8d75f3274fdf5"><div class="ttname"><a href="../../d0/d19/classcasadi_1_1MXNode.html#aa1bd7fd6ee89fa43cbb8d75f3274fdf5">casadi::MXNode::dep</a></div><div class="ttdeci">const MX &amp; dep(casadi_int ind=0) const</div><div class="ttdoc">dependencies - functions that have to be evaluated before this one</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d72/mx__node_8hpp_source.html#l00307">mx_node.hpp:307</a></div></div>
<div class="ttc" id="aclasscasadi_1_1MXNode_html_ab35df87ce6a016dcfda6d1d2323f73d3"><div class="ttname"><a href="../../d0/d19/classcasadi_1_1MXNode.html#ab35df87ce6a016dcfda6d1d2323f73d3">casadi::MXNode::segment</a></div><div class="ttdeci">virtual casadi_int segment() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dcf/mx__node_8cpp_source.html#l00193">mx_node.cpp:193</a></div></div>
<div class="ttc" id="aclasscasadi_1_1MXNode_html_aef8768ff54c15bc914d25bb49e86f909"><div class="ttname"><a href="../../d0/d19/classcasadi_1_1MXNode.html#aef8768ff54c15bc914d25bb49e86f909">casadi::MXNode::disp</a></div><div class="ttdeci">virtual std::string disp(const std::vector&lt; std::string &gt; &amp;arg) const =0</div><div class="ttdoc">Print expression.</div></div>
<div class="ttc" id="aclasscasadi_1_1MX_html"><div class="ttname"><a href="../../de/d57/classcasadi_1_1MX.html">casadi::MX</a></div><div class="ttdoc">MX - Matrix expression.</div><div class="ttdef"><b>Definition:</b> <a href="../../db/dc6/mx_8hpp_source.html#l00080">mx.hpp:84</a></div></div>
<div class="ttc" id="aclasscasadi_1_1MX_html_a0ba0ef46e83bedc48101b8010d6cd97a"><div class="ttname"><a href="../../de/d57/classcasadi_1_1MX.html#a0ba0ef46e83bedc48101b8010d6cd97a">casadi::MX::create</a></div><div class="ttdeci">static MX create(MXNode *node)</div><div class="ttdoc">Create from node.</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/df4/mx_8cpp_source.html#l00065">mx.cpp:65</a></div></div>
<div class="ttc" id="aclasscasadi_1_1MX_html_a1a4e7c2d261e7d8da0c07907d8269af7"><div class="ttname"><a href="../../de/d57/classcasadi_1_1MX.html#a1a4e7c2d261e7d8da0c07907d8269af7">casadi::MX::sparsity</a></div><div class="ttdeci">const Sparsity &amp; sparsity() const</div><div class="ttdoc">Get the sparsity pattern.</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/df4/mx_8cpp_source.html#l00586">mx.cpp:586</a></div></div>
<div class="ttc" id="aclasscasadi_1_1MX_html_abacafe753de9c27b2b999631ff8f5faf"><div class="ttname"><a href="../../de/d57/classcasadi_1_1MX.html#abacafe753de9c27b2b999631ff8f5faf">casadi::MX::info</a></div><div class="ttdeci">Dict info() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/df4/mx_8cpp_source.html#l00798">mx.cpp:798</a></div></div>
<div class="ttc" id="aclasscasadi_1_1MX_html_acf215202e081375a45aed741607f3331"><div class="ttname"><a href="../../de/d57/classcasadi_1_1MX.html#acf215202e081375a45aed741607f3331">casadi::MX::dep</a></div><div class="ttdeci">MX dep(casadi_int ch=0) const</div><div class="ttdoc">Get the nth dependency as MX.</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/df4/mx_8cpp_source.html#l00730">mx.cpp:730</a></div></div>
<div class="ttc" id="aclasscasadi_1_1MX_html_ad9a07ea14614fc919844a5ba5146c43d"><div class="ttname"><a href="../../de/d57/classcasadi_1_1MX.html#ad9a07ea14614fc919844a5ba5146c43d">casadi::MX::is_binary</a></div><div class="ttdeci">bool is_binary() const</div><div class="ttdoc">Is binary operation.</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/df4/mx_8cpp_source.html#l00786">mx.cpp:786</a></div></div>
<div class="ttc" id="aclasscasadi_1_1MX_html_aded2a8ae996cecad673f3c33922c97ce"><div class="ttname"><a href="../../de/d57/classcasadi_1_1MX.html#aded2a8ae996cecad673f3c33922c97ce">casadi::MX::is_unary</a></div><div class="ttdeci">bool is_unary() const</div><div class="ttdoc">Is unary operation.</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/df4/mx_8cpp_source.html#l00790">mx.cpp:790</a></div></div>
<div class="ttc" id="aclasscasadi_1_1MX_html_af6dbdea3219a5561c77d5cf753a77fea"><div class="ttname"><a href="../../de/d57/classcasadi_1_1MX.html#af6dbdea3219a5561c77d5cf753a77fea">casadi::MX::op</a></div><div class="ttdeci">casadi_int op() const</div><div class="ttdoc">Get operation type.</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/df4/mx_8cpp_source.html#l00794">mx.cpp:794</a></div></div>
<div class="ttc" id="aclasscasadi_1_1Matrix_html"><div class="ttname"><a href="../../da/d45/classcasadi_1_1Matrix.html">casadi::Matrix&lt; double &gt;</a></div></div>
<div class="ttc" id="aclasscasadi_1_1Matrix_html_a2e7402d82249a266fb9e3626ee354c61"><div class="ttname"><a href="../../da/d45/classcasadi_1_1Matrix.html#a2e7402d82249a266fb9e3626ee354c61">casadi::Matrix&lt; double &gt;::print_default</a></div><div class="ttdeci">static void print_default(std::ostream &amp;stream, const Sparsity &amp;sp, const double *nonzeros, bool truncate=true)</div><div class="ttdoc">Print default style.</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/df9/matrix__impl_8hpp_source.html#l00896">matrix_impl.hpp:703</a></div></div>
<div class="ttc" id="aclasscasadi_1_1Matrix_html_a492d2a71d0922a88e8affe4cc9ccc679"><div class="ttname"><a href="../../da/d45/classcasadi_1_1Matrix.html#a492d2a71d0922a88e8affe4cc9ccc679">casadi::Matrix::export_code</a></div><div class="ttdeci">void export_code(const std::string &amp;lang, std::ostream &amp;stream=casadi::uout(), const Dict &amp;options=Dict()) const</div><div class="ttdoc">Export matrix in specific language.</div></div>
<div class="ttc" id="aclasscasadi_1_1Output_html"><div class="ttname"><a href="../../df/da2/classcasadi_1_1Output.html">casadi::Output</a></div><div class="ttdoc">Input instruction.</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/db8/io__instruction_8hpp_source.html#l00124">io_instruction.hpp:124</a></div></div>
<div class="ttc" id="aclasscasadi_1_1ProtoFunction_html"><div class="ttname"><a href="../../db/da0/classcasadi_1_1ProtoFunction.html">casadi::ProtoFunction</a></div><div class="ttdoc">Base class for FunctionInternal and LinsolInternal.</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d4f/function__internal_8hpp_source.html#l00092">function_internal.hpp:92</a></div></div>
<div class="ttc" id="aclasscasadi_1_1ProtoFunction_html_a53d1e8f2784eb9e5cb8b9f66d68a8840"><div class="ttname"><a href="../../db/da0/classcasadi_1_1ProtoFunction.html#a53d1e8f2784eb9e5cb8b9f66d68a8840">casadi::ProtoFunction::name_</a></div><div class="ttdeci">std::string name_</div><div class="ttdoc">Name.</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d4f/function__internal_8hpp_source.html#l00234">function_internal.hpp:234</a></div></div>
<div class="ttc" id="aclasscasadi_1_1ProtoFunction_html_a67996f836bfcf561b437f892ec93e163"><div class="ttname"><a href="../../db/da0/classcasadi_1_1ProtoFunction.html#a67996f836bfcf561b437f892ec93e163">casadi::ProtoFunction::get_stats</a></div><div class="ttdeci">virtual Dict get_stats(void *mem) const</div><div class="ttdoc">Get all statistics.</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/db4/function__internal_8cpp_source.html#l02816">function_internal.cpp:2816</a></div></div>
<div class="ttc" id="aclasscasadi_1_1ProtoFunction_html_a83a58f033fda51a76e1c390019f68d7a"><div class="ttname"><a href="../../db/da0/classcasadi_1_1ProtoFunction.html#a83a58f033fda51a76e1c390019f68d7a">casadi::ProtoFunction::verbose_</a></div><div class="ttdeci">bool verbose_</div><div class="ttdoc">Verbose printout.</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d4f/function__internal_8hpp_source.html#l00237">function_internal.hpp:237</a></div></div>
<div class="ttc" id="aclasscasadi_1_1ProtoFunction_html_ae169c4425f730d48db91c17abd17a135"><div class="ttname"><a href="../../db/da0/classcasadi_1_1ProtoFunction.html#ae169c4425f730d48db91c17abd17a135">casadi::ProtoFunction::clear_mem</a></div><div class="ttdeci">void clear_mem()</div><div class="ttdoc">Clear all memory (called from destructor)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/db4/function__internal_8cpp_source.html#l03389">function_internal.cpp:3389</a></div></div>
<div class="ttc" id="aclasscasadi_1_1SXElem_html"><div class="ttname"><a href="../../d0/d06/classcasadi_1_1SXElem.html">casadi::SXElem</a></div><div class="ttdoc">The basic scalar symbolic class of CasADi.</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d5b/sx__elem_8hpp_source.html#l00065">sx_elem.hpp:66</a></div></div>
<div class="ttc" id="aclasscasadi_1_1SerializingStream_html"><div class="ttname"><a href="../../d1/d00/classcasadi_1_1SerializingStream.html">casadi::SerializingStream</a></div><div class="ttdoc">Helper class for Serialization.</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d45/serializing__stream_8hpp_source.html#l00205">serializing_stream.hpp:205</a></div></div>
<div class="ttc" id="aclasscasadi_1_1SerializingStream_html_a12e0a215391c4b517f60e074520aaf07"><div class="ttname"><a href="../../d1/d00/classcasadi_1_1SerializingStream.html#a12e0a215391c4b517f60e074520aaf07">casadi::SerializingStream::version</a></div><div class="ttdeci">void version(const std::string &amp;name, int v)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d62/serializing__stream_8cpp_source.html#l00357">serializing_stream.cpp:357</a></div></div>
<div class="ttc" id="aclasscasadi_1_1SerializingStream_html_a4fd154fddcaeb3be4cc8690e59b35a4e"><div class="ttname"><a href="../../d1/d00/classcasadi_1_1SerializingStream.html#a4fd154fddcaeb3be4cc8690e59b35a4e">casadi::SerializingStream::pack</a></div><div class="ttdeci">void pack(const Sparsity &amp;e)</div><div class="ttdoc">Serializes an object to the output stream.</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d62/serializing__stream_8cpp_source.html#l00213">serializing_stream.cpp:213</a></div></div>
<div class="ttc" id="aclasscasadi_1_1SharedObject_html_a02941134f82aa5eb7c14e83fb475c4c0"><div class="ttname"><a href="../../d5/d4a/classcasadi_1_1SharedObject.html#a02941134f82aa5eb7c14e83fb475c4c0">casadi::SharedObject::class_name</a></div><div class="ttdeci">std::string class_name() const</div><div class="ttdoc">Get class name.</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d38/shared__object_8cpp_source.html#l00099">shared_object.cpp:99</a></div></div>
<div class="ttc" id="aclasscasadi_1_1SharedObject_html_a18ebf8667e35f369e9a3ec001e06e28f"><div class="ttname"><a href="../../d5/d4a/classcasadi_1_1SharedObject.html#a18ebf8667e35f369e9a3ec001e06e28f">casadi::SharedObject::own</a></div><div class="ttdeci">void own(SharedObjectInternal *node)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d38/shared__object_8cpp_source.html#l00046">shared_object.cpp:46</a></div></div>
<div class="ttc" id="aclasscasadi_1_1SharedObject_html_a2d6952169894b2d43694a7577252bdfc"><div class="ttname"><a href="../../d5/d4a/classcasadi_1_1SharedObject.html#a2d6952169894b2d43694a7577252bdfc">casadi::SharedObject::is_null</a></div><div class="ttdeci">bool is_null() const</div><div class="ttdoc">Is a null pointer?</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d38/shared__object_8cpp_source.html#l00073">shared_object.cpp:73</a></div></div>
<div class="ttc" id="aclasscasadi_1_1Sparsity_html_ab55004cb23a1c51a581842e2887d9b7a"><div class="ttname"><a href="../../d5/da8/classcasadi_1_1Sparsity.html#ab55004cb23a1c51a581842e2887d9b7a">casadi::Sparsity::export_code</a></div><div class="ttdeci">void export_code(const std::string &amp;lang, std::ostream &amp;stream=casadi::uout(), const Dict &amp;options=Dict()) const</div><div class="ttdoc">Export matrix in specific language.</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d65/sparsity_8cpp_source.html#l00777">sparsity.cpp:777</a></div></div>
<div class="ttc" id="aclasscasadi_1_1XFunction_html"><div class="ttname"><a href="../../d7/d72/classcasadi_1_1XFunction.html">casadi::XFunction</a></div><div class="ttdoc">Internal node class for the base class of SXFunction and MXFunction.</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/de5/x__function_8hpp_source.html#l00057">x_function.hpp:57</a></div></div>
<div class="ttc" id="aclasscasadi_1_1XFunction_html_a101358270be8d42a155edc39d927d6f3"><div class="ttname"><a href="../../d7/d72/classcasadi_1_1XFunction.html#a101358270be8d42a155edc39d927d6f3">casadi::XFunction&lt; MXFunction, MX, MXNode &gt;::out_</a></div><div class="ttdeci">std::vector&lt; MX &gt; out_</div><div class="ttdoc">Outputs of the function (needed for symbolic calculations)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/de5/x__function_8hpp_source.html#l00258">x_function.hpp:258</a></div></div>
<div class="ttc" id="aclasscasadi_1_1XFunction_html_a2d86720c0a070914b1a932bb2192e350"><div class="ttname"><a href="../../d7/d72/classcasadi_1_1XFunction.html#a2d86720c0a070914b1a932bb2192e350">casadi::XFunction::delayed_deserialize_members</a></div><div class="ttdeci">void delayed_deserialize_members(DeserializingStream &amp;s)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/de5/x__function_8hpp_source.html#l00294">x_function.hpp:295</a></div></div>
<div class="ttc" id="aclasscasadi_1_1XFunction_html_a7fe0d25fa935f309b4ad4894caa49760"><div class="ttname"><a href="../../d7/d72/classcasadi_1_1XFunction.html#a7fe0d25fa935f309b4ad4894caa49760">casadi::XFunction::init</a></div><div class="ttdeci">void init(const Dict &amp;opts) override</div><div class="ttdoc">Initialize.</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/de5/x__function_8hpp_source.html#l00315">x_function.hpp:315</a></div></div>
<div class="ttc" id="aclasscasadi_1_1XFunction_html_aa49176a260bdc640cef32292f6bff7af"><div class="ttname"><a href="../../d7/d72/classcasadi_1_1XFunction.html#aa49176a260bdc640cef32292f6bff7af">casadi::XFunction&lt; MXFunction, MX, MXNode &gt;::isInput</a></div><div class="ttdeci">virtual bool isInput(const std::vector&lt; MX &gt; &amp;arg) const</div><div class="ttdoc">Helper function: Check if a vector equals ex_in.</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/de5/x__function_8hpp_source.html#l00189">x_function.hpp:1060</a></div></div>
<div class="ttc" id="aclasscasadi_1_1XFunction_html_abbdc6a6d3bb13c1a3e2c21e74648da3a"><div class="ttname"><a href="../../d7/d72/classcasadi_1_1XFunction.html#abbdc6a6d3bb13c1a3e2c21e74648da3a">casadi::XFunction&lt; MXFunction, MX, MXNode &gt;::in_</a></div><div class="ttdeci">std::vector&lt; MX &gt; in_</div><div class="ttdoc">Inputs of the function (needed for symbolic calculations)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/de5/x__function_8hpp_source.html#l00253">x_function.hpp:253</a></div></div>
<div class="ttc" id="aclasscasadi_1_1XFunction_html_ad97f610acc9243c694c3ab2143a821e5"><div class="ttname"><a href="../../d7/d72/classcasadi_1_1XFunction.html#ad97f610acc9243c694c3ab2143a821e5">casadi::XFunction::delayed_serialize_members</a></div><div class="ttdeci">void delayed_serialize_members(SerializingStream &amp;s) const</div><div class="ttdoc">Helper functions to avoid recursion limit.</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/de5/x__function_8hpp_source.html#l00300">x_function.hpp:301</a></div></div>
<div class="ttc" id="aclasscasadi_1_1XFunction_html_ae9f8bb4bbd4d5d250e82b36e81a57cc9"><div class="ttname"><a href="../../d7/d72/classcasadi_1_1XFunction.html#ae9f8bb4bbd4d5d250e82b36e81a57cc9">casadi::XFunction::serialize_body</a></div><div class="ttdeci">void serialize_body(SerializingStream &amp;s) const override</div><div class="ttdoc">Serialize an object without type information.</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/de5/x__function_8hpp_source.html#l00306">x_function.hpp:307</a></div></div>
<div class="ttc" id="aclasscasadi_1_1XFunction_html_af4e73ad0f163fd02355960bd7ceb19ad"><div class="ttname"><a href="../../d7/d72/classcasadi_1_1XFunction.html#af4e73ad0f163fd02355960bd7ceb19ad">casadi::XFunction&lt; MXFunction, MX, MXNode &gt;::sort_depth_first</a></div><div class="ttdeci">static void sort_depth_first(std::stack&lt; MXNode * &gt; &amp;s, std::vector&lt; MXNode * &gt; &amp;nodes)</div><div class="ttdoc">Topological sorting of the nodes based on Depth-First Search (DFS)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/de5/x__function_8hpp_source.html#l00089">x_function.hpp:387</a></div></div>
<div class="ttc" id="anamespacecasadi_html"><div class="ttname"><a href="../../d7/d23/namespacecasadi.html">casadi</a></div><div class="ttdoc">The casadi namespace.</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/da2/assertion_8cpp_source.html#l00029">assertion.cpp:29</a></div></div>
<div class="ttc" id="anamespacecasadi_html_a0607db4c271ea44cc6c7f49be3c895fd"><div class="ttname"><a href="../../d7/d23/namespacecasadi.html#a0607db4c271ea44cc6c7f49be3c895fd">casadi::is_equal</a></div><div class="ttdeci">bool is_equal(double x, double y, casadi_int depth=0)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d90/calculus_8hpp_source.html#l00281">calculus.hpp:281</a></div></div>
<div class="ttc" id="anamespacecasadi_html_a0711bde4b270ae67bbb343190cf73456"><div class="ttname"><a href="../../d7/d23/namespacecasadi.html#a0711bde4b270ae67bbb343190cf73456">casadi::range</a></div><div class="ttdeci">std::vector&lt; casadi_int &gt; range(casadi_int start, casadi_int stop, casadi_int step, casadi_int len)</div><div class="ttdoc">Range function.</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/da7/casadi__misc_8cpp_source.html#l00103">casadi_misc.cpp:103</a></div></div>
<div class="ttc" id="anamespacecasadi_html_a15db33597e365a0341785d1cb058771c"><div class="ttname"><a href="../../d7/d23/namespacecasadi.html#a15db33597e365a0341785d1cb058771c">casadi::join</a></div><div class="ttdeci">std::string join(const std::vector&lt; std::string &gt; &amp;l, const std::string &amp;delim)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/da7/casadi__misc_8cpp_source.html#l00271">casadi_misc.cpp:271</a></div></div>
<div class="ttc" id="anamespacecasadi_html_a2a4a055a89130bf00eceb9008c5ecd37"><div class="ttname"><a href="../../d7/d23/namespacecasadi.html#a2a4a055a89130bf00eceb9008c5ecd37">casadi::bvec_t</a></div><div class="ttdeci">unsigned long long bvec_t</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d59/casadi__common_8hpp_source.html#l00125">casadi_common.hpp:76</a></div></div>
<div class="ttc" id="anamespacecasadi_html_a746c394d3baa8e4be2ab21cebff17077"><div class="ttname"><a href="../../d7/d23/namespacecasadi.html#a746c394d3baa8e4be2ab21cebff17077">casadi::MXVector</a></div><div class="ttdeci">std::vector&lt; MX &gt; MXVector</div><div class="ttdef"><b>Definition:</b> <a href="../../db/dc6/mx_8hpp_source.html#l00930">mx.hpp:930</a></div></div>
<div class="ttc" id="anamespacecasadi_html_a74a07d00866ce86187cc0f081d340015ab443a65f334c43316aa16dea55e65960"><div class="ttname"><a href="../../d7/d23/namespacecasadi.html#a74a07d00866ce86187cc0f081d340015ab443a65f334c43316aa16dea55e65960">casadi::OT_BOOL</a></div><div class="ttdeci">@ OT_BOOL</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d30/generic__type_8hpp_source.html#l00045">generic_type.hpp:45</a></div></div>
<div class="ttc" id="anamespacecasadi_html_a74a07d00866ce86187cc0f081d340015ac06f59cf6da05161b5feaf28ae9b78a3"><div class="ttname"><a href="../../d7/d23/namespacecasadi.html#a74a07d00866ce86187cc0f081d340015ac06f59cf6da05161b5feaf28ae9b78a3">casadi::OT_DOUBLEVECTOR</a></div><div class="ttdeci">@ OT_DOUBLEVECTOR</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d30/generic__type_8hpp_source.html#l00052">generic_type.hpp:52</a></div></div>
<div class="ttc" id="anamespacecasadi_html_a88082fbf80560c888949bb765d9ccea0"><div class="ttname"><a href="../../d7/d23/namespacecasadi.html#a88082fbf80560c888949bb765d9ccea0">casadi::str</a></div><div class="ttdeci">std::string str(const T &amp;v)</div><div class="ttdoc">String representation, any type.</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d59/casadi__common_8hpp_source.html#l00243">casadi_common.hpp:243</a></div></div>
<div class="ttc" id="anamespacecasadi_html_a8b909f6932a91230738731512b99127e"><div class="ttname"><a href="../../d7/d23/namespacecasadi.html#a8b909f6932a91230738731512b99127e">casadi::Dict</a></div><div class="ttdeci">GenericType::Dict Dict</div><div class="ttdoc">C++ equivalent of Python's dict or MATLAB's struct.</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d30/generic__type_8hpp_source.html#l00234">generic_type.hpp:234</a></div></div>
<div class="ttc" id="anamespacecasadi_html_ac09c0efbef523dbe0a36546b832d32d5"><div class="ttname"><a href="../../d7/d23/namespacecasadi.html#ac09c0efbef523dbe0a36546b832d32d5">casadi::get_ptr</a></div><div class="ttdeci">T * get_ptr(std::vector&lt; T &gt; &amp;v)</div><div class="ttdoc">Get a pointer to the data contained in the vector.</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d18/casadi__misc_8hpp_source.html#l00798">casadi_misc.hpp:798</a></div></div>
<div class="ttc" id="anamespacecasadi_html_ac990d74f5f749e7a2ee6e635d1f6ba8d"><div class="ttname"><a href="../../d7/d23/namespacecasadi.html#ac990d74f5f749e7a2ee6e635d1f6ba8d">casadi::is_zero</a></div><div class="ttdeci">bool is_zero(const T &amp;x)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d6b/casadi__limits_8hpp_source.html#l00087">casadi_limits.hpp:87</a></div></div>
<div class="ttc" id="anamespacecasadi_html_af24bd1ac16f9be39dd0fbc56646e2115"><div class="ttname"><a href="../../d7/d23/namespacecasadi.html#af24bd1ac16f9be39dd0fbc56646e2115">casadi::uout</a></div><div class="ttdeci">std::ostream &amp; uout()</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dd5/casadi__logger_8cpp_source.html#l00061">casadi_logger.cpp:61</a></div></div>
<div class="ttc" id="anamespacecasadi_html_af35251805e44185cb1f079ec41808618a00d5a8cdf45efa665e55bad6098e80a6"><div class="ttname"><a href="../../d7/d23/namespacecasadi.html#af35251805e44185cb1f079ec41808618a00d5a8cdf45efa665e55bad6098e80a6">casadi::OP_DIAGCAT</a></div><div class="ttdeci">@ OP_DIAGCAT</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d90/calculus_8hpp_source.html#l00130">calculus.hpp:130</a></div></div>
<div class="ttc" id="anamespacecasadi_html_af35251805e44185cb1f079ec41808618a0a6691bc64f43186bd88de1244bab66a"><div class="ttname"><a href="../../d7/d23/namespacecasadi.html#af35251805e44185cb1f079ec41808618a0a6691bc64f43186bd88de1244bab66a">casadi::OP_NE</a></div><div class="ttdeci">@ OP_NE</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d90/calculus_8hpp_source.html#l00070">calculus.hpp:70</a></div></div>
<div class="ttc" id="anamespacecasadi_html_af35251805e44185cb1f079ec41808618a0c1956b0427128c496c01945cef322ac"><div class="ttname"><a href="../../d7/d23/namespacecasadi.html#af35251805e44185cb1f079ec41808618a0c1956b0427128c496c01945cef322ac">casadi::OP_HORZCAT</a></div><div class="ttdeci">@ OP_HORZCAT</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d90/calculus_8hpp_source.html#l00124">calculus.hpp:124</a></div></div>
<div class="ttc" id="anamespacecasadi_html_af35251805e44185cb1f079ec41808618a12397fccb494534bf9279ef38f02ecb8"><div class="ttname"><a href="../../d7/d23/namespacecasadi.html#af35251805e44185cb1f079ec41808618a12397fccb494534bf9279ef38f02ecb8">casadi::OP_VERTCAT</a></div><div class="ttdeci">@ OP_VERTCAT</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d90/calculus_8hpp_source.html#l00127">calculus.hpp:127</a></div></div>
<div class="ttc" id="anamespacecasadi_html_af35251805e44185cb1f079ec41808618a2c9e120bf19b3bce6fcafdbbf22d4ddf"><div class="ttname"><a href="../../d7/d23/namespacecasadi.html#af35251805e44185cb1f079ec41808618a2c9e120bf19b3bce6fcafdbbf22d4ddf">casadi::OP_IF_ELSE_ZERO</a></div><div class="ttdeci">@ OP_IF_ELSE_ZERO</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d90/calculus_8hpp_source.html#l00071">calculus.hpp:71</a></div></div>
<div class="ttc" id="anamespacecasadi_html_af35251805e44185cb1f079ec41808618a2de3e0663c2a2dc88fd63fa5f48b1a21"><div class="ttname"><a href="../../d7/d23/namespacecasadi.html#af35251805e44185cb1f079ec41808618a2de3e0663c2a2dc88fd63fa5f48b1a21">casadi::OP_MMAX</a></div><div class="ttdeci">@ OP_MMAX</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d90/calculus_8hpp_source.html#l00181">calculus.hpp:181</a></div></div>
<div class="ttc" id="anamespacecasadi_html_af35251805e44185cb1f079ec41808618a3145a807c6a4dd1193afb8c2d474c712"><div class="ttname"><a href="../../d7/d23/namespacecasadi.html#af35251805e44185cb1f079ec41808618a3145a807c6a4dd1193afb8c2d474c712">casadi::OP_AND</a></div><div class="ttdeci">@ OP_AND</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d90/calculus_8hpp_source.html#l00070">calculus.hpp:70</a></div></div>
<div class="ttc" id="anamespacecasadi_html_af35251805e44185cb1f079ec41808618a4b0f940c108c1f324eda7b14031e4263"><div class="ttname"><a href="../../d7/d23/namespacecasadi.html#af35251805e44185cb1f079ec41808618a4b0f940c108c1f324eda7b14031e4263">casadi::OP_INV</a></div><div class="ttdeci">@ OP_INV</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d90/calculus_8hpp_source.html#l00073">calculus.hpp:73</a></div></div>
<div class="ttc" id="anamespacecasadi_html_af35251805e44185cb1f079ec41808618a4f377b56366a3777cd700322b8545796"><div class="ttname"><a href="../../d7/d23/namespacecasadi.html#af35251805e44185cb1f079ec41808618a4f377b56366a3777cd700322b8545796">casadi::OP_INVERSE</a></div><div class="ttdeci">@ OP_INVERSE</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d90/calculus_8hpp_source.html#l00112">calculus.hpp:112</a></div></div>
<div class="ttc" id="anamespacecasadi_html_af35251805e44185cb1f079ec41808618a521a7c58943e1b877b6e73d79948cb68"><div class="ttname"><a href="../../d7/d23/namespacecasadi.html#af35251805e44185cb1f079ec41808618a521a7c58943e1b877b6e73d79948cb68">casadi::OP_OUTPUT</a></div><div class="ttdeci">@ OP_OUTPUT</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d90/calculus_8hpp_source.html#l00082">calculus.hpp:82</a></div></div>
<div class="ttc" id="anamespacecasadi_html_af35251805e44185cb1f079ec41808618a5233f2e111c8ffaffae810371114a332"><div class="ttname"><a href="../../d7/d23/namespacecasadi.html#af35251805e44185cb1f079ec41808618a5233f2e111c8ffaffae810371114a332">casadi::OP_MMIN</a></div><div class="ttdeci">@ OP_MMIN</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d90/calculus_8hpp_source.html#l00181">calculus.hpp:181</a></div></div>
<div class="ttc" id="anamespacecasadi_html_af35251805e44185cb1f079ec41808618a57f738c33195d7584f5dc03215625f4a"><div class="ttname"><a href="../../d7/d23/namespacecasadi.html#af35251805e44185cb1f079ec41808618a57f738c33195d7584f5dc03215625f4a">casadi::OP_SETNONZEROS</a></div><div class="ttdeci">@ OP_SETNONZEROS</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d90/calculus_8hpp_source.html#l00163">calculus.hpp:163</a></div></div>
<div class="ttc" id="anamespacecasadi_html_af35251805e44185cb1f079ec41808618a627a458a86449ec38ceb8099959059f8"><div class="ttname"><a href="../../d7/d23/namespacecasadi.html#af35251805e44185cb1f079ec41808618a627a458a86449ec38ceb8099959059f8">casadi::OP_VERTSPLIT</a></div><div class="ttdeci">@ OP_VERTSPLIT</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d90/calculus_8hpp_source.html#l00136">calculus.hpp:136</a></div></div>
<div class="ttc" id="anamespacecasadi_html_af35251805e44185cb1f079ec41808618a69909c231708b235ccc215d93ca907f8"><div class="ttname"><a href="../../d7/d23/namespacecasadi.html#af35251805e44185cb1f079ec41808618a69909c231708b235ccc215d93ca907f8">casadi::OP_CONST</a></div><div class="ttdeci">@ OP_CONST</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d90/calculus_8hpp_source.html#l00079">calculus.hpp:79</a></div></div>
<div class="ttc" id="anamespacecasadi_html_af35251805e44185cb1f079ec41808618a699431a5102a4b2b6184cc85719144cc"><div class="ttname"><a href="../../d7/d23/namespacecasadi.html#af35251805e44185cb1f079ec41808618a699431a5102a4b2b6184cc85719144cc">casadi::OP_OR</a></div><div class="ttdeci">@ OP_OR</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d90/calculus_8hpp_source.html#l00070">calculus.hpp:70</a></div></div>
<div class="ttc" id="anamespacecasadi_html_af35251805e44185cb1f079ec41808618a6f668b51d4c8d9742fcbe05fbce09c44"><div class="ttname"><a href="../../d7/d23/namespacecasadi.html#af35251805e44185cb1f079ec41808618a6f668b51d4c8d9742fcbe05fbce09c44">casadi::OP_TWICE</a></div><div class="ttdeci">@ OP_TWICE</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d90/calculus_8hpp_source.html#l00067">calculus.hpp:67</a></div></div>
<div class="ttc" id="anamespacecasadi_html_af35251805e44185cb1f079ec41808618a772d0d4a7fe8303114d42995378698d1"><div class="ttname"><a href="../../d7/d23/namespacecasadi.html#af35251805e44185cb1f079ec41808618a772d0d4a7fe8303114d42995378698d1">casadi::OP_INPUT</a></div><div class="ttdeci">@ OP_INPUT</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d90/calculus_8hpp_source.html#l00082">calculus.hpp:82</a></div></div>
<div class="ttc" id="anamespacecasadi_html_af35251805e44185cb1f079ec41808618a78e204f531e29e46946d6f51bc81ef6e"><div class="ttname"><a href="../../d7/d23/namespacecasadi.html#af35251805e44185cb1f079ec41808618a78e204f531e29e46946d6f51bc81ef6e">casadi::OP_LIFT</a></div><div class="ttdeci">@ OP_LIFT</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d90/calculus_8hpp_source.html#l00191">calculus.hpp:191</a></div></div>
<div class="ttc" id="anamespacecasadi_html_af35251805e44185cb1f079ec41808618a96702b1a301db332206bba294d3ef2f3"><div class="ttname"><a href="../../d7/d23/namespacecasadi.html#af35251805e44185cb1f079ec41808618a96702b1a301db332206bba294d3ef2f3">casadi::OP_DETERMINANT</a></div><div class="ttdeci">@ OP_DETERMINANT</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d90/calculus_8hpp_source.html#l00109">calculus.hpp:109</a></div></div>
<div class="ttc" id="anamespacecasadi_html_af35251805e44185cb1f079ec41808618a9886752fdc7d8aa6c7b38fe236607bd9"><div class="ttname"><a href="../../d7/d23/namespacecasadi.html#af35251805e44185cb1f079ec41808618a9886752fdc7d8aa6c7b38fe236607bd9">casadi::OP_DOT</a></div><div class="ttdeci">@ OP_DOT</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d90/calculus_8hpp_source.html#l00115">calculus.hpp:115</a></div></div>
<div class="ttc" id="anamespacecasadi_html_af35251805e44185cb1f079ec41808618aa57f125fed4de46111b67951fd655174"><div class="ttname"><a href="../../d7/d23/namespacecasadi.html#af35251805e44185cb1f079ec41808618aa57f125fed4de46111b67951fd655174">casadi::OP_POW</a></div><div class="ttdeci">@ OP_POW</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d90/calculus_8hpp_source.html#l00066">calculus.hpp:66</a></div></div>
<div class="ttc" id="anamespacecasadi_html_af35251805e44185cb1f079ec41808618aa69d7a46b557afba0b5f4097dd06a5e6"><div class="ttname"><a href="../../d7/d23/namespacecasadi.html#af35251805e44185cb1f079ec41808618aa69d7a46b557afba0b5f4097dd06a5e6">casadi::OP_PROJECT</a></div><div class="ttdeci">@ OP_PROJECT</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d90/calculus_8hpp_source.html#l00169">calculus.hpp:169</a></div></div>
<div class="ttc" id="anamespacecasadi_html_af35251805e44185cb1f079ec41808618aa9fc3b6305436a56448db554811fdc33"><div class="ttname"><a href="../../d7/d23/namespacecasadi.html#af35251805e44185cb1f079ec41808618aa9fc3b6305436a56448db554811fdc33">casadi::OP_ADDNONZEROS</a></div><div class="ttdeci">@ OP_ADDNONZEROS</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d90/calculus_8hpp_source.html#l00157">calculus.hpp:157</a></div></div>
<div class="ttc" id="anamespacecasadi_html_af35251805e44185cb1f079ec41808618aae6785283527a2b4903fa3aa9f56d3d6"><div class="ttname"><a href="../../d7/d23/namespacecasadi.html#af35251805e44185cb1f079ec41808618aae6785283527a2b4903fa3aa9f56d3d6">casadi::OP_PARAMETER</a></div><div class="ttdeci">@ OP_PARAMETER</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d90/calculus_8hpp_source.html#l00085">calculus.hpp:85</a></div></div>
<div class="ttc" id="anamespacecasadi_html_af35251805e44185cb1f079ec41808618ab13a6ad52a2054f2916d22e266c1940d"><div class="ttname"><a href="../../d7/d23/namespacecasadi.html#af35251805e44185cb1f079ec41808618ab13a6ad52a2054f2916d22e266c1940d">casadi::OP_FABS</a></div><div class="ttdeci">@ OP_FABS</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d90/calculus_8hpp_source.html#l00071">calculus.hpp:71</a></div></div>
<div class="ttc" id="anamespacecasadi_html_af35251805e44185cb1f079ec41808618ab1fb9c58be1cd5e79ecf118898a6eee2"><div class="ttname"><a href="../../d7/d23/namespacecasadi.html#af35251805e44185cb1f079ec41808618ab1fb9c58be1cd5e79ecf118898a6eee2">casadi::OP_BILIN</a></div><div class="ttdeci">@ OP_BILIN</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d90/calculus_8hpp_source.html#l00118">calculus.hpp:118</a></div></div>
<div class="ttc" id="anamespacecasadi_html_af35251805e44185cb1f079ec41808618ab2813a17e802e80f710a369303b5b02b"><div class="ttname"><a href="../../d7/d23/namespacecasadi.html#af35251805e44185cb1f079ec41808618ab2813a17e802e80f710a369303b5b02b">casadi::OP_MTIMES</a></div><div class="ttdeci">@ OP_MTIMES</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d90/calculus_8hpp_source.html#l00100">calculus.hpp:100</a></div></div>
<div class="ttc" id="anamespacecasadi_html_af35251805e44185cb1f079ec41808618ab4de6e3bb0d1bcc50c3c6fc724746054"><div class="ttname"><a href="../../d7/d23/namespacecasadi.html#af35251805e44185cb1f079ec41808618ab4de6e3bb0d1bcc50c3c6fc724746054">casadi::OP_NORM1</a></div><div class="ttdeci">@ OP_NORM1</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d90/calculus_8hpp_source.html#l00178">calculus.hpp:178</a></div></div>
<div class="ttc" id="anamespacecasadi_html_af35251805e44185cb1f079ec41808618ab6df634985573b1864384f28d4a0e670"><div class="ttname"><a href="../../d7/d23/namespacecasadi.html#af35251805e44185cb1f079ec41808618ab6df634985573b1864384f28d4a0e670">casadi::OP_CALL</a></div><div class="ttdeci">@ OP_CALL</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d90/calculus_8hpp_source.html#l00088">calculus.hpp:88</a></div></div>
<div class="ttc" id="anamespacecasadi_html_af35251805e44185cb1f079ec41808618aba91e8d788c5cf5891db3538d0569d83"><div class="ttname"><a href="../../d7/d23/namespacecasadi.html#af35251805e44185cb1f079ec41808618aba91e8d788c5cf5891db3538d0569d83">casadi::OP_NORM2</a></div><div class="ttdeci">@ OP_NORM2</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d90/calculus_8hpp_source.html#l00178">calculus.hpp:178</a></div></div>
<div class="ttc" id="anamespacecasadi_html_af35251805e44185cb1f079ec41808618abb6b0ecee8e0cd00b31d0e443acff2a8"><div class="ttname"><a href="../../d7/d23/namespacecasadi.html#af35251805e44185cb1f079ec41808618abb6b0ecee8e0cd00b31d0e443acff2a8">casadi::OP_RESHAPE</a></div><div class="ttdeci">@ OP_RESHAPE</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d90/calculus_8hpp_source.html#l00142">calculus.hpp:142</a></div></div>
<div class="ttc" id="anamespacecasadi_html_af35251805e44185cb1f079ec41808618abd1f367dcf5c6c8f2ca135efcfcc2312"><div class="ttname"><a href="../../d7/d23/namespacecasadi.html#af35251805e44185cb1f079ec41808618abd1f367dcf5c6c8f2ca135efcfcc2312">casadi::OP_DIV</a></div><div class="ttdeci">@ OP_DIV</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d90/calculus_8hpp_source.html#l00065">calculus.hpp:65</a></div></div>
<div class="ttc" id="anamespacecasadi_html_af35251805e44185cb1f079ec41808618abe7ed721dbdb24fe0a0fac0abcc81ed1"><div class="ttname"><a href="../../d7/d23/namespacecasadi.html#af35251805e44185cb1f079ec41808618abe7ed721dbdb24fe0a0fac0abcc81ed1">casadi::OP_TRANSPOSE</a></div><div class="ttdeci">@ OP_TRANSPOSE</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d90/calculus_8hpp_source.html#l00106">calculus.hpp:106</a></div></div>
<div class="ttc" id="anamespacecasadi_html_af35251805e44185cb1f079ec41808618abffce4d5fb9f65e83c9eeab42118ca09"><div class="ttname"><a href="../../d7/d23/namespacecasadi.html#af35251805e44185cb1f079ec41808618abffce4d5fb9f65e83c9eeab42118ca09">casadi::OP_SOLVE</a></div><div class="ttdeci">@ OP_SOLVE</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d90/calculus_8hpp_source.html#l00103">calculus.hpp:103</a></div></div>
<div class="ttc" id="anamespacecasadi_html_af35251805e44185cb1f079ec41808618ac7c7b33fc07c3e8071625ff6ba066551"><div class="ttname"><a href="../../d7/d23/namespacecasadi.html#af35251805e44185cb1f079ec41808618ac7c7b33fc07c3e8071625ff6ba066551">casadi::OP_RANK1</a></div><div class="ttdeci">@ OP_RANK1</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d90/calculus_8hpp_source.html#l00121">calculus.hpp:121</a></div></div>
<div class="ttc" id="anamespacecasadi_html_af35251805e44185cb1f079ec41808618ac89198dd21329047b754677c116f8d76"><div class="ttname"><a href="../../d7/d23/namespacecasadi.html#af35251805e44185cb1f079ec41808618ac89198dd21329047b754677c116f8d76">casadi::OP_CONSTPOW</a></div><div class="ttdeci">@ OP_CONSTPOW</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d90/calculus_8hpp_source.html#l00066">calculus.hpp:66</a></div></div>
<div class="ttc" id="anamespacecasadi_html_af35251805e44185cb1f079ec41808618acdb9594ad7fdd9fbf529051377171650"><div class="ttname"><a href="../../d7/d23/namespacecasadi.html#af35251805e44185cb1f079ec41808618acdb9594ad7fdd9fbf529051377171650">casadi::OP_NOT</a></div><div class="ttdeci">@ OP_NOT</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d90/calculus_8hpp_source.html#l00070">calculus.hpp:70</a></div></div>
<div class="ttc" id="anamespacecasadi_html_af35251805e44185cb1f079ec41808618ad13ccb640b60d4ade7342f3b4b2787c9"><div class="ttname"><a href="../../d7/d23/namespacecasadi.html#af35251805e44185cb1f079ec41808618ad13ccb640b60d4ade7342f3b4b2787c9">casadi::OP_MUL</a></div><div class="ttdeci">@ OP_MUL</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d90/calculus_8hpp_source.html#l00065">calculus.hpp:65</a></div></div>
<div class="ttc" id="anamespacecasadi_html_af35251805e44185cb1f079ec41808618ae8656d3a3edae3c746f47ff4d6d21706"><div class="ttname"><a href="../../d7/d23/namespacecasadi.html#af35251805e44185cb1f079ec41808618ae8656d3a3edae3c746f47ff4d6d21706">casadi::OP_HORZSPLIT</a></div><div class="ttdeci">@ OP_HORZSPLIT</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d90/calculus_8hpp_source.html#l00133">calculus.hpp:133</a></div></div>
<div class="ttc" id="anamespacecasadi_html_af35251805e44185cb1f079ec41808618aeffdd62d0ae84e4dc8e809a63edf5a03"><div class="ttname"><a href="../../d7/d23/namespacecasadi.html#af35251805e44185cb1f079ec41808618aeffdd62d0ae84e4dc8e809a63edf5a03">casadi::OP_SQ</a></div><div class="ttdeci">@ OP_SQ</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d90/calculus_8hpp_source.html#l00067">calculus.hpp:67</a></div></div>
<div class="ttc" id="anamespacecasadi_html_af35251805e44185cb1f079ec41808618af2d3a85eb387536fc0c1ec93a45160ba"><div class="ttname"><a href="../../d7/d23/namespacecasadi.html#af35251805e44185cb1f079ec41808618af2d3a85eb387536fc0c1ec93a45160ba">casadi::OP_NORMF</a></div><div class="ttdeci">@ OP_NORMF</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d90/calculus_8hpp_source.html#l00178">calculus.hpp:178</a></div></div>
<div class="ttc" id="anamespacecasadi_html_af35251805e44185cb1f079ec41808618af63e4c1b9a63bfa91a54d414859901ae"><div class="ttname"><a href="../../d7/d23/namespacecasadi.html#af35251805e44185cb1f079ec41808618af63e4c1b9a63bfa91a54d414859901ae">casadi::OP_GETNONZEROS</a></div><div class="ttdeci">@ OP_GETNONZEROS</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d90/calculus_8hpp_source.html#l00151">calculus.hpp:151</a></div></div>
<div class="ttc" id="anamespacecasadi_html_af35251805e44185cb1f079ec41808618afe22e0e6c4acf5256f1f3554b510dc58"><div class="ttname"><a href="../../d7/d23/namespacecasadi.html#af35251805e44185cb1f079ec41808618afe22e0e6c4acf5256f1f3554b510dc58">casadi::OP_NORMINF</a></div><div class="ttdeci">@ OP_NORMINF</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d90/calculus_8hpp_source.html#l00178">calculus.hpp:178</a></div></div>
<div class="ttc" id="astructcasadi_1_1MXAlgEl_html"><div class="ttname"><a href="../../d8/dd5/structcasadi_1_1MXAlgEl.html">casadi::MXAlgEl</a></div><div class="ttdoc">An element of the algorithm, namely an MX node.</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/deb/mx__function_8hpp_source.html#l00045">mx_function.hpp:45</a></div></div>
<div class="ttc" id="astructcasadi_1_1MXAlgEl_html_a0b28f7ab10ae3d3187d3888106d9bd03"><div class="ttname"><a href="../../d8/dd5/structcasadi_1_1MXAlgEl.html#a0b28f7ab10ae3d3187d3888106d9bd03">casadi::MXAlgEl::data</a></div><div class="ttdeci">MX data</div><div class="ttdoc">Data associated with the operation.</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/deb/mx__function_8hpp_source.html#l00050">mx_function.hpp:50</a></div></div>
<div class="ttc" id="astructcasadi_1_1MXAlgEl_html_a3c728ef892b2e33feb82ff7ac6d00163"><div class="ttname"><a href="../../d8/dd5/structcasadi_1_1MXAlgEl.html#a3c728ef892b2e33feb82ff7ac6d00163">casadi::MXAlgEl::arg</a></div><div class="ttdeci">std::vector&lt; casadi_int &gt; arg</div><div class="ttdoc">Work vector indices of the arguments.</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/deb/mx__function_8hpp_source.html#l00053">mx_function.hpp:53</a></div></div>
<div class="ttc" id="astructcasadi_1_1MXAlgEl_html_ae780834fa38d37587529b4c7e4825118"><div class="ttname"><a href="../../d8/dd5/structcasadi_1_1MXAlgEl.html#ae780834fa38d37587529b4c7e4825118">casadi::MXAlgEl::op</a></div><div class="ttdeci">casadi_int op</div><div class="ttdoc">Operator index.</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/deb/mx__function_8hpp_source.html#l00047">mx_function.hpp:47</a></div></div>
<div class="ttc" id="astructcasadi_1_1MXAlgEl_html_af8a229b7d9a8f119e2b13146bcd366d3"><div class="ttname"><a href="../../d8/dd5/structcasadi_1_1MXAlgEl.html#af8a229b7d9a8f119e2b13146bcd366d3">casadi::MXAlgEl::res</a></div><div class="ttdeci">std::vector&lt; casadi_int &gt; res</div><div class="ttdoc">Work vector indices of the results.</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/deb/mx__function_8hpp_source.html#l00056">mx_function.hpp:56</a></div></div>
<div class="ttc" id="astructcasadi_1_1Options_html"><div class="ttname"><a href="../../db/d35/structcasadi_1_1Options.html">casadi::Options</a></div><div class="ttdoc">Options metadata for a class.</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d95/options_8hpp_source.html#l00041">options.hpp:41</a></div></div>
<div class="ttc" id="astructcasadi_1_1casadi__math_html_a686a69105ced75da1d3b677a97740271"><div class="ttname"><a href="../../d2/d93/structcasadi_1_1casadi__math.html#a686a69105ced75da1d3b677a97740271">casadi::casadi_math::print</a></div><div class="ttdeci">static std::string print(unsigned char op, const std::string &amp;x, const std::string &amp;y)</div><div class="ttdoc">Print.</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d90/calculus_8hpp_source.html#l01586">calculus.hpp:1586</a></div></div>
</div><!-- fragment --></div><!-- contents -->
</body>
</html>
