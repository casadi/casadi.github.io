<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">

    
      <title>CasADi - Features</title>
    

    
    <link href="https://web.casadi.org/_css/font-awesome.min.css" rel="stylesheet">

    
    <link href="https://web.casadi.org/_css/bootstrap.min.css" rel="stylesheet">

    
    <link href="https://web.casadi.org/_css/pygments-default.css" rel="stylesheet">

    
    <link href="https://web.casadi.org/_css/casadi-theme.min.css" rel="stylesheet">

    <script type="text/x-mathjax-config">
      MathJax.Hub.Config({
        tex2jax: {
          inlineMath: [ ['$','$'], ['\\(','\\)'] ],
          displayMath: [ ['$$','$$'], ['\\[','\\]'] ],
          processEnvironments: false
        }
      });
    </script>

    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon" />
    <link rel="apple-touch-icon" href="/apple-touch-icon.png" />
  </head>

  <body>



<nav class="navbar fixed-top navbar-expand-lg nav-top">
  <div class="container">
    <a class="navbar-brand" href="https://web.casadi.org/"></a>
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavDropdown" aria-controls="navbarNavDropdown" aria-expanded="false" aria-label="Toggle navigation">
      <i class="fa fa-bars" aria-hidden="true"></i>
    </button>
    <div class="collapse navbar-collapse" id="navbarNavDropdown">
      <ul class="navbar-nav">
        
        
          
          <li class="nav-item active">
          
            <a class="nav-link" href="/">Home</a>
          </li>
        
          
          <li class="nav-item">
          
            <a class="nav-link" href="/get/">Try/Install</a>
          </li>
        
          
          <li class="nav-item">
          
            <a class="nav-link" href="/docs/">Docs</a>
          </li>
        
          
          <li class="nav-item">
          
            <a class="nav-link" href="/support/">Support</a>
          </li>
        
          
          <li class="nav-item">
          
            <a class="nav-link" href="/source/">Source</a>
          </li>
        
          
          <li class="nav-item">
          
            <a class="nav-link" href="/publications/">Publications</a>
          </li>
        
          
          <li class="nav-item">
          
            <a class="nav-link" href="/events/">Workshops</a>
          </li>
        
          
          <li class="nav-item">
          
            <a class="nav-link" href="/blog/">Blog</a>
          </li>
        
      </ul>
    </div>
  </div>
</nav>

<h2 class="text-center">Algorithmic Differentiation (AD)</h2>

<div class="row">
  <div class="col-md-6  text-left">
CasADi's backbone is a <a href="docs/#document-symbolic">symbolic framework</a> implementing forward and reverse mode of <a href="docs/#calculus-algorithmic differentiation">AD</a> on expression graphs to construct gradients, large-and-sparse Jacobians and Hessians.

These expression graphs, encapsulated in <a href="docs/#calling-function-objects">Function</a> objects, can be evaluated in a virtual machine or be <a href="docs/#generating-c-code">exported</a> to stand-alone C code.

  </div>

<div class="col-md-6">

<div class="multisnip text-left">
<div class="highlight">
<pre><code data-lang="example"></code></pre>

<figure class=" default">
  <a href="https://web.casadi.org/home/card-ad/../ad.png" target="_blank">
  
    <img src="https://web.casadi.org/home/card-ad/../ad.png"  />
  </a>
  
</figure>


</div>
<div class="highlight"><pre class="chroma"><code class="language-octave" data-lang="octave"><span class="n">import</span> <span class="n">casadi</span><span class="o">.*</span><span class="err">
</span><span class="err">
</span><span class="err">
</span><span class="err"></span><span class="c">% Create scalar/matrix symbols</span><span class="err">
</span><span class="err"></span><span class="n">x</span> <span class="p">=</span> <span class="n">MX</span><span class="p">.</span><span class="n">sym</span><span class="p">(</span><span class="s">&#39;x&#39;</span><span class="p">,</span><span class="mi">5</span><span class="p">);</span><span class="err">
</span><span class="err">
</span><span class="err"></span><span class="c">% Compose into expressions</span><span class="err">
</span><span class="err"></span><span class="n">y</span> <span class="p">=</span> <span class="nb">norm</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="mi">2</span><span class="p">);</span><span class="err">
</span><span class="err">
</span><span class="err"></span><span class="c">% Sensitivity of expression -&gt; new expression</span><span class="err">
</span><span class="err"></span><span class="n">grad_y</span> <span class="p">=</span> <span class="nb">gradient</span><span class="p">(</span><span class="n">y</span><span class="p">,</span><span class="n">x</span><span class="p">)</span><span class="err">
</span><span class="err">
</span><span class="err"></span><span class="c">% Create a Function to evaluate expression</span><span class="err">
</span><span class="err"></span><span class="n">f</span> <span class="p">=</span> <span class="n">Function</span><span class="p">(</span><span class="s">&#39;f&#39;</span><span class="p">,{</span><span class="n">x</span><span class="p">},{</span><span class="n">grad_y</span><span class="p">});</span><span class="err">
</span><span class="err">
</span><span class="err"></span><span class="c">% Evaluate numerically</span><span class="err">
</span><span class="err"></span><span class="n">grad_y_num</span> <span class="p">=</span> <span class="n">f</span><span class="p">([</span><span class="mi">1</span><span class="p">;</span><span class="mi">2</span><span class="p">;</span><span class="mi">3</span><span class="p">;</span><span class="mi">4</span><span class="p">;</span><span class="mi">5</span><span class="p">])</span></code></pre></div>
<div class="highlight"><pre class="chroma"><code class="language-python" data-lang="python"><span class="kn">from</span> <span class="nn">casadi</span> <span class="kn">import</span> <span class="o">*</span>


<span class="c1"># Create scalar/matrix symbols</span>
<span class="n">x</span> <span class="o">=</span> <span class="n">MX</span><span class="o">.</span><span class="n">sym</span><span class="p">(</span><span class="s1">&#39;x&#39;</span><span class="p">,</span><span class="mi">5</span><span class="p">)</span>

<span class="c1"># Compose into expressions</span>
<span class="n">y</span> <span class="o">=</span> <span class="n">norm_2</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>

<span class="c1"># Sensitivity of expression -&gt; new expression</span>
<span class="n">grad_y</span> <span class="o">=</span> <span class="n">gradient</span><span class="p">(</span><span class="n">y</span><span class="p">,</span><span class="n">x</span><span class="p">);</span>

<span class="c1"># Create a Function to evaluate expression</span>
<span class="n">f</span> <span class="o">=</span> <span class="n">Function</span><span class="p">(</span><span class="s1">&#39;f&#39;</span><span class="p">,[</span><span class="n">x</span><span class="p">],[</span><span class="n">grad_y</span><span class="p">])</span>

<span class="c1"># Evaluate numerically</span>
<span class="n">grad_y_num</span> <span class="o">=</span> <span class="n">f</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">]);</span></code></pre></div>
<div class="highlight"><pre class="chroma"><code class="language-cpp" data-lang="cpp"><span class="cp">#include</span> <span class="cpf">&lt;casadi/casadi.hpp&gt;</span><span class="cp">
</span><span class="cp"></span><span class="k">using</span> <span class="k">namespace</span> <span class="n">casadi</span><span class="p">;</span>

<span class="c1">// Create scalar/matrix symbols
</span><span class="c1"></span><span class="n">MX</span> <span class="n">x</span> <span class="o">=</span> <span class="n">MX</span><span class="o">::</span><span class="n">sym</span><span class="p">(</span><span class="s">&#34;x&#34;</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">1</span><span class="p">);</span>

<span class="c1">// Compose into expressions
</span><span class="c1"></span><span class="n">MX</span> <span class="n">y</span> <span class="o">=</span> <span class="n">norm_2</span><span class="p">(</span><span class="n">x</span><span class="p">);</span>

<span class="c1">// Sensitivity of expression -&gt; new expression
</span><span class="c1"></span><span class="n">MX</span> <span class="n">grad_y</span> <span class="o">=</span> <span class="n">gradient</span><span class="p">(</span><span class="n">y</span><span class="p">,</span><span class="n">x</span><span class="p">);</span>

<span class="c1">// Create a Function to evaluate expression
</span><span class="c1"></span><span class="n">Function</span> <span class="n">f</span> <span class="o">=</span> <span class="n">Function</span><span class="p">(</span><span class="s">&#34;f&#34;</span><span class="p">,{</span><span class="n">x</span><span class="p">},{</span><span class="n">grad_y</span><span class="p">});</span>

<span class="c1">// Evaluate numerically
</span><span class="c1"></span><span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="n">DM</span><span class="o">&gt;</span> <span class="n">grad_y_num</span> <span class="o">=</span> <span class="n">f</span><span class="p">(</span><span class="n">DM</span><span class="p">({</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">}));</span>
</code></pre></div>
</div>

<p></div>
</div></p>

    <footer>
      <div class="container">
        <div class="row justify-content-md-center">
          <div class="col-md-auto text-center">
            <ul id="social" class="list-inline">
              
                <li class="list-inline-item">
                  <a href="https://github.com/casadi/casadi" title="github">
                    <i class="fa fa-github"></i>
                  </a>
                </li>
              
                <li class="list-inline-item">
                  <a href="https://twitter.com/casadi_software" title="twitter">
                    <i class="fa fa-twitter"></i>
                  </a>
                </li>
              
                <li class="list-inline-item">
                  <a href="https://www.youtube.com/channel/UC3VDpv5Pi3R-a2VkcJN1RLw" title="youtube">
                    <i class="fa fa-youtube"></i>
                  </a>
                </li>
              
            </ul>
            <p class="copyright">Copyright 2018.</p>
          </div>
        </div>
      </div>
    </footer>

    
    <script type="text/javascript"
  src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>

    
    <script src="https://web.casadi.org/_js/bootstrap.min.js"></script>

    
    <script src="https://web.casadi.org/_js/scripts.js"></script>

    
    <script type="text/javascript" async
  src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.4/MathJax.js?config=TeX-AMS_CHTML">
</script>

    
  </body>

</html>

