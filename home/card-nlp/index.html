<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">

    
      <title>CasADi - Features</title>
    

    
    <link href="https://web.casadi.org/_css/font-awesome.min.css" rel="stylesheet">

    
    <link href="https://web.casadi.org/_css/bootstrap.min.css" rel="stylesheet">

    
    <link href="https://web.casadi.org/_css/pygments-default.css" rel="stylesheet">

    
    <link href="https://web.casadi.org/_css/casadi-theme.min.css" rel="stylesheet">

    <script type="text/x-mathjax-config">
      MathJax.Hub.Config({
        tex2jax: {
          inlineMath: [ ['$','$'], ['\\(','\\)'] ],
          displayMath: [ ['$$','$$'], ['\\[','\\]'] ],
          processEnvironments: false
        }
      });
    </script>

    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon" />
    <link rel="apple-touch-icon" href="/apple-touch-icon.png" />
  </head>

  <body>



<nav class="navbar fixed-top navbar-expand-lg nav-top">
  <div class="container">
    <a class="navbar-brand" href="https://web.casadi.org/"></a>
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavDropdown" aria-controls="navbarNavDropdown" aria-expanded="false" aria-label="Toggle navigation">
      <i class="fa fa-bars" aria-hidden="true"></i>
    </button>
    <div class="collapse navbar-collapse" id="navbarNavDropdown">
      <ul class="navbar-nav">
        
        
          
          <li class="nav-item active">
          
            <a class="nav-link" href="/">Home</a>
          </li>
        
          
          <li class="nav-item">
          
            <a class="nav-link" href="/get/">Try/Install</a>
          </li>
        
          
          <li class="nav-item">
          
            <a class="nav-link" href="/docs/">Docs</a>
          </li>
        
          
          <li class="nav-item">
          
            <a class="nav-link" href="/support/">Support</a>
          </li>
        
          
          <li class="nav-item">
          
            <a class="nav-link" href="/source/">Source</a>
          </li>
        
          
          <li class="nav-item">
          
            <a class="nav-link" href="/publications/">Publications</a>
          </li>
        
          
          <li class="nav-item">
          
            <a class="nav-link" href="/events/">Workshops</a>
          </li>
        
          
          <li class="nav-item">
          
            <a class="nav-link" href="/blog/">Blog</a>
          </li>
        
      </ul>
    </div>
  </div>
</nav>

<h2 class="text-center">Nonlinear and quadratic programming</h2>

<div class="row">
  <div class="col-md-6  text-left">
<p><a href="docs/#nonlinear-programming">Nonlinear programs</a> (NLPs), possibly with integer variables (MINLP), can be solved using block structure or general sparsity exploiting sequential quadratic programming (SQP) or interfaces to IPOPT/BONMIN, BlockSQP, WORHP, KNITRO and SNOPT. Solution <em>sensitivities</em>, up to arbitrary order, can be calculated analytically. <a href="docs/#quadratic-programming">Quadratic programs</a> (QPs), possibly with integer variables (MIQP), can be solved using a primal-dual active-set method [3] or interfaces to CPLEX, GUROBI, HPMPC, OOQP or qpOASES.<br />


<em>Problem class:</em>
$$
\begin{array}{cc}
\begin{array}{c}
\text{minimize:} \\
x
\end{array}
&
f(x,p)
\\
\begin{array}{c}
\text{subject to:}
\end{array}
&
\begin{array}{rcl}
  x_{\textrm{lb}} \le &  x   & \le x_{\textrm{ub}} \\
  g_{\textrm{lb}} \le &g(x,p)& \le g_{\textrm{ub}}
\end{array}
\end{array}
$$

</p>


</div>

<div class="col-md-6">

<div class="multisnip text-left">
<div class="highlight">
<pre><code data-lang="example"></code></pre>

$$
\begin{equation}
  \begin{array}{cl}
    \underset{\begin{array}{c}x, y, z\end{array}}{\text{minimize}} \quad &  x^2 + 100 \, z^2 \\
    \text{subject to} \quad &  z+(1-x)^2 - y = 0
  \end{array}
\end{equation}
$$
</div>
<div class="highlight"><pre class="chroma"><code class="language-octave" data-lang="octave"><span class="n">import</span> <span class="n">casadi</span><span class="o">.*</span><span class="err">
</span><span class="err">
</span><span class="err">
</span><span class="err"></span><span class="c">% Symbols/expressions</span><span class="err">
</span><span class="err"></span><span class="n">x</span> <span class="p">=</span> <span class="n">MX</span><span class="p">.</span><span class="n">sym</span><span class="p">(</span><span class="s">&#39;x&#39;</span><span class="p">);</span><span class="err">
</span><span class="err"></span><span class="n">y</span> <span class="p">=</span> <span class="n">MX</span><span class="p">.</span><span class="n">sym</span><span class="p">(</span><span class="s">&#39;y&#39;</span><span class="p">);</span><span class="err">
</span><span class="err"></span><span class="n">z</span> <span class="p">=</span> <span class="n">MX</span><span class="p">.</span><span class="n">sym</span><span class="p">(</span><span class="s">&#39;z&#39;</span><span class="p">);</span><span class="err">
</span><span class="err"></span><span class="n">f</span> <span class="p">=</span> <span class="n">x</span>^<span class="mi">2</span><span class="o">+</span><span class="mi">100</span><span class="o">*</span><span class="n">z</span>^<span class="mi">2</span><span class="p">;</span><span class="err">
</span><span class="err"></span><span class="n">g</span> <span class="p">=</span> <span class="n">z</span><span class="o">+</span><span class="p">(</span><span class="mi">1</span><span class="o">-</span><span class="n">x</span><span class="p">)</span>^<span class="mi">2</span><span class="o">-</span><span class="n">y</span><span class="p">;</span><span class="err">
</span><span class="err">
</span><span class="err"></span><span class="n">nlp</span> <span class="p">=</span> <span class="nb">struct</span><span class="p">;</span>            <span class="c">% NLP declaration</span><span class="err">
</span><span class="err"></span><span class="n">nlp</span><span class="p">.</span><span class="n">x</span> <span class="p">=</span> <span class="p">[</span><span class="n">x</span><span class="p">;</span><span class="n">y</span><span class="p">;</span><span class="n">z</span><span class="p">];</span>         <span class="c">% decision vars</span><span class="err">
</span><span class="err"></span><span class="n">nlp</span><span class="p">.</span><span class="n">f</span> <span class="p">=</span> <span class="n">f</span><span class="p">;</span>               <span class="c">% objective</span><span class="err">
</span><span class="err"></span><span class="n">nlp</span><span class="p">.</span><span class="n">g</span> <span class="p">=</span> <span class="n">g</span><span class="p">;</span>               <span class="c">% constraints</span><span class="err">
</span><span class="err">
</span><span class="err"></span><span class="c">% Create solver instance</span><span class="err">
</span><span class="err"></span><span class="n">F</span> <span class="p">=</span> <span class="n">nlpsol</span><span class="p">(</span><span class="s">&#39;F&#39;</span><span class="p">,</span><span class="s">&#39;ipopt&#39;</span><span class="p">,</span><span class="n">nlp</span><span class="p">);</span><span class="err">
</span><span class="err">
</span><span class="err"></span><span class="c">% Solve the problem using a guess</span><span class="err">
</span><span class="err"></span><span class="n">F</span><span class="p">(</span><span class="s">&#39;x0&#39;</span><span class="p">,[</span><span class="mf">2.5</span> <span class="mf">3.0</span> <span class="mf">0.75</span><span class="p">],</span><span class="s">&#39;ubg&#39;</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="s">&#39;lbg&#39;</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span></code></pre></div>
<div class="highlight"><pre class="chroma"><code class="language-python" data-lang="python"><span class="kn">from</span> <span class="nn">casadi</span> <span class="kn">import</span> <span class="o">*</span>


<span class="c1"># Symbols/expressions</span>
<span class="n">x</span> <span class="o">=</span> <span class="n">MX</span><span class="o">.</span><span class="n">sym</span><span class="p">(</span><span class="s1">&#39;x&#39;</span><span class="p">)</span>
<span class="n">y</span> <span class="o">=</span> <span class="n">MX</span><span class="o">.</span><span class="n">sym</span><span class="p">(</span><span class="s1">&#39;y&#39;</span><span class="p">)</span>
<span class="n">z</span> <span class="o">=</span> <span class="n">MX</span><span class="o">.</span><span class="n">sym</span><span class="p">(</span><span class="s1">&#39;z&#39;</span><span class="p">)</span>
<span class="n">f</span> <span class="o">=</span> <span class="n">x</span><span class="o">**</span><span class="mi">2</span><span class="o">+</span><span class="mi">100</span><span class="o">*</span><span class="n">z</span><span class="o">**</span><span class="mi">2</span>
<span class="n">g</span> <span class="o">=</span> <span class="n">z</span><span class="o">+</span><span class="p">(</span><span class="mi">1</span><span class="o">-</span><span class="n">x</span><span class="p">)</span><span class="o">**</span><span class="mi">2</span><span class="o">-</span><span class="n">y</span>

<span class="n">nlp</span> <span class="o">=</span> <span class="p">{}</span>                 <span class="c1"># NLP declaration</span>
<span class="n">nlp</span><span class="p">[</span><span class="s1">&#39;x&#39;</span><span class="p">]</span><span class="o">=</span> <span class="n">vertcat</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">,</span><span class="n">z</span><span class="p">)</span> <span class="c1"># decision vars</span>
<span class="n">nlp</span><span class="p">[</span><span class="s1">&#39;f&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">f</span>             <span class="c1"># objective</span>
<span class="n">nlp</span><span class="p">[</span><span class="s1">&#39;g&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">g</span>             <span class="c1"># constraints</span>

<span class="c1"># Create solver instance</span>
<span class="n">F</span> <span class="o">=</span> <span class="n">nlpsol</span><span class="p">(</span><span class="s1">&#39;F&#39;</span><span class="p">,</span><span class="s1">&#39;ipopt&#39;</span><span class="p">,</span><span class="n">nlp</span><span class="p">);</span>

<span class="c1"># Solve the problem using a guess</span>
<span class="n">F</span><span class="p">(</span><span class="n">x0</span><span class="o">=</span><span class="p">[</span><span class="mf">2.5</span><span class="p">,</span><span class="mf">3.0</span><span class="p">,</span><span class="mf">0.75</span><span class="p">],</span><span class="n">ubg</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="n">lbg</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span></code></pre></div>
<div class="highlight"><pre class="chroma"><code class="language-cpp" data-lang="cpp"><span class="cp">#include</span> <span class="cpf">&lt;casadi/casadi.hpp&gt;</span><span class="cp">
</span><span class="cp"></span><span class="k">using</span> <span class="k">namespace</span> <span class="n">casadi</span><span class="p">;</span>

<span class="c1">// Symbols/expressions
</span><span class="c1"></span><span class="n">MX</span> <span class="n">x</span> <span class="o">=</span> <span class="n">MX</span><span class="o">::</span><span class="n">sym</span><span class="p">(</span><span class="s">&#34;x&#34;</span><span class="p">);</span>
<span class="n">MX</span> <span class="n">y</span> <span class="o">=</span> <span class="n">MX</span><span class="o">::</span><span class="n">sym</span><span class="p">(</span><span class="s">&#34;y&#34;</span><span class="p">);</span>
<span class="n">MX</span> <span class="n">z</span> <span class="o">=</span> <span class="n">MX</span><span class="o">::</span><span class="n">sym</span><span class="p">(</span><span class="s">&#34;z&#34;</span><span class="p">);</span>
<span class="n">MX</span> <span class="n">f</span> <span class="o">=</span> <span class="n">pow</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span><span class="o">+</span><span class="mi">100</span><span class="o">*</span><span class="n">pow</span><span class="p">(</span><span class="n">z</span><span class="p">,</span><span class="mi">2</span><span class="p">);</span>
<span class="n">MX</span> <span class="n">g</span> <span class="o">=</span> <span class="n">z</span><span class="o">+</span><span class="n">pow</span><span class="p">(</span><span class="mi">1</span><span class="o">-</span><span class="n">x</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span><span class="o">-</span><span class="n">y</span><span class="p">;</span>

<span class="n">MXDict</span> <span class="n">nlp</span><span class="p">;</span>                 <span class="c1">// NLP declaration
</span><span class="c1"></span><span class="n">nlp</span><span class="p">[</span><span class="s">&#34;x&#34;</span><span class="p">]</span><span class="o">=</span> <span class="n">vertcat</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">,</span><span class="n">z</span><span class="p">);</span>   <span class="c1">// decision vars
</span><span class="c1"></span><span class="n">nlp</span><span class="p">[</span><span class="s">&#34;f&#34;</span><span class="p">]</span> <span class="o">=</span> <span class="n">f</span><span class="p">;</span>               <span class="c1">// objective
</span><span class="c1"></span><span class="n">nlp</span><span class="p">[</span><span class="s">&#34;g&#34;</span><span class="p">]</span> <span class="o">=</span> <span class="n">g</span><span class="p">;</span>               <span class="c1">// constraints
</span><span class="c1"></span>
<span class="c1">// Create solver instance
</span><span class="c1"></span><span class="n">Function</span> <span class="n">F</span> <span class="o">=</span> <span class="n">nlpsol</span><span class="p">(</span><span class="s">&#34;F&#34;</span><span class="p">,</span><span class="s">&#34;ipopt&#34;</span><span class="p">,</span><span class="n">nlp</span><span class="p">);</span>

<span class="c1">// Solve the problem using a guess
</span><span class="c1"></span><span class="n">F</span><span class="p">(</span><span class="n">DMDict</span><span class="p">{{</span><span class="s">&#34;x0&#34;</span><span class="p">,</span><span class="n">DM</span><span class="p">({</span><span class="mf">2.5</span><span class="p">,</span><span class="mf">3.0</span><span class="p">,</span><span class="mf">0.75</span><span class="p">})},{</span><span class="s">&#34;ubg&#34;</span><span class="p">,</span><span class="mi">0</span><span class="p">},{</span><span class="s">&#34;lbg&#34;</span><span class="p">,</span><span class="mi">0</span><span class="p">}});</span>
</code></pre></div>
</div>

<p></div>
</div></p>

    <footer>
      <div class="container">
        <div class="row justify-content-md-center">
          <div class="col-md-auto text-center">
            <ul id="social" class="list-inline">
              
                <li class="list-inline-item">
                  <a href="https://github.com/casadi/casadi" title="github">
                    <i class="fa fa-github"></i>
                  </a>
                </li>
              
                <li class="list-inline-item">
                  <a href="https://twitter.com/casadi_software" title="twitter">
                    <i class="fa fa-twitter"></i>
                  </a>
                </li>
              
                <li class="list-inline-item">
                  <a href="https://www.youtube.com/channel/UC3VDpv5Pi3R-a2VkcJN1RLw" title="youtube">
                    <i class="fa fa-youtube"></i>
                  </a>
                </li>
              
            </ul>
            <p class="copyright">Copyright 2018.</p>
          </div>
        </div>
      </div>
    </footer>

    
    <script type="text/javascript"
  src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>

    
    <script src="https://web.casadi.org/_js/bootstrap.min.js"></script>

    
    <script src="https://web.casadi.org/_js/scripts.js"></script>

    
    <script type="text/javascript" async
  src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.4/MathJax.js?config=TeX-AMS_CHTML">
</script>

    
  </body>

</html>

